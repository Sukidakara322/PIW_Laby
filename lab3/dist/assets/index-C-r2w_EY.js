function yE(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Dm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vE={exports:{}},gh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=Symbol.for("react.transitional.element"),yw=Symbol.for("react.fragment");function _E(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:pw,type:t,key:i,ref:e!==void 0?e:null,props:n}}gh.Fragment=yw;gh.jsx=_E;gh.jsxs=_E;vE.exports=gh;var G=vE.exports,EE={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=Symbol.for("react.transitional.element"),vw=Symbol.for("react.portal"),_w=Symbol.for("react.fragment"),Ew=Symbol.for("react.strict_mode"),Tw=Symbol.for("react.profiler"),Sw=Symbol.for("react.consumer"),Aw=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),ww=Symbol.for("react.suspense"),Rw=Symbol.for("react.memo"),TE=Symbol.for("react.lazy"),ny=Symbol.iterator;function Iw(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var SE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AE=Object.assign,bE={};function Ks(t,e,n){this.props=t,this.context=e,this.refs=bE,this.updater=n||SE}Ks.prototype.isReactComponent={};Ks.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ks.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wE(){}wE.prototype=Ks.prototype;function Nm(t,e,n){this.props=t,this.context=e,this.refs=bE,this.updater=n||SE}var Mm=Nm.prototype=new wE;Mm.constructor=Nm;AE(Mm,Ks.prototype);Mm.isPureReactComponent=!0;var iy=Array.isArray,Xe={H:null,A:null,T:null,S:null,V:null},RE=Object.prototype.hasOwnProperty;function Vm(t,e,n,i,r,a){return n=a.ref,{$$typeof:Om,type:t,key:e,ref:n!==void 0?n:null,props:a}}function Cw(t,e){return Vm(t.type,e,void 0,void 0,void 0,t.props)}function xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Om}function Dw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ry=/\/+/g;function cf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dw(""+t.key):e.toString(36)}function ay(){}function Ow(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ay,ay):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ka(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Om:case vw:s=!0;break;case TE:return s=t._init,Ka(s(t._payload),e,n,i,r)}}if(s)return r=r(t),s=i===""?"."+cf(t,0):i,iy(r)?(n="",s!=null&&(n=s.replace(ry,"$&/")+"/"),Ka(r,e,n,"",function(c){return c})):r!=null&&(xm(r)&&(r=Cw(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(ry,"$&/")+"/")+s)),e.push(r)),1;s=0;var l=i===""?".":i+":";if(iy(t))for(var u=0;u<t.length;u++)i=t[u],a=l+cf(i,u),s+=Ka(i,e,n,a,r);else if(u=Iw(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,a=l+cf(i,u++),s+=Ka(i,e,n,a,r);else if(a==="object"){if(typeof t.then=="function")return Ka(Ow(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Tu(t,e,n){if(t==null)return t;var i=[],r=0;return Ka(t,i,"","",function(a){return e.call(n,a,r++)}),i}function Nw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Mw(){}fe.Children={map:Tu,forEach:function(t,e,n){Tu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tu(t,function(){e++}),e},toArray:function(t){return Tu(t,function(e){return e})||[]},only:function(t){if(!xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Ks;fe.Fragment=_w;fe.Profiler=Tw;fe.PureComponent=Nm;fe.StrictMode=Ew;fe.Suspense=ww;fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xe;fe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Xe.H.useMemoCache(t)}};fe.cache=function(t){return function(){return t.apply(null,arguments)}};fe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=AE({},t.props),r=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(r=""+e.key),e)!RE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}return Vm(t.type,r,void 0,void 0,a,i)};fe.createContext=function(t){return t={$$typeof:Aw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Sw,_context:t},t};fe.createElement=function(t,e,n){var i,r={},a=null;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)RE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in s=t.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return Vm(t,a,void 0,void 0,null,r)};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:bw,render:t}};fe.isValidElement=xm;fe.lazy=function(t){return{$$typeof:TE,_payload:{_status:-1,_result:t},_init:Nw}};fe.memo=function(t,e){return{$$typeof:Rw,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Xe.T,n={};Xe.T=n;try{var i=t(),r=Xe.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Mw,sy)}catch(a){sy(a)}finally{Xe.T=e}};fe.unstable_useCacheRefresh=function(){return Xe.H.useCacheRefresh()};fe.use=function(t){return Xe.H.use(t)};fe.useActionState=function(t,e,n){return Xe.H.useActionState(t,e,n)};fe.useCallback=function(t,e){return Xe.H.useCallback(t,e)};fe.useContext=function(t){return Xe.H.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t,e){return Xe.H.useDeferredValue(t,e)};fe.useEffect=function(t,e,n){var i=Xe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};fe.useId=function(){return Xe.H.useId()};fe.useImperativeHandle=function(t,e,n){return Xe.H.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Xe.H.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Xe.H.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Xe.H.useMemo(t,e)};fe.useOptimistic=function(t,e){return Xe.H.useOptimistic(t,e)};fe.useReducer=function(t,e,n){return Xe.H.useReducer(t,e,n)};fe.useRef=function(t){return Xe.H.useRef(t)};fe.useState=function(t){return Xe.H.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Xe.H.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Xe.H.useTransition()};fe.version="19.1.0";EE.exports=fe;var U=EE.exports;const IE=Dm(U),Vw=yE({__proto__:null,default:IE},[U]);var CE={exports:{}},ph={},DE={exports:{}},OE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,re){var W=Q.length;Q.push(re);e:for(;0<W;){var Ie=W-1>>>1,Pe=Q[Ie];if(0<r(Pe,re))Q[Ie]=re,Q[W]=Pe,W=Ie;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var re=Q[0],W=Q.pop();if(W!==re){Q[0]=W;e:for(var Ie=0,Pe=Q.length,tn=Pe>>>1;Ie<tn;){var Ze=2*(Ie+1)-1,Le=Q[Ze],qt=Ze+1,et=Q[qt];if(0>r(Le,W))qt<Pe&&0>r(et,Le)?(Q[Ie]=et,Q[qt]=W,Ie=qt):(Q[Ie]=Le,Q[Ze]=W,Ie=Ze);else if(qt<Pe&&0>r(et,W))Q[Ie]=et,Q[qt]=W,Ie=qt;else break e}}return re}function r(Q,re){var W=Q.sortIndex-re.sortIndex;return W!==0?W:Q.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,m=null,g=3,y=!1,C=!1,O=!1,V=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function N(Q){for(var re=n(c);re!==null;){if(re.callback===null)i(c);else if(re.startTime<=Q)i(c),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(c)}}function B(Q){if(O=!1,N(Q),!C)if(n(u)!==null)C=!0,q||(q=!0,D());else{var re=n(c);re!==null&&ft(B,re.startTime-Q)}}var q=!1,p=-1,v=5,S=-1;function A(){return V?!0:!(t.unstable_now()-S<v)}function I(){if(V=!1,q){var Q=t.unstable_now();S=Q;var re=!0;try{e:{C=!1,O&&(O=!1,E(p),p=-1),y=!0;var W=g;try{t:{for(N(Q),m=n(u);m!==null&&!(m.expirationTime>Q&&A());){var Ie=m.callback;if(typeof Ie=="function"){m.callback=null,g=m.priorityLevel;var Pe=Ie(m.expirationTime<=Q);if(Q=t.unstable_now(),typeof Pe=="function"){m.callback=Pe,N(Q),re=!0;break t}m===n(u)&&i(u),N(Q)}else i(u);m=n(u)}if(m!==null)re=!0;else{var tn=n(c);tn!==null&&ft(B,tn.startTime-Q),re=!1}}break e}finally{m=null,g=W,y=!1}re=void 0}}finally{re?D():q=!1}}}var D;if(typeof b=="function")D=function(){b(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ze=w.port2;w.port1.onmessage=I,D=function(){ze.postMessage(null)}}else D=function(){T(I,0)};function ft(Q,re){p=T(function(){Q(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var W=g;g=re;try{return Q()}finally{g=W}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var W=g;g=Q;try{return re()}finally{g=W}},t.unstable_scheduleCallback=function(Q,re,W){var Ie=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Ie+W:Ie):W=Ie,Q){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=W+Pe,Q={id:f++,callback:re,priorityLevel:Q,startTime:W,expirationTime:Pe,sortIndex:-1},W>Ie?(Q.sortIndex=W,e(c,Q),n(u)===null&&Q===n(c)&&(O?(E(p),p=-1):O=!0,ft(B,W-Ie))):(Q.sortIndex=Pe,e(u,Q),C||y||(C=!0,q||(q=!0,D()))),Q},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(Q){var re=g;return function(){var W=g;g=re;try{return Q.apply(this,arguments)}finally{g=W}}}})(OE);DE.exports=OE;var xw=DE.exports,NE={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=U;function ME(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Xi(){}var Kt={d:{f:Xi,r:function(){throw Error(ME(522))},D:Xi,C:Xi,L:Xi,m:Xi,X:Xi,S:Xi,M:Xi},p:0,findDOMNode:null},Lw=Symbol.for("react.portal");function Uw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lw,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var jo=Pw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function yh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ME(299));return Uw(t,e,null,n)};Qt.flushSync=function(t){var e=jo.T,n=Kt.p;try{if(jo.T=null,Kt.p=2,t)return t()}finally{jo.T=e,Kt.p=n,Kt.d.f()}};Qt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Kt.d.C(t,e))};Qt.prefetchDNS=function(t){typeof t=="string"&&Kt.d.D(t)};Qt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=yh(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Kt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&Kt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Qt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=yh(e.as,e.crossOrigin);Kt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Kt.d.M(t)};Qt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=yh(n,e.crossOrigin);Kt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Qt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=yh(e.as,e.crossOrigin);Kt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Kt.d.m(t)};Qt.requestFormReset=function(t){Kt.d.r(t)};Qt.unstable_batchedUpdates=function(t,e){return t(e)};Qt.useFormState=function(t,e,n){return jo.H.useFormState(t,e,n)};Qt.useFormStatus=function(){return jo.H.useHostTransitionStatus()};Qt.version="19.1.0";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(t){console.error(t)}}VE(),NE.exports=Qt;var Pm=NE.exports;const kw=Dm(Pm),zw=yE({__proto__:null,default:kw},[Pm]);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=xw,xE=U,Bw=Pm;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function PE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oy(t){if(Nl(t)!==t)throw Error(z(188))}function jw(t){var e=t.alternate;if(!e){if(e=Nl(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return oy(r),t;if(a===i)return oy(r),e;a=a.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function UE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=UE(t),e!==null)return e;t=t.sibling}return null}var Fe=Object.assign,Hw=Symbol.for("react.element"),Su=Symbol.for("react.transitional.element"),Vo=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),kE=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),qw=Symbol.for("react.provider"),zE=Symbol.for("react.consumer"),Ti=Symbol.for("react.context"),Lm=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),ld=Symbol.for("react.suspense_list"),Um=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),ud=Symbol.for("react.activity"),Fw=Symbol.for("react.memo_cache_sentinel"),ly=Symbol.iterator;function So(t){return t===null||typeof t!="object"?null:(t=ly&&t[ly]||t["@@iterator"],typeof t=="function"?t:null)}var Gw=Symbol.for("react.client.reference");function cd(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Gw?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case es:return"Fragment";case sd:return"Profiler";case kE:return"StrictMode";case od:return"Suspense";case ld:return"SuspenseList";case ud:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Vo:return"Portal";case Ti:return(t.displayName||"Context")+".Provider";case zE:return(t._context.displayName||"Context")+".Consumer";case Lm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Um:return e=t.displayName||null,e!==null?e:cd(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return cd(t(e))}catch{}}return null}var xo=Array.isArray,se=xE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=Bw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sa={pending:!1,data:null,method:null,action:null},hd=[],ts=-1;function li(t){return{current:t}}function Rt(t){0>ts||(t.current=hd[ts],hd[ts]=null,ts--)}function $e(t,e){ts++,hd[ts]=t.current,t.current=e}var Jn=li(null),ol=li(null),gr=li(null),mc=li(null);function gc(t,e){switch($e(gr,e),$e(ol,t),$e(Jn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?dv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=dv(e),t=nS(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Rt(Jn),$e(Jn,t)}function bs(){Rt(Jn),Rt(ol),Rt(gr)}function fd(t){t.memoizedState!==null&&$e(mc,t);var e=Jn.current,n=nS(e,t.type);e!==n&&($e(ol,t),$e(Jn,n))}function pc(t){ol.current===t&&(Rt(Jn),Rt(ol)),mc.current===t&&(Rt(mc),yl._currentValue=sa)}var dd=Object.prototype.hasOwnProperty,km=Tt.unstable_scheduleCallback,hf=Tt.unstable_cancelCallback,Kw=Tt.unstable_shouldYield,Qw=Tt.unstable_requestPaint,ei=Tt.unstable_now,Yw=Tt.unstable_getCurrentPriorityLevel,BE=Tt.unstable_ImmediatePriority,jE=Tt.unstable_UserBlockingPriority,yc=Tt.unstable_NormalPriority,Xw=Tt.unstable_LowPriority,HE=Tt.unstable_IdlePriority,$w=Tt.log,Zw=Tt.unstable_setDisableYieldValue,Ml=null,hn=null;function ur(t){if(typeof $w=="function"&&Zw(t),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Ml,t)}catch{}}var fn=Math.clz32?Math.clz32:eR,Ww=Math.log,Jw=Math.LN2;function eR(t){return t>>>=0,t===0?32:31-(Ww(t)/Jw|0)|0}var Au=256,bu=4194304;function Zr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vh(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~a,i!==0?r=Zr(i):(s&=l,s!==0?r=Zr(s):n||(n=l&~t,n!==0&&(r=Zr(n))))):(l=i&~a,l!==0?r=Zr(l):s!==0?r=Zr(s):n||(n=i&~t,n!==0&&(r=Zr(n)))),r===0?0:e!==0&&e!==r&&!(e&a)&&(a=r&-r,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:r}function Vl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function tR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qE(){var t=Au;return Au<<=1,!(Au&4194048)&&(Au=256),t}function FE(){var t=bu;return bu<<=1,!(bu&62914560)&&(bu=4194304),t}function ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nR(t,e,n,i,r,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var f=31-fn(n),m=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var y=g[f];y!==null&&(y.lane&=-536870913)}n&=~m}i!==0&&GE(t,i,0),a!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function GE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-fn(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function KE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-fn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function zm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function QE(){var t=Re.p;return t!==0?t:(t=window.event,t===void 0?32:fS(t.type))}function iR(t,e){var n=Re.p;try{return Re.p=t,e()}finally{Re.p=n}}var kr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+kr,Jt="__reactProps$"+kr,Qs="__reactContainer$"+kr,md="__reactEvents$"+kr,rR="__reactListeners$"+kr,aR="__reactHandles$"+kr,uy="__reactResources$"+kr,Pl="__reactMarker$"+kr;function jm(t){delete t[Bt],delete t[Jt],delete t[md],delete t[rR],delete t[aR]}function ns(t){var e=t[Bt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qs]||n[Bt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pv(t);t!==null;){if(n=t[Bt])return n;t=pv(t)}return e}t=n,n=t.parentNode}return null}function Ys(t){if(t=t[Bt]||t[Qs]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Po(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function fs(t){var e=t[uy];return e||(e=t[uy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function bt(t){t[Pl]=!0}var YE=new Set,XE={};function ba(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(XE[t]=e,t=0;t<e.length;t++)YE.add(e[t])}var sR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cy={},hy={};function oR(t){return dd.call(hy,t)?!0:dd.call(cy,t)?!1:sR.test(t)?hy[t]=!0:(cy[t]=!0,!1)}function Fu(t,e,n){if(oR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function wu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function yi(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var df,fy;function Qa(t){if(df===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);df=e&&e[1]||"",fy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+df+t+fy}var mf=!1;function gf(t,e){if(!t||mf)return"";mf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var g=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){g=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){g=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&g&&typeof y.stack=="string")return[y.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var u=s.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{mf=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Qa(n):""}function lR(t){switch(t.tag){case 26:case 27:case 5:return Qa(t.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return gf(t.type,!1);case 11:return gf(t.type.render,!1);case 1:return gf(t.type,!0);case 31:return Qa("Activity");default:return""}}function dy(t){try{var e="";do e+=lR(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $E(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uR(t){var e=$E(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vc(t){t._valueTracker||(t._valueTracker=uR(t))}function ZE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$E(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cR=/[\n"\\]/g;function bn(t){return t.replace(cR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gd(t,e,n,i,r,a,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Tn(e)):t.value!==""+Tn(e)&&(t.value=""+Tn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?pd(t,s,Tn(e)):n!=null?pd(t,s,Tn(n)):i!=null&&t.removeAttribute("value"),r==null&&a!=null&&(t.defaultChecked=!!a),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Tn(l):t.removeAttribute("name")}function WE(t,e,n,i,r,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+Tn(n):"",e=e!=null?""+Tn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function pd(t,e,n){e==="number"&&_c(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ds(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function JE(t,e,n){if(e!=null&&(e=""+Tn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Tn(n):""}function e0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(z(92));if(xo(i)){if(1<i.length)throw Error(z(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Tn(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Rs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function my(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||hR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function t0(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&my(t,r,i)}else for(var a in e)e.hasOwnProperty(a)&&my(t,a,e[a])}function Hm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gu(t){return dR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yd=null;function qm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var is=null,ms=null;function gy(t){var e=Ys(t);if(e&&(t=e.stateNode)){var n=t[Jt]||null;e:switch(t=e.stateNode,e.type){case"input":if(gd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Jt]||null;if(!r)throw Error(z(90));gd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&ZE(i)}break e;case"textarea":JE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ds(t,!!n.multiple,e,!1)}}}var pf=!1;function n0(t,e,n){if(pf)return t(e,n);pf=!0;try{var i=t(e);return i}finally{if(pf=!1,(is!==null||ms!==null)&&(Ch(),is&&(e=is,t=ms,ms=is=null,gy(e),t)))for(e=0;e<t.length;e++)gy(t[e])}}function ll(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Jt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=!1;if(Mi)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){vd=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{vd=!1}var cr=null,Fm=null,Ku=null;function i0(){if(Ku)return Ku;var t,e=Fm,n=e.length,i,r="value"in cr?cr.value:cr.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return Ku=r.slice(t,1<i?1-i:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function py(){return!1}function en(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ru:py,this.isPropagationStopped=py,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=en(wa),Ll=Fe({},wa,{view:0,detail:0}),mR=en(Ll),yf,vf,bo,Eh=Fe({},Ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(yf=t.screenX-bo.screenX,vf=t.screenY-bo.screenY):vf=yf=0,bo=t),yf)},movementY:function(t){return"movementY"in t?t.movementY:vf}}),yy=en(Eh),gR=Fe({},Eh,{dataTransfer:0}),pR=en(gR),yR=Fe({},Ll,{relatedTarget:0}),_f=en(yR),vR=Fe({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),_R=en(vR),ER=Fe({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TR=en(ER),SR=Fe({},wa,{data:0}),vy=en(SR),AR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wR[t])?!!e[t]:!1}function Gm(){return RR}var IR=Fe({},Ll,{key:function(t){if(t.key){var e=AR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gm,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CR=en(IR),DR=Fe({},Eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=en(DR),OR=Fe({},Ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gm}),NR=en(OR),MR=Fe({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),VR=en(MR),xR=Fe({},Eh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PR=en(xR),LR=Fe({},wa,{newState:0,oldState:0}),UR=en(LR),kR=[9,13,27,32],Km=Mi&&"CompositionEvent"in window,Ho=null;Mi&&"documentMode"in document&&(Ho=document.documentMode);var zR=Mi&&"TextEvent"in window&&!Ho,r0=Mi&&(!Km||Ho&&8<Ho&&11>=Ho),Ey=" ",Ty=!1;function a0(t,e){switch(t){case"keyup":return kR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rs=!1;function BR(t,e){switch(t){case"compositionend":return s0(e);case"keypress":return e.which!==32?null:(Ty=!0,Ey);case"textInput":return t=e.data,t===Ey&&Ty?null:t;default:return null}}function jR(t,e){if(rs)return t==="compositionend"||!Km&&a0(t,e)?(t=i0(),Ku=Fm=cr=null,rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r0&&e.locale!=="ko"?null:e.data;default:return null}}var HR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HR[t.type]:e==="textarea"}function o0(t,e,n,i){is?ms?ms.push(i):ms=[i]:is=i,e=Uc(e,"onChange"),0<e.length&&(n=new _h("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qo=null,ul=null;function qR(t){JT(t,0)}function Th(t){var e=Po(t);if(ZE(e))return t}function Ay(t,e){if(t==="change")return e}var l0=!1;if(Mi){var Ef;if(Mi){var Tf="oninput"in document;if(!Tf){var by=document.createElement("div");by.setAttribute("oninput","return;"),Tf=typeof by.oninput=="function"}Ef=Tf}else Ef=!1;l0=Ef&&(!document.documentMode||9<document.documentMode)}function wy(){qo&&(qo.detachEvent("onpropertychange",u0),ul=qo=null)}function u0(t){if(t.propertyName==="value"&&Th(ul)){var e=[];o0(e,ul,t,qm(t)),n0(qR,e)}}function FR(t,e,n){t==="focusin"?(wy(),qo=e,ul=n,qo.attachEvent("onpropertychange",u0)):t==="focusout"&&wy()}function GR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th(ul)}function KR(t,e){if(t==="click")return Th(e)}function QR(t,e){if(t==="input"||t==="change")return Th(e)}function YR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:YR;function cl(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!dd.call(e,r)||!gn(t[r],e[r]))return!1}return!0}function Ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iy(t,e){var n=Ry(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ry(n)}}function c0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function h0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=_c(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_c(t.document)}return e}function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var XR=Mi&&"documentMode"in document&&11>=document.documentMode,as=null,_d=null,Fo=null,Ed=!1;function Cy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ed||as==null||as!==_c(i)||(i=as,"selectionStart"in i&&Qm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fo&&cl(Fo,i)||(Fo=i,i=Uc(_d,"onSelect"),0<i.length&&(e=new _h("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=as)))}function $r(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ss={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Sf={},f0={};Mi&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function Ra(t){if(Sf[t])return Sf[t];if(!ss[t])return t;var e=ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f0)return Sf[t]=e[n];return t}var d0=Ra("animationend"),m0=Ra("animationiteration"),g0=Ra("animationstart"),$R=Ra("transitionrun"),ZR=Ra("transitionstart"),WR=Ra("transitioncancel"),p0=Ra("transitionend"),y0=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function Hn(t,e){y0.set(t,e),ba(e,[t])}var Dy=new WeakMap;function wn(t,e){if(typeof t=="object"&&t!==null){var n=Dy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:dy(e)},Dy.set(t,e),e)}return{value:t,source:e,stack:dy(e)}}var En=[],os=0,Ym=0;function Sh(){for(var t=os,e=Ym=os=0;e<t;){var n=En[e];En[e++]=null;var i=En[e];En[e++]=null;var r=En[e];En[e++]=null;var a=En[e];if(En[e++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&v0(n,r,a)}}function Ah(t,e,n,i){En[os++]=t,En[os++]=e,En[os++]=n,En[os++]=i,Ym|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Xm(t,e,n,i){return Ah(t,e,n,i),Ec(t)}function Xs(t,e){return Ah(t,null,null,e),Ec(t)}function v0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=t.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(r=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,r&&e!==null&&(r=31-fn(n),t=a.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),a):null}function Ec(t){if(50<el)throw el=0,Hd=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ls={};function JR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,i){return new JR(t,e,n,i)}function $m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function _0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Yu(t,e,n,i,r,a){var s=0;if(i=t,typeof t=="function")$m(t)&&(s=1);else if(typeof t=="string")s=tI(t,n,Jn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ud:return t=cn(31,n,e,r),t.elementType=ud,t.lanes=a,t;case es:return oa(n.children,r,a,e);case kE:s=8,r|=24;break;case sd:return t=cn(12,n,e,r|2),t.elementType=sd,t.lanes=a,t;case od:return t=cn(13,n,e,r),t.elementType=od,t.lanes=a,t;case ld:return t=cn(19,n,e,r),t.elementType=ld,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qw:case Ti:s=10;break e;case zE:s=9;break e;case Lm:s=11;break e;case Um:s=14;break e;case er:s=16,i=null;break e}s=29,n=Error(z(130,t===null?"null":typeof t,"")),i=null}return e=cn(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function oa(t,e,n,i){return t=cn(7,t,i,e),t.lanes=n,t}function Af(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function bf(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var us=[],cs=0,Tc=null,Sc=0,Sn=[],An=0,la=null,Si=1,Ai="";function Wr(t,e){us[cs++]=Sc,us[cs++]=Tc,Tc=t,Sc=e}function E0(t,e,n){Sn[An++]=Si,Sn[An++]=Ai,Sn[An++]=la,la=t;var i=Si;t=Ai;var r=32-fn(i)-1;i&=~(1<<r),n+=1;var a=32-fn(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Si=1<<32-fn(e)+r|n<<r|i,Ai=a+t}else Si=1<<a|n<<r|i,Ai=t}function Zm(t){t.return!==null&&(Wr(t,1),E0(t,1,0))}function Wm(t){for(;t===Tc;)Tc=us[--cs],us[cs]=null,Sc=us[--cs],us[cs]=null;for(;t===la;)la=Sn[--An],Sn[An]=null,Ai=Sn[--An],Sn[An]=null,Si=Sn[--An],Sn[An]=null}var Gt=null,nt=null,we=!1,ua=null,$n=!1,Sd=Error(z(519));function ma(t){var e=Error(z(418,""));throw hl(wn(e,t)),Sd}function Oy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Bt]=t,e[Jt]=i,n){case"dialog":pe("cancel",e),pe("close",e);break;case"iframe":case"object":case"embed":pe("load",e);break;case"video":case"audio":for(n=0;n<ml.length;n++)pe(ml[n],e);break;case"source":pe("error",e);break;case"img":case"image":case"link":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"input":pe("invalid",e),WE(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),vc(e);break;case"select":pe("invalid",e);break;case"textarea":pe("invalid",e),e0(e,i.value,i.defaultValue,i.children),vc(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||tS(e.textContent,n)?(i.popover!=null&&(pe("beforetoggle",e),pe("toggle",e)),i.onScroll!=null&&pe("scroll",e),i.onScrollEnd!=null&&pe("scrollend",e),i.onClick!=null&&(e.onclick=Nh),e=!0):e=!1,e||ma(t)}function Ny(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Gt=Gt.return}}function wo(t){if(t!==Gt)return!1;if(!we)return Ny(t),we=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Yd(t.type,t.memoizedProps)),n=!n),n&&nt&&ma(t),Ny(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){nt=zn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}nt=null}}else e===27?(e=nt,zr(t.type)?(t=Zd,Zd=null,nt=t):nt=e):nt=Gt?zn(t.stateNode.nextSibling):null;return!0}function Ul(){nt=Gt=null,we=!1}function My(){var t=ua;return t!==null&&(Zt===null?Zt=t:Zt.push.apply(Zt,t),ua=null),t}function hl(t){ua===null?ua=[t]:ua.push(t)}var Ad=li(null),Ia=null,bi=null;function nr(t,e,n){$e(Ad,e._currentValue),e._currentValue=n}function Di(t){t._currentValue=Ad.current,Rt(Ad)}function bd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function wd(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),bd(a.return,n,t),i||(s=null);break e}a=l.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),bd(s,n,t),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===t){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function kl(t,e,n,i){t=null;for(var r=e,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var l=r.type;gn(r.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(r===mc.current){if(s=r.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}r=r.return}t!==null&&wd(e,t,n,i),e.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){Ia=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return T0(Ia,t)}function Iu(t,e){return Ia===null&&ga(t),T0(t,e)}function T0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},bi===null){if(t===null)throw Error(z(308));bi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else bi=bi.next=e;return n}var e1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},t1=Tt.unstable_scheduleCallback,n1=Tt.unstable_NormalPriority,pt={$$typeof:Ti,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jm(){return{controller:new e1,data:new Map,refCount:0}}function zl(t){t.refCount--,t.refCount===0&&t1(n1,function(){t.controller.abort()})}var Go=null,Rd=0,Is=0,gs=null;function i1(t,e){if(Go===null){var n=Go=[];Rd=0,Is=Sg(),gs={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Rd++,e.then(Vy,Vy),e}function Vy(){if(--Rd===0&&Go!==null){gs!==null&&(gs.status="fulfilled");var t=Go;Go=null,Is=0,gs=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function r1(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var xy=se.S;se.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&i1(t,e),xy!==null&&xy(t,e)};var ca=li(null);function eg(){var t=ca.current;return t!==null?t:je.pooledCache}function Xu(t,e){e===null?$e(ca,ca.current):$e(ca,e.pool)}function S0(){var t=eg();return t===null?null:{parent:pt._currentValue,pool:t}}var Bl=Error(z(460)),A0=Error(z(474)),bh=Error(z(542)),Id={then:function(){}};function Py(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function b0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Cu,Cu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Uy(t),t;default:if(typeof e.status=="string")e.then(Cu,Cu);else{if(t=je,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Uy(t),t}throw Ko=e,Bl}}var Ko=null;function Ly(){if(Ko===null)throw Error(z(459));var t=Ko;return Ko=null,t}function Uy(t){if(t===Bl||t===bh)throw Error(z(483))}var tr=!1;function tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Me&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Ec(t),v0(t,null,n),e}return Ah(t,i,e,n),Ec(t)}function Qo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,KE(t,n)}}function wf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Dd=!1;function Yo(){if(Dd){var t=gs;if(t!==null)throw t}}function Xo(t,e,n,i){Dd=!1;var r=t.updateQueue;tr=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(a!==null){var m=r.baseState;s=0,f=c=u=null,l=a;do{var g=l.lane&-536870913,y=g!==l.lane;if(y?(Ae&g)===g:(i&g)===g){g!==0&&g===Is&&(Dd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,O=l;g=e;var V=n;switch(O.tag){case 1:if(C=O.payload,typeof C=="function"){m=C.call(V,m,g);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=O.payload,g=typeof C=="function"?C.call(V,m,g):C,g==null)break e;m=Fe({},m,g);break e;case 2:tr=!0}}g=l.callback,g!==null&&(t.flags|=64,y&&(t.flags|=8192),y=r.callbacks,y===null?r.callbacks=[g]:y.push(g))}else y={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=m):f=f.next=y,s|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,a===null&&(r.shared.lanes=0),Nr|=s,t.lanes=s,t.memoizedState=m}}function w0(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function R0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)w0(n[t],e)}var Cs=li(null),bc=li(0);function ky(t,e){t=Pi,$e(bc,t),$e(Cs,e),Pi=t|e.baseLanes}function Od(){$e(bc,Pi),$e(Cs,Cs.current)}function ng(){Pi=bc.current,Rt(Cs),Rt(bc)}var Dr=0,me=null,xe=null,ct=null,wc=!1,ps=!1,pa=!1,Rc=0,fl=0,ys=null,a1=0;function rt(){throw Error(z(321))}function ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function rg(t,e,n,i,r,a){return Dr=a,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,se.H=t===null||t.memoizedState===null?iT:rT,pa=!1,a=n(i,r),pa=!1,ps&&(a=C0(e,n,i,r)),I0(t),a}function I0(t){se.H=Ic;var e=xe!==null&&xe.next!==null;if(Dr=0,ct=xe=me=null,wc=!1,fl=0,ys=null,e)throw Error(z(300));t===null||wt||(t=t.dependencies,t!==null&&Ac(t)&&(wt=!0))}function C0(t,e,n,i){me=t;var r=0;do{if(ps&&(ys=null),fl=0,ps=!1,25<=r)throw Error(z(301));if(r+=1,ct=xe=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}se.H=f1,a=e(n,i)}while(ps);return a}function s1(){var t=se.H,e=t.useState()[0];return e=typeof e.then=="function"?jl(e):e,t=t.useState()[0],(xe!==null?xe.memoizedState:null)!==t&&(me.flags|=1024),e}function ag(){var t=Rc!==0;return Rc=0,t}function sg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function og(t){if(wc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}wc=!1}Dr=0,ct=xe=me=null,ps=!1,fl=Rc=0,ys=null}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?me.memoizedState=ct=t:ct=ct.next=t,ct}function ht(){if(xe===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=xe.next;var e=ct===null?me.memoizedState:ct.next;if(e!==null)ct=e,xe=t;else{if(t===null)throw me.alternate===null?Error(z(467)):Error(z(310));xe=t,t={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},ct===null?me.memoizedState=ct=t:ct=ct.next=t}return ct}function lg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var e=fl;return fl+=1,ys===null&&(ys=[]),t=b0(ys,t,e),e=me,(ct===null?e.memoizedState:ct.next)===null&&(e=e.alternate,se.H=e===null||e.memoizedState===null?iT:rT),t}function wh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===Ti)return jt(t)}throw Error(z(438,String(t)))}function ug(t){var e=null,n=me.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=me.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=lg(),me.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Fw;return e.index++,n}function Vi(t,e){return typeof e=="function"?e(t):e}function $u(t){var e=ht();return cg(e,xe,t)}function cg(t,e,n){var i=t.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=n;var r=t.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}e.baseQueue=r=a,i.pending=null}if(a=t.baseState,r===null)t.memoizedState=a;else{e=r.next;var l=s=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Ae&m)===m:(Dr&m)===m){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Is&&(f=!0);else if((Dr&g)===g){c=c.next,g===Is&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,s=a):u=u.next=m,me.lanes|=g,Nr|=g;m=c.action,pa&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else g={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,s=a):u=u.next=g,me.lanes|=m,Nr|=m;c=c.next}while(c!==null&&c!==e);if(u===null?s=a:u.next=l,!gn(a,t.memoizedState)&&(wt=!0,f&&(n=gs,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=u,i.lastRenderedState=a}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Rf(t){var e=ht(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);gn(a,e.memoizedState)||(wt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function D0(t,e,n){var i=me,r=ht(),a=we;if(a){if(n===void 0)throw Error(z(407));n=n()}else n=e();var s=!gn((xe||r).memoizedState,n);s&&(r.memoizedState=n,wt=!0),r=r.queue;var l=M0.bind(null,i,r,t);if(Hl(2048,8,l,[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(i.flags|=2048,Ds(9,Rh(),N0.bind(null,i,r,n,e),null),je===null)throw Error(z(349));a||Dr&124||O0(i,e,n)}return n}function O0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e=lg(),me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function N0(t,e,n,i){e.value=n,e.getSnapshot=i,V0(e)&&x0(t)}function M0(t,e,n){return n(function(){V0(e)&&x0(t)})}function V0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function x0(t){var e=Xs(t,2);e!==null&&mn(e,t,2)}function Nd(t){var e=Yt();if(typeof t=="function"){var n=t;if(t=n(),pa){ur(!0);try{n()}finally{ur(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},e}function P0(t,e,n,i){return t.baseState=n,cg(t,xe,typeof i=="function"?i:Vi)}function o1(t,e,n,i,r){if(Ih(t))throw Error(z(485));if(t=e.action,t!==null){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};se.T!==null?n(!0):a.isTransition=!1,i(a),n=e.pending,n===null?(a.next=e.pending=a,L0(e,a)):(a.next=n.next,e.pending=n.next=a)}}function L0(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var a=se.T,s={};se.T=s;try{var l=n(r,i),u=se.S;u!==null&&u(s,l),zy(t,e,l)}catch(c){Md(t,e,c)}finally{se.T=a}}else try{a=n(r,i),zy(t,e,a)}catch(c){Md(t,e,c)}}function zy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){By(t,e,i)},function(i){return Md(t,e,i)}):By(t,e,n)}function By(t,e,n){e.status="fulfilled",e.value=n,U0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,L0(t,n)))}function Md(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,U0(e),e=e.next;while(e!==i)}t.action=null}function U0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function k0(t,e){return e}function jy(t,e){if(we){var n=je.formState;if(n!==null){e:{var i=me;if(we){if(nt){t:{for(var r=nt,a=$n;r.nodeType!==8;){if(!a){r=null;break t}if(r=zn(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){nt=zn(r.nextSibling),i=r.data==="F!";break e}}ma(i)}i=!1}i&&(e=n[0])}}return n=Yt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k0,lastRenderedState:e},n.queue=i,n=eT.bind(null,me,i),i.dispatch=n,i=Nd(!1),a=mg.bind(null,me,!1,i.queue),i=Yt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=o1.bind(null,me,r,a,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Hy(t){var e=ht();return z0(e,xe,t)}function z0(t,e,n){if(e=cg(t,e,k0)[0],t=$u(Vi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=jl(e)}catch(s){throw s===Bl?bh:s}else i=e;e=ht();var r=e.queue,a=r.dispatch;return n!==e.memoizedState&&(me.flags|=2048,Ds(9,Rh(),l1.bind(null,r,n),null)),[i,a,t]}function l1(t,e){t.action=e}function qy(t){var e=ht(),n=xe;if(n!==null)return z0(e,n,t);ht(),e=e.memoizedState,n=ht();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ds(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=me.updateQueue,e===null&&(e=lg(),me.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Rh(){return{destroy:void 0,resource:void 0}}function B0(){return ht().memoizedState}function Zu(t,e,n,i){var r=Yt();i=i===void 0?null:i,me.flags|=t,r.memoizedState=Ds(1|e,Rh(),n,i)}function Hl(t,e,n,i){var r=ht();i=i===void 0?null:i;var a=r.memoizedState.inst;xe!==null&&i!==null&&ig(i,xe.memoizedState.deps)?r.memoizedState=Ds(e,a,n,i):(me.flags|=t,r.memoizedState=Ds(1|e,a,n,i))}function Fy(t,e){Zu(8390656,8,t,e)}function j0(t,e){Hl(2048,8,t,e)}function H0(t,e){return Hl(4,2,t,e)}function q0(t,e){return Hl(4,4,t,e)}function F0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G0(t,e,n){n=n!=null?n.concat([t]):null,Hl(4,4,F0.bind(null,e,t),n)}function hg(){}function K0(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&ig(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Q0(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&ig(e,i[1]))return i[0];if(i=t(),pa){ur(!0);try{t()}finally{ur(!1)}}return n.memoizedState=[i,e],i}function fg(t,e,n){return n===void 0||Dr&1073741824?t.memoizedState=e:(t.memoizedState=n,t=UT(),me.lanes|=t,Nr|=t,n)}function Y0(t,e,n,i){return gn(n,e)?n:Cs.current!==null?(t=fg(t,n,i),gn(t,e)||(wt=!0),t):Dr&42?(t=UT(),me.lanes|=t,Nr|=t,e):(wt=!0,t.memoizedState=n)}function X0(t,e,n,i,r){var a=Re.p;Re.p=a!==0&&8>a?a:8;var s=se.T,l={};se.T=l,mg(t,!1,e,n);try{var u=r(),c=se.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=r1(u,i);$o(t,e,f,dn(t))}else $o(t,e,i,dn(t))}catch(m){$o(t,e,{then:function(){},status:"rejected",reason:m},dn())}finally{Re.p=a,se.T=s}}function u1(){}function Vd(t,e,n,i){if(t.tag!==5)throw Error(z(476));var r=$0(t).queue;X0(t,r,e,sa,n===null?u1:function(){return Z0(t),n(i)})}function $0(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:sa,baseState:sa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:sa},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Z0(t){var e=$0(t).next.queue;$o(t,e,{},dn())}function dg(){return jt(yl)}function W0(){return ht().memoizedState}function J0(){return ht().memoizedState}function c1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=dn();t=pr(n);var i=yr(e,t,n);i!==null&&(mn(i,e,n),Qo(i,e,n)),e={cache:Jm()},t.payload=e;return}e=e.return}}function h1(t,e,n){var i=dn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(t)?tT(e,n):(n=Xm(t,e,n,i),n!==null&&(mn(n,t,i),nT(n,e,i)))}function eT(t,e,n){var i=dn();$o(t,e,n,i)}function $o(t,e,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ih(t))tT(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(r.hasEagerState=!0,r.eagerState=l,gn(l,s))return Ah(t,e,r,0),je===null&&Sh(),!1}catch{}finally{}if(n=Xm(t,e,r,i),n!==null)return mn(n,t,i),nT(n,e,i),!0}return!1}function mg(t,e,n,i){if(i={lane:2,revertLane:Sg(),action:i,hasEagerState:!1,eagerState:null,next:null},Ih(t)){if(e)throw Error(z(479))}else e=Xm(t,n,i,2),e!==null&&mn(e,t,2)}function Ih(t){var e=t.alternate;return t===me||e!==null&&e===me}function tT(t,e){ps=wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nT(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,KE(t,n)}}var Ic={readContext:jt,use:wh,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},iT={readContext:jt,use:wh,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:Fy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zu(4194308,4,F0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){Zu(4,2,t,e)},useMemo:function(t,e){var n=Yt();e=e===void 0?null:e;var i=t();if(pa){ur(!0);try{t()}finally{ur(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Yt();if(n!==void 0){var r=n(e);if(pa){ur(!0);try{n(e)}finally{ur(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=h1.bind(null,me,t),[i.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:function(t){t=Nd(t);var e=t.queue,n=eT.bind(null,me,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hg,useDeferredValue:function(t,e){var n=Yt();return fg(n,t,e)},useTransition:function(){var t=Nd(!1);return t=X0.bind(null,me,t.queue,!0,!1),Yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=me,r=Yt();if(we){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),je===null)throw Error(z(349));Ae&124||O0(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,Fy(M0.bind(null,i,a,t),[t]),i.flags|=2048,Ds(9,Rh(),N0.bind(null,i,a,n,e),null),n},useId:function(){var t=Yt(),e=je.identifierPrefix;if(we){var n=Ai,i=Si;n=(i&~(1<<32-fn(i)-1)).toString(32)+n,e=""+e+"R"+n,n=Rc++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=a1++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:dg,useFormState:jy,useActionState:jy,useOptimistic:function(t){var e=Yt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=mg.bind(null,me,!0,n),n.dispatch=e,[t,e]},useMemoCache:ug,useCacheRefresh:function(){return Yt().memoizedState=c1.bind(null,me)}},rT={readContext:jt,use:wh,useCallback:K0,useContext:jt,useEffect:j0,useImperativeHandle:G0,useInsertionEffect:H0,useLayoutEffect:q0,useMemo:Q0,useReducer:$u,useRef:B0,useState:function(){return $u(Vi)},useDebugValue:hg,useDeferredValue:function(t,e){var n=ht();return Y0(n,xe.memoizedState,t,e)},useTransition:function(){var t=$u(Vi)[0],e=ht().memoizedState;return[typeof t=="boolean"?t:jl(t),e]},useSyncExternalStore:D0,useId:W0,useHostTransitionStatus:dg,useFormState:Hy,useActionState:Hy,useOptimistic:function(t,e){var n=ht();return P0(n,xe,t,e)},useMemoCache:ug,useCacheRefresh:J0},f1={readContext:jt,use:wh,useCallback:K0,useContext:jt,useEffect:j0,useImperativeHandle:G0,useInsertionEffect:H0,useLayoutEffect:q0,useMemo:Q0,useReducer:Rf,useRef:B0,useState:function(){return Rf(Vi)},useDebugValue:hg,useDeferredValue:function(t,e){var n=ht();return xe===null?fg(n,t,e):Y0(n,xe.memoizedState,t,e)},useTransition:function(){var t=Rf(Vi)[0],e=ht().memoizedState;return[typeof t=="boolean"?t:jl(t),e]},useSyncExternalStore:D0,useId:W0,useHostTransitionStatus:dg,useFormState:qy,useActionState:qy,useOptimistic:function(t,e){var n=ht();return xe!==null?P0(n,xe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ug,useCacheRefresh:J0},vs=null,dl=0;function Du(t){var e=dl;return dl+=1,vs===null&&(vs=[]),b0(vs,t,e)}function Ro(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ou(t,e){throw e.$$typeof===Hw?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Gy(t){var e=t._init;return e(t._payload)}function aT(t){function e(T,E){if(t){var b=T.deletions;b===null?(T.deletions=[E],T.flags|=16):b.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function i(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function r(T,E){return T=Ci(T,E),T.index=0,T.sibling=null,T}function a(T,E,b){return T.index=b,t?(b=T.alternate,b!==null?(b=b.index,b<E?(T.flags|=67108866,E):b):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function s(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,E,b,N){return E===null||E.tag!==6?(E=Af(b,T.mode,N),E.return=T,E):(E=r(E,b),E.return=T,E)}function u(T,E,b,N){var B=b.type;return B===es?f(T,E,b.props.children,N,b.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===er&&Gy(B)===E.type)?(E=r(E,b.props),Ro(E,b),E.return=T,E):(E=Yu(b.type,b.key,b.props,null,T.mode,N),Ro(E,b),E.return=T,E)}function c(T,E,b,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=bf(b,T.mode,N),E.return=T,E):(E=r(E,b.children||[]),E.return=T,E)}function f(T,E,b,N,B){return E===null||E.tag!==7?(E=oa(b,T.mode,N,B),E.return=T,E):(E=r(E,b),E.return=T,E)}function m(T,E,b){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Af(""+E,T.mode,b),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Su:return b=Yu(E.type,E.key,E.props,null,T.mode,b),Ro(b,E),b.return=T,b;case Vo:return E=bf(E,T.mode,b),E.return=T,E;case er:var N=E._init;return E=N(E._payload),m(T,E,b)}if(xo(E)||So(E))return E=oa(E,T.mode,b,null),E.return=T,E;if(typeof E.then=="function")return m(T,Du(E),b);if(E.$$typeof===Ti)return m(T,Iu(T,E),b);Ou(T,E)}return null}function g(T,E,b,N){var B=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return B!==null?null:l(T,E,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Su:return b.key===B?u(T,E,b,N):null;case Vo:return b.key===B?c(T,E,b,N):null;case er:return B=b._init,b=B(b._payload),g(T,E,b,N)}if(xo(b)||So(b))return B!==null?null:f(T,E,b,N,null);if(typeof b.then=="function")return g(T,E,Du(b),N);if(b.$$typeof===Ti)return g(T,E,Iu(T,b),N);Ou(T,b)}return null}function y(T,E,b,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return T=T.get(b)||null,l(E,T,""+N,B);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Su:return T=T.get(N.key===null?b:N.key)||null,u(E,T,N,B);case Vo:return T=T.get(N.key===null?b:N.key)||null,c(E,T,N,B);case er:var q=N._init;return N=q(N._payload),y(T,E,b,N,B)}if(xo(N)||So(N))return T=T.get(b)||null,f(E,T,N,B,null);if(typeof N.then=="function")return y(T,E,b,Du(N),B);if(N.$$typeof===Ti)return y(T,E,b,Iu(E,N),B);Ou(E,N)}return null}function C(T,E,b,N){for(var B=null,q=null,p=E,v=E=0,S=null;p!==null&&v<b.length;v++){p.index>v?(S=p,p=null):S=p.sibling;var A=g(T,p,b[v],N);if(A===null){p===null&&(p=S);break}t&&p&&A.alternate===null&&e(T,p),E=a(A,E,v),q===null?B=A:q.sibling=A,q=A,p=S}if(v===b.length)return n(T,p),we&&Wr(T,v),B;if(p===null){for(;v<b.length;v++)p=m(T,b[v],N),p!==null&&(E=a(p,E,v),q===null?B=p:q.sibling=p,q=p);return we&&Wr(T,v),B}for(p=i(p);v<b.length;v++)S=y(p,T,v,b[v],N),S!==null&&(t&&S.alternate!==null&&p.delete(S.key===null?v:S.key),E=a(S,E,v),q===null?B=S:q.sibling=S,q=S);return t&&p.forEach(function(I){return e(T,I)}),we&&Wr(T,v),B}function O(T,E,b,N){if(b==null)throw Error(z(151));for(var B=null,q=null,p=E,v=E=0,S=null,A=b.next();p!==null&&!A.done;v++,A=b.next()){p.index>v?(S=p,p=null):S=p.sibling;var I=g(T,p,A.value,N);if(I===null){p===null&&(p=S);break}t&&p&&I.alternate===null&&e(T,p),E=a(I,E,v),q===null?B=I:q.sibling=I,q=I,p=S}if(A.done)return n(T,p),we&&Wr(T,v),B;if(p===null){for(;!A.done;v++,A=b.next())A=m(T,A.value,N),A!==null&&(E=a(A,E,v),q===null?B=A:q.sibling=A,q=A);return we&&Wr(T,v),B}for(p=i(p);!A.done;v++,A=b.next())A=y(p,T,v,A.value,N),A!==null&&(t&&A.alternate!==null&&p.delete(A.key===null?v:A.key),E=a(A,E,v),q===null?B=A:q.sibling=A,q=A);return t&&p.forEach(function(D){return e(T,D)}),we&&Wr(T,v),B}function V(T,E,b,N){if(typeof b=="object"&&b!==null&&b.type===es&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Su:e:{for(var B=b.key;E!==null;){if(E.key===B){if(B=b.type,B===es){if(E.tag===7){n(T,E.sibling),N=r(E,b.props.children),N.return=T,T=N;break e}}else if(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===er&&Gy(B)===E.type){n(T,E.sibling),N=r(E,b.props),Ro(N,b),N.return=T,T=N;break e}n(T,E);break}else e(T,E);E=E.sibling}b.type===es?(N=oa(b.props.children,T.mode,N,b.key),N.return=T,T=N):(N=Yu(b.type,b.key,b.props,null,T.mode,N),Ro(N,b),N.return=T,T=N)}return s(T);case Vo:e:{for(B=b.key;E!==null;){if(E.key===B)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(T,E.sibling),N=r(E,b.children||[]),N.return=T,T=N;break e}else{n(T,E);break}else e(T,E);E=E.sibling}N=bf(b,T.mode,N),N.return=T,T=N}return s(T);case er:return B=b._init,b=B(b._payload),V(T,E,b,N)}if(xo(b))return C(T,E,b,N);if(So(b)){if(B=So(b),typeof B!="function")throw Error(z(150));return b=B.call(b),O(T,E,b,N)}if(typeof b.then=="function")return V(T,E,Du(b),N);if(b.$$typeof===Ti)return V(T,E,Iu(T,b),N);Ou(T,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,E!==null&&E.tag===6?(n(T,E.sibling),N=r(E,b),N.return=T,T=N):(n(T,E),N=Af(b,T.mode,N),N.return=T,T=N),s(T)):n(T,E)}return function(T,E,b,N){try{dl=0;var B=V(T,E,b,N);return vs=null,B}catch(p){if(p===Bl||p===bh)throw p;var q=cn(29,p,null,T.mode);return q.lanes=N,q.return=T,q}finally{}}}var Os=aT(!0),sT=aT(!1),Cn=li(null),ti=null;function ir(t){var e=t.alternate;$e(yt,yt.current&1),$e(Cn,t),ti===null&&(e===null||Cs.current!==null||e.memoizedState!==null)&&(ti=t)}function oT(t){if(t.tag===22){if($e(yt,yt.current),$e(Cn,t),ti===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ti=t)}}else rr()}function rr(){$e(yt,yt.current),$e(Cn,Cn.current)}function wi(t){Rt(Cn),ti===t&&(ti=null),Rt(yt)}var yt=li(0);function Cc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||$d(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function If(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=dn(),r=pr(i);r.payload=e,n!=null&&(r.callback=n),e=yr(t,r,i),e!==null&&(mn(e,t,i),Qo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=dn(),r=pr(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=yr(t,r,i),e!==null&&(mn(e,t,i),Qo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dn(),i=pr(n);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,n),e!==null&&(mn(e,t,n),Qo(e,t,n))}};function Ky(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!cl(n,i)||!cl(r,a):!0}function Qy(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&xd.enqueueReplaceState(e,e.state,null)}function ya(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Fe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}var Dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function lT(t){Dc(t)}function uT(t){console.error(t)}function cT(t){Dc(t)}function Oc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Yy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Pd(t,e,n){return n=pr(n),n.tag=3,n.payload={element:null},n.callback=function(){Oc(t,e)},n}function hT(t){return t=pr(t),t.tag=3,t}function fT(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;t.payload=function(){return r(a)},t.callback=function(){Yy(e,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Yy(e,n,i),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function d1(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&kl(e,n,r,!0),n=Cn.current,n!==null){switch(n.tag){case 13:return ti===null?qd():n.alternate===null&&it===0&&(it=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Id?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),kf(t,i,r)),!1;case 22:return n.flags|=65536,i===Id?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),kf(t,i,r)),!1}throw Error(z(435,n.tag))}return kf(t,i,r),qd(),!1}if(we)return e=Cn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==Sd&&(t=Error(z(422),{cause:i}),hl(wn(t,n)))):(i!==Sd&&(e=Error(z(423),{cause:i}),hl(wn(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=wn(i,n),r=Pd(t.stateNode,i,r),wf(t,r),it!==4&&(it=2)),!1;var a=Error(z(520),{cause:i});if(a=wn(a,n),Jo===null?Jo=[a]:Jo.push(a),it!==4&&(it=2),e===null)return!0;i=wn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Pd(n.stateNode,i,t),wf(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(vr===null||!vr.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=hT(r),fT(r,t,n,i),wf(n,r),!1}n=n.return}while(n!==null);return!1}var dT=Error(z(461)),wt=!1;function Dt(t,e,n,i){e.child=t===null?sT(e,null,n,i):Os(e,t.child,n,i)}function Xy(t,e,n,i,r){n=n.render;var a=e.ref;if("ref"in i){var s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}else s=i;return ga(e),i=rg(t,e,n,s,a,r),l=ag(),t!==null&&!wt?(sg(t,e,r),xi(t,e,r)):(we&&l&&Zm(e),e.flags|=1,Dt(t,e,i,r),e.child)}function $y(t,e,n,i,r){if(t===null){var a=n.type;return typeof a=="function"&&!$m(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,mT(t,e,a,i,r)):(t=Yu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!gg(t,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(s,i)&&t.ref===e.ref)return xi(t,e,r)}return e.flags|=1,t=Ci(a,i),t.ref=e.ref,t.return=e,e.child=t}function mT(t,e,n,i,r){if(t!==null){var a=t.memoizedProps;if(cl(a,i)&&t.ref===e.ref)if(wt=!1,e.pendingProps=i=a,gg(t,r))t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,xi(t,e,r)}return Ld(t,e,n,i,r)}function gT(t,e,n){var i=e.pendingProps,r=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;e.childLanes=a&~i}else e.childLanes=0,e.child=null;return Zy(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(e,a!==null?a.cachePool:null),a!==null?ky(e,a):Od(),oT(e);else return e.lanes=e.childLanes=536870912,Zy(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Xu(e,a.cachePool),ky(e,a),rr(),e.memoizedState=null):(t!==null&&Xu(e,null),Od(),rr());return Dt(t,e,r,n),e.child}function Zy(t,e,n,i){var r=eg();return r=r===null?null:{parent:pt._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Xu(e,null),Od(),oT(e),t!==null&&kl(t,e,i,!0),null}function Wu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ld(t,e,n,i,r){return ga(e),n=rg(t,e,n,i,void 0,r),i=ag(),t!==null&&!wt?(sg(t,e,r),xi(t,e,r)):(we&&i&&Zm(e),e.flags|=1,Dt(t,e,n,r),e.child)}function Wy(t,e,n,i,r,a){return ga(e),e.updateQueue=null,n=C0(e,i,n,r),I0(t),i=ag(),t!==null&&!wt?(sg(t,e,a),xi(t,e,a)):(we&&i&&Zm(e),e.flags|=1,Dt(t,e,n,a),e.child)}function Jy(t,e,n,i,r){if(ga(e),e.stateNode===null){var a=ls,s=n.contextType;typeof s=="object"&&s!==null&&(a=jt(s)),a=new n(i,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=xd,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=i,a.state=e.memoizedState,a.refs={},tg(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?jt(s):ls,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(If(e,n,s,i),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&xd.enqueueReplaceState(a,a.state,null),Xo(e,i,a,r),Yo(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,u=ya(n,l);a.props=u;var c=a.context,f=n.contextType;s=ls,typeof f=="object"&&f!==null&&(s=jt(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==s)&&Qy(e,a,i,s),tr=!1;var g=e.memoizedState;a.state=g,Xo(e,i,a,r),Yo(),c=e.memoizedState,l||g!==c||tr?(typeof m=="function"&&(If(e,n,m,i),c=e.memoizedState),(u=tr||Ky(e,n,u,i,g,c,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=s,i=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Cd(t,e),s=e.memoizedProps,f=ya(n,s),a.props=f,m=e.pendingProps,g=a.context,c=n.contextType,u=ls,typeof c=="object"&&c!==null&&(u=jt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||g!==u)&&Qy(e,a,i,u),tr=!1,g=e.memoizedState,a.state=g,Xo(e,i,a,r),Yo();var y=e.memoizedState;s!==m||g!==y||tr||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof l=="function"&&(If(e,n,l,i),y=e.memoizedState),(f=tr||Ky(e,n,f,i,g,y,u)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),a.props=i,a.state=y,a.context=u,i=f):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return a=i,Wu(t,e),i=(e.flags&128)!==0,a||i?(a=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&i?(e.child=Os(e,t.child,null,r),e.child=Os(e,null,n,r)):Dt(t,e,n,r),e.memoizedState=a.state,t=e.child):t=xi(t,e,r),t}function ev(t,e,n,i){return Ul(),e.flags|=256,Dt(t,e,n,i),e.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:S0()}}function Of(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=In),t}function pT(t,e,n){var i=e.pendingProps,r=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),s&&(r=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(we){if(r?ir(e):rr(),we){var l=nt,u;if(u=l){e:{for(u=l,l=$n;u.nodeType!==8;){if(!l){l=null;break e}if(u=zn(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:la!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},u=cn(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Gt=e,nt=null,u=!0):u=!1}u||ma(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return $d(l)?e.lanes=32:e.lanes=536870912,null;wi(e)}return l=i.children,i=i.fallback,r?(rr(),r=e.mode,l=Nc({mode:"hidden",children:l},r),i=oa(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,r=e.child,r.memoizedState=Df(n),r.childLanes=Of(t,s,n),e.memoizedState=Cf,i):(ir(e),Ud(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(a)e.flags&256?(ir(e),e.flags&=-257,e=Nf(t,e,n)):e.memoizedState!==null?(rr(),e.child=t.child,e.flags|=128,e=null):(rr(),r=i.fallback,l=e.mode,i=Nc({mode:"visible",children:i.children},l),r=oa(r,l,n,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,Os(e,t.child,null,n),i=e.child,i.memoizedState=Df(n),i.childLanes=Of(t,s,n),e.memoizedState=Cf,e=r);else if(ir(e),$d(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(z(419)),i.stack="",i.digest=s,hl({value:i,source:null,stack:null}),e=Nf(t,e,n)}else if(wt||kl(t,e,n,!1),s=(n&t.childLanes)!==0,wt||s){if(s=je,s!==null&&(i=n&-n,i=i&42?1:zm(i),i=i&(s.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,Xs(t,i),mn(s,t,i),dT;l.data==="$?"||qd(),e=Nf(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,nt=zn(l.nextSibling),Gt=e,we=!0,ua=null,$n=!1,t!==null&&(Sn[An++]=Si,Sn[An++]=Ai,Sn[An++]=la,Si=t.id,Ai=t.overflow,la=e),e=Ud(e,i.children),e.flags|=4096);return e}return r?(rr(),r=i.fallback,l=e.mode,u=t.child,c=u.sibling,i=Ci(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=Ci(c,r):(r=oa(r,l,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,l=t.child.memoizedState,l===null?l=Df(n):(u=l.cachePool,u!==null?(c=pt._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=S0(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=Of(t,s,n),e.memoizedState=Cf,i):(ir(e),n=t.child,t=n.sibling,n=Ci(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Ud(t,e){return e=Nc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Nc(t,e){return t=cn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Nf(t,e,n){return Os(e,t.child,null,n),t=Ud(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tv(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),bd(t.return,e,n)}function Mf(t,e,n,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function yT(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(Dt(t,e,i.children,n),i=yt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tv(t,n,e);else if(t.tag===19)tv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch($e(yt,i),r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Cc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Mf(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Cc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Mf(e,!0,n,null,a);break;case"together":Mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(n&e.childLanes))if(t!==null){if(kl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function m1(t,e,n){switch(e.tag){case 3:gc(e,e.stateNode.containerInfo),nr(e,pt,t.memoizedState.cache),Ul();break;case 27:case 5:fd(e);break;case 4:gc(e,e.stateNode.containerInfo);break;case 10:nr(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(ir(e),e.flags|=128,null):n&e.child.childLanes?pT(t,e,n):(ir(e),t=xi(t,e,n),t!==null?t.sibling:null);ir(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(kl(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return yT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$e(yt,yt.current),i)break;return null;case 22:case 23:return e.lanes=0,gT(t,e,n);case 24:nr(e,pt,t.memoizedState.cache)}return xi(t,e,n)}function vT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)wt=!0;else{if(!gg(t,n)&&!(e.flags&128))return wt=!1,m1(t,e,n);wt=!!(t.flags&131072)}else wt=!1,we&&e.flags&1048576&&E0(e,Sc,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")$m(i)?(t=ya(i,t),e.tag=1,e=Jy(null,e,i,t,n)):(e.tag=0,e=Ld(null,e,i,t,n));else{if(i!=null){if(r=i.$$typeof,r===Lm){e.tag=11,e=Xy(null,e,i,t,n);break e}else if(r===Um){e.tag=14,e=$y(null,e,i,t,n);break e}}throw e=cd(i)||i,Error(z(306,e,""))}}return e;case 0:return Ld(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=ya(i,e.pendingProps),Jy(t,e,i,r,n);case 3:e:{if(gc(e,e.stateNode.containerInfo),t===null)throw Error(z(387));i=e.pendingProps;var a=e.memoizedState;r=a.element,Cd(t,e),Xo(e,i,null,n);var s=e.memoizedState;if(i=s.cache,nr(e,pt,i),i!==a.cache&&wd(e,[pt],n,!0),Yo(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=ev(t,e,i,n);break e}else if(i!==r){r=wn(Error(z(424)),e),hl(r),e=ev(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=zn(t.firstChild),Gt=e,we=!0,ua=null,$n=!0,n=sT(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ul(),i===r){e=xi(t,e,n);break e}Dt(t,e,i,n)}e=e.child}return e;case 26:return Wu(t,e),t===null?(n=vv(e.type,null,e.pendingProps,null))?e.memoizedState=n:we||(n=e.type,t=e.pendingProps,i=kc(gr.current).createElement(n),i[Bt]=e,i[Jt]=t,Vt(i,n,t),bt(i),e.stateNode=i):e.memoizedState=vv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return fd(e),t===null&&we&&(i=e.stateNode=rS(e.type,e.pendingProps,gr.current),Gt=e,$n=!0,r=nt,zr(e.type)?(Zd=r,nt=zn(i.firstChild)):nt=r),Dt(t,e,e.pendingProps.children,n),Wu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&we&&((r=i=nt)&&(i=H1(i,e.type,e.pendingProps,$n),i!==null?(e.stateNode=i,Gt=e,nt=zn(i.firstChild),$n=!1,r=!0):r=!1),r||ma(e)),fd(e),r=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,Yd(r,a)?i=null:s!==null&&Yd(r,s)&&(e.flags|=32),e.memoizedState!==null&&(r=rg(t,e,s1,null,null,n),yl._currentValue=r),Wu(t,e),Dt(t,e,i,n),e.child;case 6:return t===null&&we&&((t=n=nt)&&(n=q1(n,e.pendingProps,$n),n!==null?(e.stateNode=n,Gt=e,nt=null,t=!0):t=!1),t||ma(e)),null;case 13:return pT(t,e,n);case 4:return gc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Os(e,null,i,n):Dt(t,e,i,n),e.child;case 11:return Xy(t,e,e.type,e.pendingProps,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,nr(e,e.type,i.value),Dt(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,ga(e),r=jt(r),i=i(r),e.flags|=1,Dt(t,e,i,n),e.child;case 14:return $y(t,e,e.type,e.pendingProps,n);case 15:return mT(t,e,e.type,e.pendingProps,n);case 19:return yT(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=Nc(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Ci(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return gT(t,e,n);case 24:return ga(e),i=jt(pt),t===null?(r=eg(),r===null&&(r=je,a=Jm(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:i,cache:r},tg(e),nr(e,pt,r)):(t.lanes&n&&(Cd(t,e),Xo(e,null,null,n),Yo()),r=t.memoizedState,a=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),nr(e,pt,i)):(i=a.cache,nr(e,pt,i),i!==r.cache&&wd(e,[pt],n,!0))),Dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function vi(t){t.flags|=4}function nv(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!oS(e)){if(e=Cn.current,e!==null&&((Ae&4194048)===Ae?ti!==null:(Ae&62914560)!==Ae&&!(Ae&536870912)||e!==ti))throw Ko=Id,A0;t.flags|=8192}}function Nu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?FE():536870912,t.lanes|=e,Ns|=e)}function Io(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function We(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function g1(t,e,n){var i=e.pendingProps;switch(Wm(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(e),null;case 1:return We(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Di(pt),bs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wo(e)?vi(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,My())),We(e),null;case 26:return n=e.memoizedState,t===null?(vi(e),n!==null?(We(e),nv(e,n)):(We(e),e.flags&=-16777217)):n?n!==t.memoizedState?(vi(e),We(e),nv(e,n)):(We(e),e.flags&=-16777217):(t.memoizedProps!==i&&vi(e),We(e),e.flags&=-16777217),null;case 27:pc(e),n=gr.current;var r=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&vi(e);else{if(!i){if(e.stateNode===null)throw Error(z(166));return We(e),null}t=Jn.current,wo(e)?Oy(e):(t=rS(r,i,n),e.stateNode=t,vi(e))}return We(e),null;case 5:if(pc(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&vi(e);else{if(!i){if(e.stateNode===null)throw Error(z(166));return We(e),null}if(t=Jn.current,wo(e))Oy(e);else{switch(r=kc(gr.current),t){case 1:t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=r.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}t[Bt]=e,t[Jt]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=t;e:switch(Vt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&vi(e)}}return We(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&vi(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(t=gr.current,wo(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=Gt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Bt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||tS(t.nodeValue,n)),t||ma(e)}else t=kc(t).createTextNode(i),t[Bt]=e,e.stateNode=t}return We(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=wo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(z(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(z(317));r[Bt]=e}else Ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;We(e),r=!1}else r=My(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(wi(e),e):(wi(e),null)}if(wi(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var a=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Nu(e,e.updateQueue),We(e),null;case 4:return bs(),t===null&&Ag(e.stateNode.containerInfo),We(e),null;case 10:return Di(e.type),We(e),null;case 19:if(Rt(yt),r=e.memoizedState,r===null)return We(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Io(r,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Cc(t),a!==null){for(e.flags|=128,Io(r,!1),t=a.updateQueue,e.updateQueue=t,Nu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)_0(n,t),n=n.sibling;return $e(yt,yt.current&1|2),e.child}t=t.sibling}r.tail!==null&&ei()>Vc&&(e.flags|=128,i=!0,Io(r,!1),e.lanes=4194304)}else{if(!i)if(t=Cc(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Nu(e,t),Io(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!we)return We(e),null}else 2*ei()-r.renderingStartTime>Vc&&n!==536870912&&(e.flags|=128,i=!0,Io(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ei(),e.sibling=null,t=yt.current,$e(yt,i?t&1|2:t&1),e):(We(e),null);case 22:case 23:return wi(e),ng(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(We(e),e.subtreeFlags&6&&(e.flags|=8192)):We(e),n=e.updateQueue,n!==null&&Nu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Rt(ca),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Di(pt),We(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function p1(t,e){switch(Wm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Di(pt),bs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return pc(e),null;case 13:if(wi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Rt(yt),null;case 4:return bs(),null;case 10:return Di(e.type),null;case 22:case 23:return wi(e),ng(),t!==null&&Rt(ca),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Di(pt),null;case 25:return null;default:return null}}function _T(t,e){switch(Wm(e),e.tag){case 3:Di(pt),bs();break;case 26:case 27:case 5:pc(e);break;case 4:bs();break;case 13:wi(e);break;case 19:Rt(yt);break;case 10:Di(e.type);break;case 22:case 23:wi(e),ng(),t!==null&&Rt(ca);break;case 24:Di(pt)}}function ql(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(l){ke(e,e.return,l)}}function Or(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&t)===t){var s=i.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){ke(r,u,f)}}}i=i.next}while(i!==a)}}catch(f){ke(e,e.return,f)}}function ET(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{R0(e,n)}catch(i){ke(t,t.return,i)}}}function TT(t,e,n){n.props=ya(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ke(t,e,i)}}function Zo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){ke(t,e,r)}}function Wn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){ke(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function ST(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){ke(t,t.return,r)}}function Vf(t,e,n){try{var i=t.stateNode;U1(i,t.type,n,e),i[Jt]=e}catch(r){ke(t,t.return,r)}}function AT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nh));else if(i!==4&&(i===27&&zr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(kd(t,e,n),t=t.sibling;t!==null;)kd(t,e,n),t=t.sibling}function Mc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&zr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Mc(t,e,n),t=t.sibling;t!==null;)Mc(t,e,n),t=t.sibling}function bT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Vt(e,i,n),e[Bt]=t,e[Jt]=n}catch(a){ke(t,t.return,a)}}var Ei=!1,at=!1,Pf=!1,iv=typeof WeakSet=="function"?WeakSet:Set,At=null;function y1(t,e){if(t=t.containerInfo,Kd=Hc,t=h0(t),Qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var y;m!==n||r!==0&&m.nodeType!==3||(l=s+r),m!==a||i!==0&&m.nodeType!==3||(u=s+i),m.nodeType===3&&(s+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===n&&++c===r&&(l=s),g===a&&++f===i&&(u=s),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qd={focusedElem:t,selectionRange:n},Hc=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){switch(e=At,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var C=ya(n.type,r,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(C,a),i.__reactInternalSnapshotBeforeUpdate=t}catch(O){ke(n,n.return,O)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Xd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}}function wT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:$i(t,n),i&4&&ql(5,n);break;case 1:if($i(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){ke(n,n.return,s)}else{var r=ya(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){ke(n,n.return,s)}}i&64&&ET(n),i&512&&Zo(n,n.return);break;case 3:if($i(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{R0(t,e)}catch(s){ke(n,n.return,s)}}break;case 27:e===null&&i&4&&bT(n);case 26:case 5:$i(t,n),e===null&&i&4&&ST(n),i&512&&Zo(n,n.return);break;case 12:$i(t,n);break;case 13:$i(t,n),i&4&&CT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=R1.bind(null,n),F1(t,n))));break;case 22:if(i=n.memoizedState!==null||Ei,!i){e=e!==null&&e.memoizedState!==null||at,r=Ei;var a=at;Ei=i,(at=e)&&!a?Wi(t,n,(n.subtreeFlags&8772)!==0):$i(t,n),Ei=r,at=a}break;case 30:break;default:$i(t,n)}}function RT(t){var e=t.alternate;e!==null&&(t.alternate=null,RT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&jm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,Xt=!1;function _i(t,e,n){for(n=n.child;n!==null;)IT(t,e,n),n=n.sibling}function IT(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 26:at||Wn(n,e),_i(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||Wn(n,e);var i=Ke,r=Xt;zr(n.type)&&(Ke=n.stateNode,Xt=!1),_i(t,e,n),tl(n.stateNode),Ke=i,Xt=r;break;case 5:at||Wn(n,e);case 6:if(i=Ke,r=Xt,Ke=null,_i(t,e,n),Ke=i,Xt=r,Ke!==null)if(Xt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(a){ke(n,e,a)}else try{Ke.removeChild(n.stateNode)}catch(a){ke(n,e,a)}break;case 18:Ke!==null&&(Xt?(t=Ke,gv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),El(t)):gv(Ke,n.stateNode));break;case 4:i=Ke,r=Xt,Ke=n.stateNode.containerInfo,Xt=!0,_i(t,e,n),Ke=i,Xt=r;break;case 0:case 11:case 14:case 15:at||Or(2,n,e),at||Or(4,n,e),_i(t,e,n);break;case 1:at||(Wn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&TT(n,e,i)),_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:at=(i=at)||n.memoizedState!==null,_i(t,e,n),at=i;break;default:_i(t,e,n)}}function CT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(n){ke(e,e.return,n)}}function v1(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new iv),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new iv),e;default:throw Error(z(435,t.tag))}}function Lf(t,e){var n=v1(t);e.forEach(function(i){var r=I1.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}function sn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(zr(l.type)){Ke=l.stateNode,Xt=!1;break e}break;case 5:Ke=l.stateNode,Xt=!1;break e;case 3:case 4:Ke=l.stateNode.containerInfo,Xt=!0;break e}l=l.return}if(Ke===null)throw Error(z(160));IT(a,s,r),Ke=null,Xt=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)DT(e,t),e=e.sibling}var xn=null;function DT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:sn(e,t),on(t),i&4&&(Or(3,t,t.return),ql(3,t),Or(5,t,t.return));break;case 1:sn(e,t),on(t),i&512&&(at||n===null||Wn(n,n.return)),i&64&&Ei&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=xn;if(sn(e,t),on(t),i&512&&(at||n===null||Wn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Pl]||a[Bt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),Vt(a,i,n),a[Bt]=t,bt(a),i=a;break e;case"link":var s=Ev("link","href",r).get(i+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=r.createElement(i),Vt(a,i,n),r.head.appendChild(a);break;case"meta":if(s=Ev("meta","content",r).get(i+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=r.createElement(i),Vt(a,i,n),r.head.appendChild(a);break;default:throw Error(z(468,i))}a[Bt]=t,bt(a),i=a}t.stateNode=i}else Tv(r,t.type,t.stateNode);else t.stateNode=_v(r,i,t.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?Tv(r,t.type,t.stateNode):_v(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Vf(t,t.memoizedProps,n.memoizedProps)}break;case 27:sn(e,t),on(t),i&512&&(at||n===null||Wn(n,n.return)),n!==null&&i&4&&Vf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(sn(e,t),on(t),i&512&&(at||n===null||Wn(n,n.return)),t.flags&32){r=t.stateNode;try{Rs(r,"")}catch(y){ke(t,t.return,y)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Vf(t,r,n!==null?n.memoizedProps:r)),i&1024&&(Pf=!0);break;case 6:if(sn(e,t),on(t),i&4){if(t.stateNode===null)throw Error(z(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(y){ke(t,t.return,y)}}break;case 3:if(tc=null,r=xn,xn=zc(e.containerInfo),sn(e,t),xn=r,on(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(y){ke(t,t.return,y)}Pf&&(Pf=!1,OT(t));break;case 4:i=xn,xn=zc(t.stateNode.containerInfo),sn(e,t),on(t),xn=i;break;case 12:sn(e,t),on(t);break;case 13:sn(e,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Eg=ei()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lf(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Ei,f=at;if(Ei=c||r,at=f||u,sn(e,t),at=f,Ei=c,on(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Ei||at||Jr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(y){ke(u,u.return,y)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(y){ke(u,u.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Lf(t,n))));break;case 19:sn(e,t),on(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Lf(t,i)));break;case 30:break;case 21:break;default:sn(e,t),on(t)}}function on(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(AT(i)){n=i;break}i=i.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var r=n.stateNode,a=xf(t);Mc(t,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(Rs(s,""),n.flags&=-33);var l=xf(t);Mc(t,l,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=xf(t);kd(t,c,u);break;default:throw Error(z(161))}}catch(f){ke(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;OT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function $i(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)wT(t,e.alternate,e),e=e.sibling}function Jr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Or(4,e,e.return),Jr(e);break;case 1:Wn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&TT(e,e.return,n),Jr(e);break;case 27:tl(e.stateNode);case 26:case 5:Wn(e,e.return),Jr(e);break;case 22:e.memoizedState===null&&Jr(e);break;case 30:Jr(e);break;default:Jr(e)}t=t.sibling}}function Wi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,n),ql(4,a);break;case 1:if(Wi(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){ke(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)w0(u[r],l)}catch(c){ke(i,i.return,c)}}n&&s&64&&ET(a),Zo(a,a.return);break;case 27:bT(a);case 26:case 5:Wi(r,a,n),n&&i===null&&s&4&&ST(a),Zo(a,a.return);break;case 12:Wi(r,a,n);break;case 13:Wi(r,a,n),n&&s&4&&CT(r,a);break;case 22:a.memoizedState===null&&Wi(r,a,n),Zo(a,a.return);break;case 30:break;default:Wi(r,a,n)}e=e.sibling}}function pg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&zl(n))}function yg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zl(t))}function Yn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)NT(t,e,n,i),e=e.sibling}function NT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Yn(t,e,n,i),r&2048&&ql(9,e);break;case 1:Yn(t,e,n,i);break;case 3:Yn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&zl(t)));break;case 12:if(r&2048){Yn(t,e,n,i),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ke(e,e.return,u)}}else Yn(t,e,n,i);break;case 13:Yn(t,e,n,i);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Yn(t,e,n,i):Wo(t,e):a._visibility&2?Yn(t,e,n,i):(a._visibility|=2,Ya(t,e,n,i,(e.subtreeFlags&10256)!==0)),r&2048&&pg(s,e);break;case 24:Yn(t,e,n,i),r&2048&&yg(e.alternate,e);break;default:Yn(t,e,n,i)}}function Ya(t,e,n,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,l=n,u=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ya(a,s,l,u,r),ql(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?Ya(a,s,l,u,r):Wo(a,s):(f._visibility|=2,Ya(a,s,l,u,r)),r&&c&2048&&pg(s.alternate,s);break;case 24:Ya(a,s,l,u,r),r&&c&2048&&yg(s.alternate,s);break;default:Ya(a,s,l,u,r)}e=e.sibling}}function Wo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:Wo(n,i),r&2048&&pg(i.alternate,i);break;case 24:Wo(n,i),r&2048&&yg(i.alternate,i);break;default:Wo(n,i)}e=e.sibling}}var Lo=8192;function qa(t){if(t.subtreeFlags&Lo)for(t=t.child;t!==null;)MT(t),t=t.sibling}function MT(t){switch(t.tag){case 26:qa(t),t.flags&Lo&&t.memoizedState!==null&&iI(xn,t.memoizedState,t.memoizedProps);break;case 5:qa(t);break;case 3:case 4:var e=xn;xn=zc(t.stateNode.containerInfo),qa(t),xn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Lo,Lo=16777216,qa(t),Lo=e):qa(t));break;default:qa(t)}}function VT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Co(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];At=i,PT(i,t)}VT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xT(t),t=t.sibling}function xT(t){switch(t.tag){case 0:case 11:case 15:Co(t),t.flags&2048&&Or(9,t,t.return);break;case 3:Co(t);break;case 12:Co(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ju(t)):Co(t);break;default:Co(t)}}function Ju(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];At=i,PT(i,t)}VT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Or(8,e,e.return),Ju(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ju(e));break;default:Ju(e)}t=t.sibling}}function PT(t,e){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:Or(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:zl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,At=i;else e:for(n=t;At!==null;){i=At;var r=i.sibling,a=i.return;if(RT(i),i===n){At=null;break e}if(r!==null){r.return=a,At=r;break e}At=a}}}var _1={getCacheForType:function(t){var e=jt(pt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},E1=typeof WeakMap=="function"?WeakMap:Map,Me=0,je=null,ye=null,Ae=0,Oe=0,ln=null,hr=!1,$s=!1,vg=!1,Pi=0,it=0,Nr=0,ha=0,_g=0,In=0,Ns=0,Jo=null,Zt=null,zd=!1,Eg=0,Vc=1/0,xc=null,vr=null,Nt=0,_r=null,Ms=null,_s=0,Bd=0,jd=null,LT=null,el=0,Hd=null;function dn(){if(Me&2&&Ae!==0)return Ae&-Ae;if(se.T!==null){var t=Is;return t!==0?t:Sg()}return QE()}function UT(){In===0&&(In=!(Ae&536870912)||we?qE():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),In}function mn(t,e,n){(t===je&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(Vs(t,0),fr(t,Ae,In,!1)),xl(t,n),(!(Me&2)||t!==je)&&(t===je&&(!(Me&2)&&(ha|=n),it===4&&fr(t,Ae,In,!1)),ui(t))}function kT(t,e,n){if(Me&6)throw Error(z(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Vl(t,e),r=i?A1(t,e):Uf(t,e,!0),a=i;do{if(r===0){$s&&!i&&fr(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!T1(n)){r=Uf(t,e,!1),a=!1;continue}if(r===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;r=Jo;var u=l.current.memoizedState.isDehydrated;if(u&&(Vs(l,s).flags|=256),s=Uf(l,s,!1),s!==2){if(vg&&!u){l.errorRecoveryDisabledLanes|=a,ha|=a,r=4;break e}a=Zt,Zt=r,a!==null&&(Zt===null?Zt=a:Zt.push.apply(Zt,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){Vs(t,0),fr(t,e,0,!0);break}e:{switch(i=t,a=r,a){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:fr(i,e,In,!hr);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(r=Eg+300-ei(),10<r)){if(fr(i,e,In,!hr),vh(i,0,!0)!==0)break e;i.timeoutHandle=iS(rv.bind(null,i,n,Zt,xc,zd,e,In,ha,Ns,hr,a,2,-0,0),r);break e}rv(i,n,Zt,xc,zd,e,In,ha,Ns,hr,a,0,-0,0)}}break}while(!0);ui(t)}function rv(t,e,n,i,r,a,s,l,u,c,f,m,g,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(pl={stylesheets:null,count:0,unsuspend:nI},MT(e),m=rI(),m!==null)){t.cancelPendingCommit=m(sv.bind(null,t,e,a,n,i,r,s,l,u,f,1,g,y)),fr(t,a,s,!c);return}sv(t,e,a,n,i,r,s,l,u)}function T1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!gn(a(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fr(t,e,n,i){e&=~_g,e&=~ha,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var a=31-fn(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&GE(t,n,e)}function Ch(){return Me&6?!0:(Fl(0),!1)}function Tg(){if(ye!==null){if(Oe===0)var t=ye.return;else t=ye,bi=Ia=null,og(t),vs=null,dl=0,t=ye;for(;t!==null;)_T(t.alternate,t),t=t.return;ye=null}}function Vs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,z1(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Tg(),je=t,ye=n=Ci(t.current,null),Ae=e,Oe=0,ln=null,hr=!1,$s=Vl(t,e),vg=!1,Ns=In=_g=ha=Nr=it=0,Zt=Jo=null,zd=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-fn(i),a=1<<r;e|=t[r],i&=~a}return Pi=e,Sh(),n}function zT(t,e){me=null,se.H=Ic,e===Bl||e===bh?(e=Ly(),Oe=3):e===A0?(e=Ly(),Oe=4):Oe=e===dT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,ye===null&&(it=1,Oc(t,wn(e,t.current)))}function BT(){var t=se.H;return se.H=Ic,t===null?Ic:t}function jT(){var t=se.A;return se.A=_1,t}function qd(){it=4,hr||(Ae&4194048)!==Ae&&Cn.current!==null||($s=!0),!(Nr&134217727)&&!(ha&134217727)||je===null||fr(je,Ae,In,!1)}function Uf(t,e,n){var i=Me;Me|=2;var r=BT(),a=jT();(je!==t||Ae!==e)&&(xc=null,Vs(t,e)),e=!1;var s=it;e:do try{if(Oe!==0&&ye!==null){var l=ye,u=ln;switch(Oe){case 8:Tg(),s=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(e=!0);var c=Oe;if(Oe=0,ln=null,hs(t,l,u,c),n&&$s){s=0;break e}break;default:c=Oe,Oe=0,ln=null,hs(t,l,u,c)}}S1(),s=it;break}catch(f){zT(t,f)}while(!0);return e&&t.shellSuspendCounter++,bi=Ia=null,Me=i,se.H=r,se.A=a,ye===null&&(je=null,Ae=0,Sh()),s}function S1(){for(;ye!==null;)HT(ye)}function A1(t,e){var n=Me;Me|=2;var i=BT(),r=jT();je!==t||Ae!==e?(xc=null,Vc=ei()+500,Vs(t,e)):$s=Vl(t,e);e:do try{if(Oe!==0&&ye!==null){e=ye;var a=ln;t:switch(Oe){case 1:Oe=0,ln=null,hs(t,e,a,1);break;case 2:case 9:if(Py(a)){Oe=0,ln=null,av(e);break}e=function(){Oe!==2&&Oe!==9||je!==t||(Oe=7),ui(t)},a.then(e,e);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Py(a)?(Oe=0,ln=null,av(e)):(Oe=0,ln=null,hs(t,e,a,7));break;case 5:var s=null;switch(ye.tag){case 26:s=ye.memoizedState;case 5:case 27:var l=ye;if(!s||oS(s)){Oe=0,ln=null;var u=l.sibling;if(u!==null)ye=u;else{var c=l.return;c!==null?(ye=c,Dh(c)):ye=null}break t}}Oe=0,ln=null,hs(t,e,a,5);break;case 6:Oe=0,ln=null,hs(t,e,a,6);break;case 8:Tg(),it=6;break e;default:throw Error(z(462))}}b1();break}catch(f){zT(t,f)}while(!0);return bi=Ia=null,se.H=i,se.A=r,Me=n,ye!==null?0:(je=null,Ae=0,Sh(),it)}function b1(){for(;ye!==null&&!Kw();)HT(ye)}function HT(t){var e=vT(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?Dh(t):ye=e}function av(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Wy(n,e,e.pendingProps,e.type,void 0,Ae);break;case 11:e=Wy(n,e,e.pendingProps,e.type.render,e.ref,Ae);break;case 5:og(e);default:_T(n,e),e=ye=_0(e,Pi),e=vT(n,e,Pi)}t.memoizedProps=t.pendingProps,e===null?Dh(t):ye=e}function hs(t,e,n,i){bi=Ia=null,og(e),vs=null,dl=0;var r=e.return;try{if(d1(t,r,e,n,Ae)){it=1,Oc(t,wn(n,t.current)),ye=null;return}}catch(a){if(r!==null)throw ye=r,a;it=1,Oc(t,wn(n,t.current)),ye=null;return}e.flags&32768?(we||i===1?t=!0:$s||Ae&536870912?t=!1:(hr=t=!0,(i===2||i===9||i===3||i===6)&&(i=Cn.current,i!==null&&i.tag===13&&(i.flags|=16384))),qT(e,t)):Dh(e)}function Dh(t){var e=t;do{if(e.flags&32768){qT(e,hr);return}t=e.return;var n=g1(e.alternate,e,Pi);if(n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);it===0&&(it=5)}function qT(t,e){do{var n=p1(t.alternate,t);if(n!==null){n.flags&=32767,ye=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ye=t;return}ye=t=n}while(t!==null);it=6,ye=null}function sv(t,e,n,i,r,a,s,l,u){t.cancelPendingCommit=null;do Oh();while(Nt!==0);if(Me&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(a=e.lanes|e.childLanes,a|=Ym,nR(t,n,a,s,l,u),t===je&&(ye=je=null,Ae=0),Ms=e,_r=t,_s=n,Bd=a,jd=r,LT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,C1(yc,function(){return YT(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=se.T,se.T=null,r=Re.p,Re.p=2,s=Me,Me|=4;try{y1(t,e,n)}finally{Me=s,Re.p=r,se.T=i}}Nt=1,FT(),GT(),KT()}}function FT(){if(Nt===1){Nt=0;var t=_r,e=Ms,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=se.T,se.T=null;var i=Re.p;Re.p=2;var r=Me;Me|=4;try{DT(e,t);var a=Qd,s=h0(t.containerInfo),l=a.focusedElem,u=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&c0(l.ownerDocument.documentElement,l)){if(u!==null&&Qm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var y=g.getSelection(),C=l.textContent.length,O=Math.min(u.start,C),V=u.end===void 0?O:Math.min(u.end,C);!y.extend&&O>V&&(s=V,V=O,O=s);var T=Iy(l,O),E=Iy(l,V);if(T&&E&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==E.node||y.focusOffset!==E.offset)){var b=m.createRange();b.setStart(T.node,T.offset),y.removeAllRanges(),O>V?(y.addRange(b),y.extend(E.node,E.offset)):(b.setEnd(E.node,E.offset),y.addRange(b))}}}}for(m=[],y=l;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var N=m[l];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Hc=!!Kd,Qd=Kd=null}finally{Me=r,Re.p=i,se.T=n}}t.current=e,Nt=2}}function GT(){if(Nt===2){Nt=0;var t=_r,e=Ms,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=se.T,se.T=null;var i=Re.p;Re.p=2;var r=Me;Me|=4;try{wT(t,e.alternate,e)}finally{Me=r,Re.p=i,se.T=n}}Nt=3}}function KT(){if(Nt===4||Nt===3){Nt=0,Qw();var t=_r,e=Ms,n=_s,i=LT;e.subtreeFlags&10256||e.flags&10256?Nt=5:(Nt=0,Ms=_r=null,QT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(vr=null),Bm(n),e=e.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Ml,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=se.T,r=Re.p,Re.p=2,se.T=null;try{for(var a=t.onRecoverableError,s=0;s<i.length;s++){var l=i[s];a(l.value,{componentStack:l.stack})}}finally{se.T=e,Re.p=r}}_s&3&&Oh(),ui(t),r=t.pendingLanes,n&4194090&&r&42?t===Hd?el++:(el=0,Hd=t):el=0,Fl(0)}}function QT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,zl(e)))}function Oh(t){return FT(),GT(),KT(),YT()}function YT(){if(Nt!==5)return!1;var t=_r,e=Bd;Bd=0;var n=Bm(_s),i=se.T,r=Re.p;try{Re.p=32>n?32:n,se.T=null,n=jd,jd=null;var a=_r,s=_s;if(Nt=0,Ms=_r=null,_s=0,Me&6)throw Error(z(331));var l=Me;if(Me|=4,xT(a.current),NT(a,a.current,s,n),Me=l,Fl(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Ml,a)}catch{}return!0}finally{Re.p=r,se.T=i,QT(t,e)}}function ov(t,e,n){e=wn(n,e),e=Pd(t.stateNode,e,2),t=yr(t,e,2),t!==null&&(xl(t,2),ui(t))}function ke(t,e,n){if(t.tag===3)ov(t,t,n);else for(;e!==null;){if(e.tag===3){ov(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(vr===null||!vr.has(i))){t=wn(n,t),n=hT(2),i=yr(e,n,2),i!==null&&(fT(n,i,e,t),xl(i,2),ui(i));break}}e=e.return}}function kf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new E1;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(vg=!0,r.add(n),t=w1.bind(null,t,e,n),e.then(t,t))}function w1(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,je===t&&(Ae&n)===n&&(it===4||it===3&&(Ae&62914560)===Ae&&300>ei()-Eg?!(Me&2)&&Vs(t,0):_g|=n,Ns===Ae&&(Ns=0)),ui(t)}function XT(t,e){e===0&&(e=FE()),t=Xs(t,e),t!==null&&(xl(t,e),ui(t))}function R1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XT(t,n)}function I1(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(z(314))}i!==null&&i.delete(e),XT(t,n)}function C1(t,e){return km(t,e)}var Pc=null,Xa=null,Fd=!1,Lc=!1,zf=!1,fa=0;function ui(t){t!==Xa&&t.next===null&&(Xa===null?Pc=Xa=t:Xa=Xa.next=t),Lc=!0,Fd||(Fd=!0,O1())}function Fl(t,e){if(!zf&&Lc){zf=!0;do for(var n=!1,i=Pc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,l=i.pingedLanes;a=(1<<31-fn(42|t)+1)-1,a&=r&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,lv(i,a))}else a=Ae,a=vh(i,i===je?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||Vl(i,a)||(n=!0,lv(i,a));i=i.next}while(n);zf=!1}}function D1(){$T()}function $T(){Lc=Fd=!1;var t=0;fa!==0&&(k1()&&(t=fa),fa=0);for(var e=ei(),n=null,i=Pc;i!==null;){var r=i.next,a=ZT(i,e);a===0?(i.next=null,n===null?Pc=r:n.next=r,r===null&&(Xa=n)):(n=i,(t!==0||a&3)&&(Lc=!0)),i=r}Fl(t)}function ZT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-fn(a),l=1<<s,u=r[s];u===-1?(!(l&n)||l&i)&&(r[s]=tR(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}if(e=je,n=Ae,n=vh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&hf(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Vl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&hf(i),Bm(n)){case 2:case 8:n=jE;break;case 32:n=yc;break;case 268435456:n=HE;break;default:n=yc}return i=WT.bind(null,t),n=km(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&hf(i),t.callbackPriority=2,t.callbackNode=null,2}function WT(t,e){if(Nt!==0&&Nt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Oh()&&t.callbackNode!==n)return null;var i=Ae;return i=vh(t,t===je?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(kT(t,i,e),ZT(t,ei()),t.callbackNode!=null&&t.callbackNode===n?WT.bind(null,t):null)}function lv(t,e){if(Oh())return null;kT(t,e,!0)}function O1(){B1(function(){Me&6?km(BE,D1):$T()})}function Sg(){return fa===0&&(fa=qE()),fa}function uv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gu(""+t)}function cv(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function N1(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var a=uv((r[Jt]||null).action),s=i.submitter;s&&(e=(e=s[Jt]||null)?uv(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var l=new _h("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(fa!==0){var u=s?cv(r,s):new FormData(r);Vd(n,{pending:!0,data:u,method:r.method,action:a},null,u)}}else typeof a=="function"&&(l.preventDefault(),u=s?cv(r,s):new FormData(r),Vd(n,{pending:!0,data:u,method:r.method,action:a},a,u))},currentTarget:r}]})}}for(var Bf=0;Bf<Td.length;Bf++){var jf=Td[Bf],M1=jf.toLowerCase(),V1=jf[0].toUpperCase()+jf.slice(1);Hn(M1,"on"+V1)}Hn(d0,"onAnimationEnd");Hn(m0,"onAnimationIteration");Hn(g0,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn($R,"onTransitionRun");Hn(ZR,"onTransitionStart");Hn(WR,"onTransitionCancel");Hn(p0,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function JT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var l=i[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=c;try{a(r)}catch(f){Dc(f)}r.currentTarget=null,a=u}else for(s=0;s<i.length;s++){if(l=i[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=c;try{a(r)}catch(f){Dc(f)}r.currentTarget=null,a=u}}}}function pe(t,e){var n=e[md];n===void 0&&(n=e[md]=new Set);var i=t+"__bubble";n.has(i)||(eS(e,t,2,!1),n.add(i))}function Hf(t,e,n){var i=0;e&&(i|=4),eS(n,t,i,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Ag(t){if(!t[Mu]){t[Mu]=!0,YE.forEach(function(n){n!=="selectionchange"&&(x1.has(n)||Hf(n,!1,t),Hf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,Hf("selectionchange",!1,e))}}function eS(t,e,n,i){switch(fS(e)){case 2:var r=oI;break;case 8:r=lI;break;default:r=Ig}n=r.bind(null,e,n,t),r=void 0,!vd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function qf(t,e,n,i,r){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var l=i.stateNode.containerInfo;if(l===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;l!==null;){if(s=ns(l),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=a=s;continue e}l=l.parentNode}}i=i.return}n0(function(){var c=a,f=qm(n),m=[];e:{var g=y0.get(t);if(g!==void 0){var y=_h,C=t;switch(t){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":y=CR;break;case"focusin":C="focus",y=_f;break;case"focusout":C="blur",y=_f;break;case"beforeblur":case"afterblur":y=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=pR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=NR;break;case d0:case m0:case g0:y=_R;break;case p0:y=VR;break;case"scroll":case"scrollend":y=mR;break;case"wheel":y=PR;break;case"copy":case"cut":case"paste":y=TR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_y;break;case"toggle":case"beforetoggle":y=UR}var O=(e&4)!==0,V=!O&&(t==="scroll"||t==="scrollend"),T=O?g!==null?g+"Capture":null:g;O=[];for(var E=c,b;E!==null;){var N=E;if(b=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||b===null||T===null||(N=ll(E,T),N!=null&&O.push(gl(E,N,b))),V)break;E=E.return}0<O.length&&(g=new y(g,C,null,n,f),m.push({event:g,listeners:O}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==yd&&(C=n.relatedTarget||n.fromElement)&&(ns(C)||C[Qs]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?ns(C):null,C!==null&&(V=Nl(C),O=C.tag,C!==V||O!==5&&O!==27&&O!==6)&&(C=null)):(y=null,C=c),y!==C)){if(O=yy,N="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(O=_y,N="onPointerLeave",T="onPointerEnter",E="pointer"),V=y==null?g:Po(y),b=C==null?g:Po(C),g=new O(N,E+"leave",y,n,f),g.target=V,g.relatedTarget=b,N=null,ns(f)===c&&(O=new O(T,E+"enter",C,n,f),O.target=b,O.relatedTarget=V,N=O),V=N,y&&C)t:{for(O=y,T=C,E=0,b=O;b;b=Fa(b))E++;for(b=0,N=T;N;N=Fa(N))b++;for(;0<E-b;)O=Fa(O),E--;for(;0<b-E;)T=Fa(T),b--;for(;E--;){if(O===T||T!==null&&O===T.alternate)break t;O=Fa(O),T=Fa(T)}O=null}else O=null;y!==null&&hv(m,g,y,O,!1),C!==null&&V!==null&&hv(m,V,C,O,!0)}}e:{if(g=c?Po(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var B=Ay;else if(Sy(g))if(l0)B=QR;else{B=GR;var q=FR}else y=g.nodeName,!y||y.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Hm(c.elementType)&&(B=Ay):B=KR;if(B&&(B=B(t,c))){o0(m,B,n,f);break e}q&&q(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&pd(g,"number",g.value)}switch(q=c?Po(c):window,t){case"focusin":(Sy(q)||q.contentEditable==="true")&&(as=q,_d=c,Fo=null);break;case"focusout":Fo=_d=as=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Cy(m,n,f);break;case"selectionchange":if(XR)break;case"keydown":case"keyup":Cy(m,n,f)}var p;if(Km)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else rs?a0(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(r0&&n.locale!=="ko"&&(rs||v!=="onCompositionStart"?v==="onCompositionEnd"&&rs&&(p=i0()):(cr=f,Fm="value"in cr?cr.value:cr.textContent,rs=!0)),q=Uc(c,v),0<q.length&&(v=new vy(v,t,null,n,f),m.push({event:v,listeners:q}),p?v.data=p:(p=s0(n),p!==null&&(v.data=p)))),(p=zR?BR(t,n):jR(t,n))&&(v=Uc(c,"onBeforeInput"),0<v.length&&(q=new vy("onBeforeInput","beforeinput",null,n,f),m.push({event:q,listeners:v}),q.data=p)),N1(m,t,c,n,f)}JT(m,e)})}function gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uc(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=ll(t,n),r!=null&&i.unshift(gl(t,r,a)),r=ll(t,e),r!=null&&i.push(gl(t,r,a))),t.tag===3)return i;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hv(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=ll(n,a),c!=null&&s.unshift(gl(n,c,u))):r||(c=ll(n,a),c!=null&&s.push(gl(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var P1=/\r\n?/g,L1=/\u0000|\uFFFD/g;function fv(t){return(typeof t=="string"?t:""+t).replace(P1,`
`).replace(L1,"")}function tS(t,e){return e=fv(e),fv(t)===e}function Nh(){}function Ve(t,e,n,i,r,a){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Rs(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Rs(t,""+i);break;case"className":wu(t,"class",i);break;case"tabIndex":wu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":wu(t,n,i);break;case"style":t0(t,i,a);break;case"data":if(e!=="object"){wu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Gu(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Ve(t,e,"name",r.name,r,null),Ve(t,e,"formEncType",r.formEncType,r,null),Ve(t,e,"formMethod",r.formMethod,r,null),Ve(t,e,"formTarget",r.formTarget,r,null)):(Ve(t,e,"encType",r.encType,r,null),Ve(t,e,"method",r.method,r,null),Ve(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Gu(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Nh);break;case"onScroll":i!=null&&pe("scroll",t);break;case"onScrollEnd":i!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Gu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Fu(t,"popover",i);break;case"xlinkActuate":yi(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":yi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":yi(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":yi(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":yi(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":yi(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":yi(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":yi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":yi(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Fu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=fR.get(n)||n,Fu(t,n,i))}}function Gd(t,e,n,i,r,a){switch(n){case"style":t0(t,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Rs(t,i):(typeof i=="number"||typeof i=="bigint")&&Rs(t,""+i);break;case"onScroll":i!=null&&pe("scroll",t);break;case"onScrollEnd":i!=null&&pe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!XE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),a=t[Jt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Fu(t,n,i)}}}function Vt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Ve(t,e,a,s,n,null)}}r&&Ve(t,e,"srcSet",n.srcSet,n,null),i&&Ve(t,e,"src",n.src,n,null);return;case"input":pe("invalid",t);var l=a=s=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(z(137,e));break;default:Ve(t,e,i,f,n,null)}}WE(t,a,l,u,c,s,r,!1),vc(t);return;case"select":pe("invalid",t),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Ve(t,e,r,l,n,null)}e=a,n=s,t.multiple=!!i,e!=null?ds(t,!!i,e,!1):n!=null&&ds(t,!!i,n,!0);return;case"textarea":pe("invalid",t),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":i=l;break;case"defaultValue":r=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(z(91));break;default:Ve(t,e,s,l,n,null)}e0(t,i,r,a),vc(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ve(t,e,u,i,n,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(i=0;i<ml.length;i++)pe(ml[i],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Ve(t,e,c,i,n,null)}return;default:if(Hm(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Gd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ve(t,e,l,i,n,null))}function U1(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,l=null,u=null,c=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(y)||Ve(t,e,y,null,i,m)}}for(var g in i){var y=i[g];if(m=n[g],i.hasOwnProperty(g)&&(y!=null||m!=null))switch(g){case"type":a=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":s=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(z(137,e));break;default:y!==m&&Ve(t,e,g,y,i,m)}}gd(t,s,l,u,c,f,a,r);return;case"select":y=s=l=g=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(a)||Ve(t,e,a,null,i,u)}for(r in i)if(a=i[r],u=n[r],i.hasOwnProperty(r)&&(a!=null||u!=null))switch(r){case"value":g=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Ve(t,e,r,a,i,u)}e=l,n=s,i=y,g!=null?ds(t,!!n,g,!1):!!i!=!!n&&(e!=null?ds(t,!!n,e,!0):ds(t,!!n,n?[]:"",!1));return;case"textarea":y=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ve(t,e,l,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":g=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(z(91));break;default:r!==a&&Ve(t,e,s,r,i,a)}JE(t,g,y);return;case"option":for(var C in n)if(g=n[C],n.hasOwnProperty(C)&&g!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:Ve(t,e,C,null,i,g)}for(u in i)if(g=i[u],y=n[u],i.hasOwnProperty(u)&&g!==y&&(g!=null||y!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ve(t,e,u,g,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!=null&&!i.hasOwnProperty(O)&&Ve(t,e,O,null,i,g);for(c in i)if(g=i[c],y=n[c],i.hasOwnProperty(c)&&g!==y&&(g!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(z(137,e));break;default:Ve(t,e,c,g,i,y)}return;default:if(Hm(e)){for(var V in n)g=n[V],n.hasOwnProperty(V)&&g!==void 0&&!i.hasOwnProperty(V)&&Gd(t,e,V,void 0,i,g);for(f in i)g=i[f],y=n[f],!i.hasOwnProperty(f)||g===y||g===void 0&&y===void 0||Gd(t,e,f,g,i,y);return}}for(var T in n)g=n[T],n.hasOwnProperty(T)&&g!=null&&!i.hasOwnProperty(T)&&Ve(t,e,T,null,i,g);for(m in i)g=i[m],y=n[m],!i.hasOwnProperty(m)||g===y||g==null&&y==null||Ve(t,e,m,g,i,y)}var Kd=null,Qd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function dv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nS(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Yd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=null;function k1(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var iS=typeof setTimeout=="function"?setTimeout:void 0,z1=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(j1)}:iS;function j1(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function gv(t,e){var n=e,i=0,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<i&&8>i){n=i;var s=t.ownerDocument;if(n&1&&tl(s.documentElement),n&2&&tl(s.body),n&4)for(n=s.head,tl(n),s=n.firstChild;s;){var l=s.nextSibling,u=s.nodeName;s[Pl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(r===0){t.removeChild(a),El(e);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=a}while(n);El(e)}function Xd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xd(n),jm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function H1(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Pl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function q1(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=zn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function F1(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function zn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Zd=null;function pv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function rS(t,e,n){switch(e=kc(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function tl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);jm(t)}var Dn=new Map,yv=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=Re.d;Re.d={f:G1,r:K1,D:Q1,C:Y1,L:X1,m:$1,X:W1,S:Z1,M:J1};function G1(){var t=ji.f(),e=Ch();return t||e}function K1(t){var e=Ys(t);e!==null&&e.tag===5&&e.type==="form"?Z0(e):ji.r(t)}var Zs=typeof document>"u"?null:document;function aS(t,e,n){var i=Zs;if(i&&typeof e=="string"&&e){var r=bn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),yv.has(r)||(yv.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Vt(e,"link",t),bt(e),i.head.appendChild(e)))}}function Q1(t){ji.D(t),aS("dns-prefetch",t,null)}function Y1(t,e){ji.C(t,e),aS("preconnect",t,e)}function X1(t,e,n){ji.L(t,e,n);var i=Zs;if(i&&t&&e){var r='link[rel="preload"][as="'+bn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+bn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+bn(n.imageSizes)+'"]')):r+='[href="'+bn(t)+'"]';var a=r;switch(e){case"style":a=xs(t);break;case"script":a=Ws(t)}Dn.has(a)||(t=Fe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Dn.set(a,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(Gl(a))||e==="script"&&i.querySelector(Kl(a))||(e=i.createElement("link"),Vt(e,"link",t),bt(e),i.head.appendChild(e)))}}function $1(t,e){ji.m(t,e);var n=Zs;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+bn(i)+'"][href="'+bn(t)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ws(t)}if(!Dn.has(a)&&(t=Fe({rel:"modulepreload",href:t},e),Dn.set(a,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Kl(a)))return}i=n.createElement("link"),Vt(i,"link",t),bt(i),n.head.appendChild(i)}}}function Z1(t,e,n){ji.S(t,e,n);var i=Zs;if(i&&t){var r=fs(i).hoistableStyles,a=xs(t);e=e||"default";var s=r.get(a);if(!s){var l={loading:0,preload:null};if(s=i.querySelector(Gl(a)))l.loading=5;else{t=Fe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Dn.get(a))&&bg(t,n);var u=s=i.createElement("link");bt(u),Vt(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ec(s,e,i)}s={type:"stylesheet",instance:s,count:1,state:l},r.set(a,s)}}}function W1(t,e){ji.X(t,e);var n=Zs;if(n&&t){var i=fs(n).hoistableScripts,r=Ws(t),a=i.get(r);a||(a=n.querySelector(Kl(r)),a||(t=Fe({src:t,async:!0},e),(e=Dn.get(r))&&wg(t,e),a=n.createElement("script"),bt(a),Vt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function J1(t,e){ji.M(t,e);var n=Zs;if(n&&t){var i=fs(n).hoistableScripts,r=Ws(t),a=i.get(r);a||(a=n.querySelector(Kl(r)),a||(t=Fe({src:t,async:!0,type:"module"},e),(e=Dn.get(r))&&wg(t,e),a=n.createElement("script"),bt(a),Vt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function vv(t,e,n,i){var r=(r=gr.current)?zc(r):null;if(!r)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=xs(n.href),n=fs(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=xs(n.href);var a=fs(r).hoistableStyles,s=a.get(t);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=r.querySelector(Gl(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Dn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Dn.set(t,n),a||eI(r,t,n,s.state))),e&&i===null)throw Error(z(528,""));return s}if(e&&i!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ws(n),n=fs(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function xs(t){return'href="'+bn(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function sS(t){return Fe({},t,{"data-precedence":t.precedence,precedence:null})}function eI(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Vt(e,"link",n),bt(e),t.head.appendChild(e))}function Ws(t){return'[src="'+bn(t)+'"]'}function Kl(t){return"script[async]"+t}function _v(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+bn(n.href)+'"]');if(i)return e.instance=i,bt(i),i;var r=Fe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),bt(i),Vt(i,"style",r),ec(i,n.precedence,t),e.instance=i;case"stylesheet":r=xs(n.href);var a=t.querySelector(Gl(r));if(a)return e.state.loading|=4,e.instance=a,bt(a),a;i=sS(n),(r=Dn.get(r))&&bg(i,r),a=(t.ownerDocument||t).createElement("link"),bt(a);var s=a;return s._p=new Promise(function(l,u){s.onload=l,s.onerror=u}),Vt(a,"link",i),e.state.loading|=4,ec(a,n.precedence,t),e.instance=a;case"script":return a=Ws(n.src),(r=t.querySelector(Kl(a)))?(e.instance=r,bt(r),r):(i=n,(r=Dn.get(a))&&(i=Fe({},n),wg(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),bt(r),Vt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ec(i,n.precedence,t));return e.instance}function ec(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var l=i[s];if(l.dataset.precedence===e)a=l;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function bg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function wg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var tc=null;function Ev(t,e,n){if(tc===null){var i=new Map,r=tc=new Map;r.set(n,i)}else r=tc,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[Pl]||a[Bt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var l=i.get(s);l?l.push(a):i.set(s,[a])}}return i}function Tv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function tI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function oS(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var pl=null;function nI(){}function iI(t,e,n){if(pl===null)throw Error(z(475));var i=pl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=xs(n.href),a=t.querySelector(Gl(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Bc.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=a,bt(a);return}a=t.ownerDocument||t,n=sS(n),(r=Dn.get(r))&&bg(n,r),a=a.createElement("link"),bt(a);var s=a;s._p=new Promise(function(l,u){s.onload=l,s.onerror=u}),Vt(a,"link",n),e.instance=a}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Bc.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function rI(){if(pl===null)throw Error(z(475));var t=pl;return t.stylesheets&&t.count===0&&Wd(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Wd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function Wd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,e.forEach(aI,t),jc=null,Bc.call(t))}function aI(t,e){if(!(e.state.loading&4)){var n=jc.get(t);if(n)var i=n.get(null);else{n=new Map,jc.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=e.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=Bc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var yl={$$typeof:Ti,Provider:null,Consumer:null,_currentValue:sa,_currentValue2:sa,_threadCount:0};function sI(t,e,n,i,r,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ff(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.hiddenUpdates=ff(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function lS(t,e,n,i,r,a,s,l,u,c,f,m){return t=new sI(t,e,n,s,l,u,c,m),e=1,a===!0&&(e|=24),a=cn(3,null,null,e),t.current=a,a.stateNode=t,e=Jm(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:e},tg(a),t}function uS(t){return t?(t=ls,t):ls}function cS(t,e,n,i,r,a){r=uS(r),i.context===null?i.context=r:i.pendingContext=r,i=pr(e),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=yr(t,i,e),n!==null&&(mn(n,t,e),Qo(n,t,e))}function Sv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rg(t,e){Sv(t,e),(t=t.alternate)&&Sv(t,e)}function hS(t){if(t.tag===13){var e=Xs(t,67108864);e!==null&&mn(e,t,67108864),Rg(t,67108864)}}var Hc=!0;function oI(t,e,n,i){var r=se.T;se.T=null;var a=Re.p;try{Re.p=2,Ig(t,e,n,i)}finally{Re.p=a,se.T=r}}function lI(t,e,n,i){var r=se.T;se.T=null;var a=Re.p;try{Re.p=8,Ig(t,e,n,i)}finally{Re.p=a,se.T=r}}function Ig(t,e,n,i){if(Hc){var r=Jd(i);if(r===null)qf(t,e,i,qc,n),Av(t,i);else if(cI(r,t,e,n,i))i.stopPropagation();else if(Av(t,i),e&4&&-1<uI.indexOf(t)){for(;r!==null;){var a=Ys(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Zr(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var u=1<<31-fn(s);l.entanglements[1]|=u,s&=~u}ui(a),!(Me&6)&&(Vc=ei()+500,Fl(0))}}break;case 13:l=Xs(a,2),l!==null&&mn(l,a,2),Ch(),Rg(a,2)}if(a=Jd(i),a===null&&qf(t,e,i,qc,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else qf(t,e,i,null,n)}}function Jd(t){return t=qm(t),Cg(t)}var qc=null;function Cg(t){if(qc=null,t=ns(t),t!==null){var e=Nl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=LE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return qc=t,null}function fS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yw()){case BE:return 2;case jE:return 8;case yc:case Xw:return 32;case HE:return 268435456;default:return 32}default:return 32}}var em=!1,Er=null,Tr=null,Sr=null,vl=new Map,_l=new Map,ar=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Av(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function Do(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Ys(e),e!==null&&hS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function cI(t,e,n,i,r){switch(e){case"focusin":return Er=Do(Er,t,e,n,i,r),!0;case"dragenter":return Tr=Do(Tr,t,e,n,i,r),!0;case"mouseover":return Sr=Do(Sr,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return vl.set(a,Do(vl.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,_l.set(a,Do(_l.get(a)||null,t,e,n,i,r)),!0}return!1}function dS(t){var e=ns(t.target);if(e!==null){var n=Nl(e);if(n!==null){if(e=n.tag,e===13){if(e=LE(n),e!==null){t.blockedOn=e,iR(t.priority,function(){if(n.tag===13){var i=dn();i=zm(i);var r=Xs(n,i);r!==null&&mn(r,n,i),Rg(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);yd=i,n.target.dispatchEvent(i),yd=null}else return e=Ys(n),e!==null&&hS(e),t.blockedOn=n,!1;e.shift()}return!0}function bv(t,e,n){nc(t)&&n.delete(e)}function hI(){em=!1,Er!==null&&nc(Er)&&(Er=null),Tr!==null&&nc(Tr)&&(Tr=null),Sr!==null&&nc(Sr)&&(Sr=null),vl.forEach(bv),_l.forEach(bv)}function Vu(t,e){t.blockedOn===e&&(t.blockedOn=null,em||(em=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,hI)))}var xu=null;function wv(t){xu!==t&&(xu=t,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,function(){xu===t&&(xu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Cg(i||n)===null)continue;break}var a=Ys(n);a!==null&&(t.splice(e,3),e-=3,Vd(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function El(t){function e(u){return Vu(u,t)}Er!==null&&Vu(Er,t),Tr!==null&&Vu(Tr,t),Sr!==null&&Vu(Sr,t),vl.forEach(e),_l.forEach(e);for(var n=0;n<ar.length;n++){var i=ar[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)dS(n),n.blockedOn===null&&ar.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[Jt]||null;if(typeof a=="function")s||wv(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[Jt]||null)l=s.formAction;else if(Cg(r)!==null)continue}else l=s.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),wv(n)}}}function Dg(t){this._internalRoot=t}Mh.prototype.render=Dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,i=dn();cS(n,i,t,e,null,null)};Mh.prototype.unmount=Dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cS(t.current,2,null,t,null,null),Ch(),e[Qs]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=QE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ar.length&&e!==0&&e<ar[n].priority;n++);ar.splice(n,0,t),n===0&&dS(t)}};var Rv=xE.version;if(Rv!=="19.1.0")throw Error(z(527,Rv,"19.1.0"));Re.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=jw(e),t=t!==null?UE(t):null,t=t===null?null:t.stateNode,t};var fI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Ml=Pu.inject(fI),hn=Pu}catch{}}ph.createRoot=function(t,e){if(!PE(t))throw Error(z(299));var n=!1,i="",r=lT,a=uT,s=cT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=lS(t,1,!1,null,null,n,i,r,a,s,l,null),t[Qs]=e.current,Ag(t),new Dg(e)};ph.hydrateRoot=function(t,e,n){if(!PE(t))throw Error(z(299));var i=!1,r="",a=lT,s=uT,l=cT,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=lS(t,1,!0,e,n??null,i,r,a,s,l,u,c),e.context=uS(null),n=e.current,i=dn(),i=zm(i),r=pr(i),r.callback=null,yr(n,r,i),n=i,e.current.lanes=n,xl(e,n),ui(e),t[Qs]=e.current,Ag(t),new Mh(e)};ph.version="19.1.0";function mS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mS)}catch(t){console.error(t)}}mS(),CE.exports=ph;var dI=CE.exports;const mI=Dm(dI);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qe.apply(this,arguments)}var ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ut||(ut={}));const Iv="popstate";function gI(t){t===void 0&&(t={});function e(i,r){let{pathname:a,search:s,hash:l}=i.location;return Tl("",{pathname:a,search:s,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:va(r)}return yI(e,n,null,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ps(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pI(){return Math.random().toString(36).substr(2,8)}function Cv(t,e){return{usr:t.state,key:t.key,idx:e}}function Tl(t,e,n,i){return n===void 0&&(n=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Br(e):e,{state:n,key:e&&e.key||i||pI()})}function va(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Br(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function yI(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,l=ut.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(Qe({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function m(){l=ut.Pop;let V=f(),T=V==null?null:V-c;c=V,u&&u({action:l,location:O.location,delta:T})}function g(V,T){l=ut.Push;let E=Tl(O.location,V,T);c=f()+1;let b=Cv(E,c),N=O.createHref(E);try{s.pushState(b,"",N)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(N)}a&&u&&u({action:l,location:O.location,delta:1})}function y(V,T){l=ut.Replace;let E=Tl(O.location,V,T);c=f();let b=Cv(E,c),N=O.createHref(E);s.replaceState(b,"",N),a&&u&&u({action:l,location:O.location,delta:0})}function C(V){let T=r.location.origin!=="null"?r.location.origin:r.location.href,E=typeof V=="string"?V:va(V);return E=E.replace(/ $/,"%20"),ge(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let O={get action(){return l},get location(){return t(r,s)},listen(V){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Iv,m),u=V,()=>{r.removeEventListener(Iv,m),u=null}},createHref(V){return e(r,V)},createURL:C,encodeLocation(V){let T=C(V);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:y,go(V){return s.go(V)}};return O}var Ne;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ne||(Ne={}));const vI=new Set(["lazy","caseSensitive","path","id","index","children"]);function _I(t){return t.index===!0}function Fc(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,a)=>{let s=[...n,String(a)],l=typeof r.id=="string"?r.id:s.join("-");if(ge(r.index!==!0||!r.children,"Cannot specify children on an index route"),ge(!i[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),_I(r)){let u=Qe({},r,e(r),{id:l});return i[l]=u,u}else{let u=Qe({},r,e(r),{id:l,children:void 0});return i[l]=u,r.children&&(u.children=Fc(r.children,e,s,i)),u}})}function ta(t,e,n){return n===void 0&&(n="/"),ic(t,e,n,!1)}function ic(t,e,n,i){let r=typeof e=="string"?Br(e):e,a=Li(r.pathname||"/",n);if(a==null)return null;let s=gS(t);TI(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=MI(a);l=OI(s[u],c,i)}return l}function EI(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function gS(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(ge(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let c=Oi([i,u.relativePath]),f=n.concat(u);a.children&&a.children.length>0&&(ge(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),gS(a.children,e,f,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:CI(c,a.index),routesMeta:f})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,s);else for(let u of pS(a.path))r(a,s,u)}),e}function pS(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=pS(i.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function TI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DI(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const SI=/^:[\w-]+$/,AI=3,bI=2,wI=1,RI=10,II=-2,Dv=t=>t==="*";function CI(t,e){let n=t.split("/"),i=n.length;return n.some(Dv)&&(i+=II),e&&(i+=bI),n.filter(r=>!Dv(r)).reduce((r,a)=>r+(SI.test(a)?AI:a===""?wI:RI),i)}function DI(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function OI(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},a="/",s=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=Gc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=Gc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),s.push({params:r,pathname:Oi([a,m.pathname]),pathnameBase:PI(Oi([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Oi([a,m.pathnameBase]))}return s}function Gc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=NI(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,f,m)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let O=l[m]||"";s=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const C=l[m];return y&&!C?c[g]=void 0:c[g]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function NI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ps(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function MI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ps(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Li(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function VI(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Br(t):t;return{pathname:n?n.startsWith("/")?n:xI(n,e):e,search:LI(i),hash:UI(r)}}function xI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Gf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Og(t,e){let n=yS(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Ng(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Br(t):(r=Qe({},t),ge(!r.pathname||!r.pathname.includes("?"),Gf("?","pathname","search",r)),ge(!r.pathname||!r.pathname.includes("#"),Gf("#","pathname","hash",r)),ge(!r.search||!r.search.includes("#"),Gf("#","search","hash",r)));let a=t===""||r.pathname==="",s=a?"/":r.pathname,l;if(s==null)l=n;else{let m=e.length-1;if(!i&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=VI(r,l),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),PI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Kc{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Sl(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vS=["post","put","patch","delete"],kI=new Set(vS),zI=["get",...vS],BI=new Set(zI),jI=new Set([301,302,303,307,308]),HI=new Set([307,308]),Kf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),_S="remix-router-transitions";function GI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;r=M=>({hasErrorBoundary:R(M)})}else r=FI;let a={},s=Fc(t.routes,r,void 0,a),l,u=t.basename||"/",c=t.dataStrategy||XI,f=t.patchRoutesOnNavigation,m=Qe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,y=new Set,C=null,O=null,V=null,T=t.hydrationData!=null,E=ta(s,t.history.location,u),b=!1,N=null;if(E==null&&!f){let R=$t(404,{pathname:t.history.location.pathname}),{matches:M,route:P}=Bv(s);E=M,N={[P.id]:R}}E&&!t.hydrationData&&Qr(E,s,t.history.location.pathname).active&&(E=null);let B;if(E)if(E.some(R=>R.route.lazy))B=!1;else if(!E.some(R=>R.route.loader))B=!0;else if(m.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null;if(M){let P=E.findIndex(j=>M[j.route.id]!==void 0);B=E.slice(0,P+1).every(j=>!nm(j.route,R,M))}else B=E.every(P=>!nm(P.route,R,M))}else B=t.hydrationData!=null;else if(B=!1,E=[],m.v7_partialHydration){let R=Qr(null,s,t.history.location.pathname);R.active&&R.matches&&(b=!0,E=R.matches)}let q,p={historyAction:t.history.action,location:t.history.location,matches:E,initialized:B,navigation:Kf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||N,fetchers:new Map,blockers:new Map},v=ut.Pop,S=!1,A,I=!1,D=new Map,w=null,ze=!1,ft=!1,Q=[],re=new Set,W=new Map,Ie=0,Pe=-1,tn=new Map,Ze=new Set,Le=new Map,qt=new Map,et=new Set,ci=new Map,yn=new Map,Ma;function Jh(){if(g=t.history.listen(R=>{let{action:M,location:P,delta:j}=R;if(Ma){Ma(),Ma=void 0;return}Ps(yn.size===0||j!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=ho({currentLocation:p.location,nextLocation:P,historyAction:M});if(K&&j!=null){let J=new Promise(ae=>{Ma=ae});t.history.go(j*-1),Fr(K,{state:"blocked",location:P,proceed(){Fr(K,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),J.then(()=>t.history.go(j))},reset(){let ae=new Map(p.blockers);ae.set(K,Oo),dt({blockers:ae})}});return}return Fn(M,P)}),n){uC(e,D);let R=()=>cC(e,D);e.addEventListener("pagehide",R),w=()=>e.removeEventListener("pagehide",R)}return p.initialized||Fn(ut.Pop,p.location,{initialHydration:!0}),q}function Va(){g&&g(),w&&w(),y.clear(),A&&A.abort(),p.fetchers.forEach((R,M)=>La(M)),p.blockers.forEach((R,M)=>ka(M))}function xa(R){return y.add(R),()=>y.delete(R)}function dt(R,M){M===void 0&&(M={}),p=Qe({},p,R);let P=[],j=[];m.v7_fetcherPersist&&p.fetchers.forEach((K,J)=>{K.state==="idle"&&(et.has(J)?j.push(J):P.push(J))}),et.forEach(K=>{!p.fetchers.has(K)&&!W.has(K)&&j.push(K)}),[...y].forEach(K=>K(p,{deletedFetchers:j,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),m.v7_fetcherPersist?(P.forEach(K=>p.fetchers.delete(K)),j.forEach(K=>La(K))):j.forEach(K=>et.delete(K))}function qn(R,M,P){var j,K;let{flushSync:J}=P===void 0?{}:P,ae=p.actionData!=null&&p.navigation.formMethod!=null&&Pn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((j=R.state)==null?void 0:j._isRedirect)!==!0,Z;M.actionData?Object.keys(M.actionData).length>0?Z=M.actionData:Z=null:ae?Z=p.actionData:Z=null;let $=M.loaderData?kv(p.loaderData,M.loaderData,M.matches||[],M.errors):p.loaderData,X=p.blockers;X.size>0&&(X=new Map(X),X.forEach((he,ot)=>X.set(ot,Oo)));let ee=S===!0||p.navigation.formMethod!=null&&Pn(p.navigation.formMethod)&&((K=R.state)==null?void 0:K._isRedirect)!==!0;l&&(s=l,l=void 0),ze||v===ut.Pop||(v===ut.Push?t.history.push(R,R.state):v===ut.Replace&&t.history.replace(R,R.state));let le;if(v===ut.Pop){let he=D.get(p.location.pathname);he&&he.has(R.pathname)?le={currentLocation:p.location,nextLocation:R}:D.has(R.pathname)&&(le={currentLocation:R,nextLocation:p.location})}else if(I){let he=D.get(p.location.pathname);he?he.add(R.pathname):(he=new Set([R.pathname]),D.set(p.location.pathname,he)),le={currentLocation:p.location,nextLocation:R}}dt(Qe({},M,{actionData:Z,loaderData:$,historyAction:v,location:R,initialized:!0,navigation:Kf,revalidation:"idle",restoreScrollPosition:Kr(R,M.matches||p.matches),preventScrollReset:ee,blockers:X}),{viewTransitionOpts:le,flushSync:J===!0}),v=ut.Pop,S=!1,I=!1,ze=!1,ft=!1,Q=[]}async function Pa(R,M){if(typeof R=="number"){t.history.go(R);return}let P=tm(p.location,p.matches,u,m.v7_prependBasename,R,m.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:j,submission:K,error:J}=Ov(m.v7_normalizeFormMethod,!1,P,M),ae=p.location,Z=Tl(p.location,j,M&&M.state);Z=Qe({},Z,t.history.encodeLocation(Z));let $=M&&M.replace!=null?M.replace:void 0,X=ut.Push;$===!0?X=ut.Replace:$===!1||K!=null&&Pn(K.formMethod)&&K.formAction===p.location.pathname+p.location.search&&(X=ut.Replace);let ee=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,le=(M&&M.flushSync)===!0,he=ho({currentLocation:ae,nextLocation:Z,historyAction:X});if(he){Fr(he,{state:"blocked",location:Z,proceed(){Fr(he,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Pa(R,M)},reset(){let ot=new Map(p.blockers);ot.set(he,Oo),dt({blockers:ot})}});return}return await Fn(X,Z,{submission:K,pendingError:J,preventScrollReset:ee,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:le})}function ao(){if(gt(),dt({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){Fn(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}Fn(v||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation,enableViewTransition:I===!0})}}async function Fn(R,M,P){A&&A.abort(),A=null,v=R,ze=(P&&P.startUninterruptedRevalidation)===!0,ou(p.location,p.matches),S=(P&&P.preventScrollReset)===!0,I=(P&&P.enableViewTransition)===!0;let j=l||s,K=P&&P.overrideNavigation,J=P!=null&&P.initialHydration&&p.matches&&p.matches.length>0&&!b?p.matches:ta(j,M,u),ae=(P&&P.flushSync)===!0;if(J&&p.initialized&&!ft&&tC(p.location,M)&&!(P&&P.submission&&Pn(P.submission.formMethod))){qn(M,{matches:J},{flushSync:ae});return}let Z=Qr(J,j,M.pathname);if(Z.active&&Z.matches&&(J=Z.matches),!J){let{error:De,notFoundMatches:Ee,route:Be}=hi(M.pathname);qn(M,{matches:Ee,loaderData:{},errors:{[Be.id]:De}},{flushSync:ae});return}A=new AbortController;let $=Ga(t.history,M,A.signal,P&&P.submission),X;if(P&&P.pendingError)X=[na(J).route.id,{type:Ne.error,error:P.pendingError}];else if(P&&P.submission&&Pn(P.submission.formMethod)){let De=await ef($,M,P.submission,J,Z.active,{replace:P.replace,flushSync:ae});if(De.shortCircuited)return;if(De.pendingActionResult){let[Ee,Be]=De.pendingActionResult;if(un(Be)&&Sl(Be.error)&&Be.error.status===404){A=null,qn(M,{matches:De.matches,loaderData:{},errors:{[Ee]:Be.error}});return}}J=De.matches||J,X=De.pendingActionResult,K=Qf(M,P.submission),ae=!1,Z.active=!1,$=Ga(t.history,$.url,$.signal)}let{shortCircuited:ee,matches:le,loaderData:he,errors:ot}=await tf($,M,J,Z.active,K,P&&P.submission,P&&P.fetcherSubmission,P&&P.replace,P&&P.initialHydration===!0,ae,X);ee||(A=null,qn(M,Qe({matches:le||J},zv(X),{loaderData:he,errors:ot})))}async function ef(R,M,P,j,K,J){J===void 0&&(J={}),gt();let ae=oC(M,P);if(dt({navigation:ae},{flushSync:J.flushSync===!0}),K){let X=await Kn(j,M.pathname,R.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let ee=na(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[ee,{type:Ne.error,error:X.error}]}}else if(X.matches)j=X.matches;else{let{notFoundMatches:ee,error:le,route:he}=hi(M.pathname);return{matches:ee,pendingActionResult:[he.id,{type:Ne.error,error:le}]}}}let Z,$=Uo(j,M);if(!$.route.action&&!$.route.lazy)Z={type:Ne.error,error:$t(405,{method:R.method,pathname:M.pathname,routeId:$.route.id})};else if(Z=(await qi("action",p,R,[$],j,null))[$.route.id],R.signal.aborted)return{shortCircuited:!0};if(ia(Z)){let X;return J&&J.replace!=null?X=J.replace:X=Pv(Z.response.headers.get("Location"),new URL(R.url),u)===p.location.pathname+p.location.search,await On(R,Z,!0,{submission:P,replace:X}),{shortCircuited:!0}}if(dr(Z))throw $t(400,{type:"defer-action"});if(un(Z)){let X=na(j,$.route.id);return(J&&J.replace)!==!0&&(v=ut.Push),{matches:j,pendingActionResult:[X.route.id,Z]}}return{matches:j,pendingActionResult:[$.route.id,Z]}}async function tf(R,M,P,j,K,J,ae,Z,$,X,ee){let le=K||Qf(M,J),he=J||ae||Hv(le),ot=!ze&&(!m.v7_partialHydration||!$);if(j){if(ot){let He=so(ee);dt(Qe({navigation:le},He!==void 0?{actionData:He}:{}),{flushSync:X})}let Te=await Kn(P,M.pathname,R.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let He=na(Te.partialMatches).route.id;return{matches:Te.partialMatches,loaderData:{},errors:{[He]:Te.error}}}else if(Te.matches)P=Te.matches;else{let{error:He,notFoundMatches:mi,route:Ki}=hi(M.pathname);return{matches:mi,loaderData:{},errors:{[Ki.id]:He}}}}let De=l||s,[Ee,Be]=Mv(t.history,p,P,he,M,m.v7_partialHydration&&$===!0,m.v7_skipActionErrorRevalidation,ft,Q,re,et,Le,Ze,De,u,ee);if(Gr(Te=>!(P&&P.some(He=>He.route.id===Te))||Ee&&Ee.some(He=>He.route.id===Te)),Pe=++Ie,Ee.length===0&&Be.length===0){let Te=Ua();return qn(M,Qe({matches:P,loaderData:{},errors:ee&&un(ee[1])?{[ee[0]]:ee[1].error}:null},zv(ee),Te?{fetchers:new Map(p.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(ot){let Te={};if(!j){Te.navigation=le;let He=so(ee);He!==void 0&&(Te.actionData=He)}Be.length>0&&(Te.fetchers=oo(Be)),dt(Te,{flushSync:X})}Be.forEach(Te=>{Nn(Te.key),Te.controller&&W.set(Te.key,Te.controller)});let fi=()=>Be.forEach(Te=>Nn(Te.key));A&&A.signal.addEventListener("abort",fi);let{loaderResults:Fi,fetcherResults:Mn}=await mt(p,P,Ee,Be,R);if(R.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",fi),Be.forEach(Te=>W.delete(Te.key));let Ft=Lu(Fi);if(Ft)return await On(R,Ft.result,!0,{replace:Z}),{shortCircuited:!0};if(Ft=Lu(Mn),Ft)return Ze.add(Ft.key),await On(R,Ft.result,!0,{replace:Z}),{shortCircuited:!0};let{loaderData:za,errors:di}=Uv(p,P,Fi,ee,Be,Mn,ci);ci.forEach((Te,He)=>{Te.subscribe(mi=>{(mi||Te.done)&&ci.delete(He)})}),m.v7_partialHydration&&$&&p.errors&&(di=Qe({},p.errors,di));let rn=Ua(),_n=su(Pe),Gi=rn||_n||Be.length>0;return Qe({matches:P,loaderData:za,errors:di},Gi?{fetchers:new Map(p.fetchers)}:{})}function so(R){if(R&&!un(R[1]))return{[R[0]]:R[1].data};if(p.actionData)return Object.keys(p.actionData).length===0?null:p.actionData}function oo(R){return R.forEach(M=>{let P=p.fetchers.get(M.key),j=No(void 0,P?P.data:void 0);p.fetchers.set(M.key,j)}),new Map(p.fetchers)}function au(R,M,P,j){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Nn(R);let K=(j&&j.flushSync)===!0,J=l||s,ae=tm(p.location,p.matches,u,m.v7_prependBasename,P,m.v7_relativeSplatPath,M,j==null?void 0:j.relative),Z=ta(J,ae,u),$=Qr(Z,J,ae);if($.active&&$.matches&&(Z=$.matches),!Z){vn(R,M,$t(404,{pathname:ae}),{flushSync:K});return}let{path:X,submission:ee,error:le}=Ov(m.v7_normalizeFormMethod,!0,ae,j);if(le){vn(R,M,le,{flushSync:K});return}let he=Uo(Z,X),ot=(j&&j.preventScrollReset)===!0;if(ee&&Pn(ee.formMethod)){nf(R,M,X,he,Z,$.active,K,ot,ee);return}Le.set(R,{routeId:M,path:X}),lo(R,M,X,he,Z,$.active,K,ot,ee)}async function nf(R,M,P,j,K,J,ae,Z,$){gt(),Le.delete(R);function X(Ge){if(!Ge.route.action&&!Ge.route.lazy){let Qn=$t(405,{method:$.formMethod,pathname:P,routeId:M});return vn(R,M,Qn,{flushSync:ae}),!0}return!1}if(!J&&X(j))return;let ee=p.fetchers.get(R);nn(R,lC($,ee),{flushSync:ae});let le=new AbortController,he=Ga(t.history,P,le.signal,$);if(J){let Ge=await Kn(K,new URL(he.url).pathname,he.signal,R);if(Ge.type==="aborted")return;if(Ge.type==="error"){vn(R,M,Ge.error,{flushSync:ae});return}else if(Ge.matches){if(K=Ge.matches,j=Uo(K,P),X(j))return}else{vn(R,M,$t(404,{pathname:P}),{flushSync:ae});return}}W.set(R,le);let ot=Ie,Ee=(await qi("action",p,he,[j],K,R))[j.route.id];if(he.signal.aborted){W.get(R)===le&&W.delete(R);return}if(m.v7_fetcherPersist&&et.has(R)){if(ia(Ee)||un(Ee)){nn(R,Ji(void 0));return}}else{if(ia(Ee))if(W.delete(R),Pe>ot){nn(R,Ji(void 0));return}else return Ze.add(R),nn(R,No($)),On(he,Ee,!1,{fetcherSubmission:$,preventScrollReset:Z});if(un(Ee)){vn(R,M,Ee.error);return}}if(dr(Ee))throw $t(400,{type:"defer-action"});let Be=p.navigation.location||p.location,fi=Ga(t.history,Be,le.signal),Fi=l||s,Mn=p.navigation.state!=="idle"?ta(Fi,p.navigation.location,u):p.matches;ge(Mn,"Didn't find any matches after fetcher action");let Ft=++Ie;tn.set(R,Ft);let za=No($,Ee.data);p.fetchers.set(R,za);let[di,rn]=Mv(t.history,p,Mn,$,Be,!1,m.v7_skipActionErrorRevalidation,ft,Q,re,et,Le,Ze,Fi,u,[j.route.id,Ee]);rn.filter(Ge=>Ge.key!==R).forEach(Ge=>{let Qn=Ge.key,mo=p.fetchers.get(Qn),uu=No(void 0,mo?mo.data:void 0);p.fetchers.set(Qn,uu),Nn(Qn),Ge.controller&&W.set(Qn,Ge.controller)}),dt({fetchers:new Map(p.fetchers)});let _n=()=>rn.forEach(Ge=>Nn(Ge.key));le.signal.addEventListener("abort",_n);let{loaderResults:Gi,fetcherResults:Te}=await mt(p,Mn,di,rn,fi);if(le.signal.aborted)return;le.signal.removeEventListener("abort",_n),tn.delete(R),W.delete(R),rn.forEach(Ge=>W.delete(Ge.key));let He=Lu(Gi);if(He)return On(fi,He.result,!1,{preventScrollReset:Z});if(He=Lu(Te),He)return Ze.add(He.key),On(fi,He.result,!1,{preventScrollReset:Z});let{loaderData:mi,errors:Ki}=Uv(p,Mn,Gi,void 0,rn,Te,ci);if(p.fetchers.has(R)){let Ge=Ji(Ee.data);p.fetchers.set(R,Ge)}su(Ft),p.navigation.state==="loading"&&Ft>Pe?(ge(v,"Expected pending action"),A&&A.abort(),qn(p.navigation.location,{matches:Mn,loaderData:mi,errors:Ki,fetchers:new Map(p.fetchers)})):(dt({errors:Ki,loaderData:kv(p.loaderData,mi,Mn,Ki),fetchers:new Map(p.fetchers)}),ft=!1)}async function lo(R,M,P,j,K,J,ae,Z,$){let X=p.fetchers.get(R);nn(R,No($,X?X.data:void 0),{flushSync:ae});let ee=new AbortController,le=Ga(t.history,P,ee.signal);if(J){let Ee=await Kn(K,new URL(le.url).pathname,le.signal,R);if(Ee.type==="aborted")return;if(Ee.type==="error"){vn(R,M,Ee.error,{flushSync:ae});return}else if(Ee.matches)K=Ee.matches,j=Uo(K,P);else{vn(R,M,$t(404,{pathname:P}),{flushSync:ae});return}}W.set(R,ee);let he=Ie,De=(await qi("loader",p,le,[j],K,R))[j.route.id];if(dr(De)&&(De=await Vg(De,le.signal,!0)||De),W.get(R)===ee&&W.delete(R),!le.signal.aborted){if(et.has(R)){nn(R,Ji(void 0));return}if(ia(De))if(Pe>he){nn(R,Ji(void 0));return}else{Ze.add(R),await On(le,De,!1,{preventScrollReset:Z});return}if(un(De)){vn(R,M,De.error);return}ge(!dr(De),"Unhandled fetcher deferred data"),nn(R,Ji(De.data))}}async function On(R,M,P,j){let{submission:K,fetcherSubmission:J,preventScrollReset:ae,replace:Z}=j===void 0?{}:j;M.response.headers.has("X-Remix-Revalidate")&&(ft=!0);let $=M.response.headers.get("Location");ge($,"Expected a Location header on the redirect Response"),$=Pv($,new URL(R.url),u);let X=Tl(p.location,$,{_isRedirect:!0});if(n){let Ee=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Ee=!0;else if(Mg.test($)){const Be=t.history.createURL($);Ee=Be.origin!==e.location.origin||Li(Be.pathname,u)==null}if(Ee){Z?e.location.replace($):e.location.assign($);return}}A=null;let ee=Z===!0||M.response.headers.has("X-Remix-Replace")?ut.Replace:ut.Push,{formMethod:le,formAction:he,formEncType:ot}=p.navigation;!K&&!J&&le&&he&&ot&&(K=Hv(p.navigation));let De=K||J;if(HI.has(M.response.status)&&De&&Pn(De.formMethod))await Fn(ee,X,{submission:Qe({},De,{formAction:$}),preventScrollReset:ae||S,enableViewTransition:P?I:void 0});else{let Ee=Qf(X,K);await Fn(ee,X,{overrideNavigation:Ee,fetcherSubmission:J,preventScrollReset:ae||S,enableViewTransition:P?I:void 0})}}async function qi(R,M,P,j,K,J){let ae,Z={};try{ae=await $I(c,R,M,P,j,K,J,a,r)}catch($){return j.forEach(X=>{Z[X.route.id]={type:Ne.error,error:$}}),Z}for(let[$,X]of Object.entries(ae))if(nC(X)){let ee=X.result;Z[$]={type:Ne.redirect,response:JI(ee,P,$,K,u,m.v7_relativeSplatPath)}}else Z[$]=await WI(X);return Z}async function mt(R,M,P,j,K){let J=R.matches,ae=qi("loader",R,K,P,M,null),Z=Promise.all(j.map(async ee=>{if(ee.matches&&ee.match&&ee.controller){let he=(await qi("loader",R,Ga(t.history,ee.path,ee.controller.signal),[ee.match],ee.matches,ee.key))[ee.match.route.id];return{[ee.key]:he}}else return Promise.resolve({[ee.key]:{type:Ne.error,error:$t(404,{pathname:ee.path})}})})),$=await ae,X=(await Z).reduce((ee,le)=>Object.assign(ee,le),{});return await Promise.all([aC(M,$,K.signal,J,R.loaderData),sC(M,X,j)]),{loaderResults:$,fetcherResults:X}}function gt(){ft=!0,Q.push(...Gr()),Le.forEach((R,M)=>{W.has(M)&&re.add(M),Nn(M)})}function nn(R,M,P){P===void 0&&(P={}),p.fetchers.set(R,M),dt({fetchers:new Map(p.fetchers)},{flushSync:(P&&P.flushSync)===!0})}function vn(R,M,P,j){j===void 0&&(j={});let K=na(p.matches,M);La(R),dt({errors:{[K.route.id]:P},fetchers:new Map(p.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function uo(R){return qt.set(R,(qt.get(R)||0)+1),et.has(R)&&et.delete(R),p.fetchers.get(R)||qI}function La(R){let M=p.fetchers.get(R);W.has(R)&&!(M&&M.state==="loading"&&tn.has(R))&&Nn(R),Le.delete(R),tn.delete(R),Ze.delete(R),m.v7_fetcherPersist&&et.delete(R),re.delete(R),p.fetchers.delete(R)}function qr(R){let M=(qt.get(R)||0)-1;M<=0?(qt.delete(R),et.add(R),m.v7_fetcherPersist||La(R)):qt.set(R,M),dt({fetchers:new Map(p.fetchers)})}function Nn(R){let M=W.get(R);M&&(M.abort(),W.delete(R))}function co(R){for(let M of R){let P=uo(M),j=Ji(P.data);p.fetchers.set(M,j)}}function Ua(){let R=[],M=!1;for(let P of Ze){let j=p.fetchers.get(P);ge(j,"Expected fetcher: "+P),j.state==="loading"&&(Ze.delete(P),R.push(P),M=!0)}return co(R),M}function su(R){let M=[];for(let[P,j]of tn)if(j<R){let K=p.fetchers.get(P);ge(K,"Expected fetcher: "+P),K.state==="loading"&&(Nn(P),tn.delete(P),M.push(P))}return co(M),M.length>0}function rf(R,M){let P=p.blockers.get(R)||Oo;return yn.get(R)!==M&&yn.set(R,M),P}function ka(R){p.blockers.delete(R),yn.delete(R)}function Fr(R,M){let P=p.blockers.get(R)||Oo;ge(P.state==="unblocked"&&M.state==="blocked"||P.state==="blocked"&&M.state==="blocked"||P.state==="blocked"&&M.state==="proceeding"||P.state==="blocked"&&M.state==="unblocked"||P.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+P.state+" -> "+M.state);let j=new Map(p.blockers);j.set(R,M),dt({blockers:j})}function ho(R){let{currentLocation:M,nextLocation:P,historyAction:j}=R;if(yn.size===0)return;yn.size>1&&Ps(!1,"A router only supports one blocker at a time");let K=Array.from(yn.entries()),[J,ae]=K[K.length-1],Z=p.blockers.get(J);if(!(Z&&Z.state==="proceeding")&&ae({currentLocation:M,nextLocation:P,historyAction:j}))return J}function hi(R){let M=$t(404,{pathname:R}),P=l||s,{matches:j,route:K}=Bv(P);return Gr(),{notFoundMatches:j,route:K,error:M}}function Gr(R){let M=[];return ci.forEach((P,j)=>{(!R||R(j))&&(P.cancel(),M.push(j),ci.delete(j))}),M}function fo(R,M,P){if(C=R,V=M,O=P||null,!T&&p.navigation===Kf){T=!0;let j=Kr(p.location,p.matches);j!=null&&dt({restoreScrollPosition:j})}return()=>{C=null,V=null,O=null}}function Gn(R,M){return O&&O(R,M.map(j=>EI(j,p.loaderData)))||R.key}function ou(R,M){if(C&&V){let P=Gn(R,M);C[P]=V()}}function Kr(R,M){if(C){let P=Gn(R,M),j=C[P];if(typeof j=="number")return j}return null}function Qr(R,M,P){if(f)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:ic(M,P,u,!0)}}else return{active:!0,matches:ic(M,P,u,!0)||[]};return{active:!1,matches:null}}async function Kn(R,M,P,j){if(!f)return{type:"success",matches:R};let K=R;for(;;){let J=l==null,ae=l||s,Z=a;try{await f({signal:P,path:M,matches:K,fetcherKey:j,patch:(ee,le)=>{P.aborted||xv(ee,le,ae,Z,r)}})}catch(ee){return{type:"error",error:ee,partialMatches:K}}finally{J&&!P.aborted&&(s=[...s])}if(P.aborted)return{type:"aborted"};let $=ta(ae,M,u);if($)return{type:"success",matches:$};let X=ic(ae,M,u,!0);if(!X||K.length===X.length&&K.every((ee,le)=>ee.route.id===X[le].route.id))return{type:"success",matches:null};K=X}}function lu(R){a={},l=Fc(R,r,void 0,a)}function It(R,M){let P=l==null;xv(R,M,l||s,a,r),P&&(s=[...s],dt({}))}return q={get basename(){return u},get future(){return m},get state(){return p},get routes(){return s},get window(){return e},initialize:Jh,subscribe:xa,enableScrollRestoration:fo,navigate:Pa,fetch:au,revalidate:ao,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:uo,deleteFetcher:qr,dispose:Va,getBlocker:rf,deleteBlocker:ka,patchRoutes:It,_internalFetchControllers:W,_internalActiveDeferreds:ci,_internalSetRoutes:lu},q}function KI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tm(t,e,n,i,r,a,s,l){let u,c;if(s){u=[];for(let m of e)if(u.push(m),m.route.id===s){c=m;break}}else u=e,c=e[e.length-1];let f=Ng(r||".",Og(u,a),Li(t.pathname,n)||t.pathname,l==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&c){let m=xg(f.search);if(c.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&m){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(O=>O).forEach(O=>g.append("index",O));let C=g.toString();f.search=C?"?"+C:""}}return i&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Oi([n,f.pathname])),va(f)}function Ov(t,e,n,i){if(!i||!KI(i))return{path:n};if(i.formMethod&&!rC(i.formMethod))return{path:n,error:$t(405,{method:i.formMethod})};let r=()=>({path:n,error:$t(400,{type:"invalid-body"})}),a=i.formMethod||"get",s=t?a.toUpperCase():a.toLowerCase(),l=SS(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!Pn(s))return r();let g=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((y,C)=>{let[O,V]=C;return""+y+O+"="+V+`
`},""):String(i.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:i.formEncType,formData:void 0,json:void 0,text:g}}}else if(i.formEncType==="application/json"){if(!Pn(s))return r();try{let g=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:i.formEncType,formData:void 0,json:g,text:void 0}}}catch{return r()}}}ge(typeof FormData=="function","FormData is not available in this environment");let u,c;if(i.formData)u=im(i.formData),c=i.formData;else if(i.body instanceof FormData)u=im(i.body),c=i.body;else if(i.body instanceof URLSearchParams)u=i.body,c=Lv(u);else if(i.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(i.body),c=Lv(u)}catch{return r()}let f={formMethod:s,formAction:l,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Pn(f.formMethod))return{path:n,submission:f};let m=Br(n);return e&&m.search&&xg(m.search)&&u.append("index",""),m.search="?"+u,{path:va(m),submission:f}}function Nv(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(r=>r.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Mv(t,e,n,i,r,a,s,l,u,c,f,m,g,y,C,O){let V=O?un(O[1])?O[1].error:O[1].data:void 0,T=t.createURL(e.location),E=t.createURL(r),b=n;a&&e.errors?b=Nv(n,Object.keys(e.errors)[0],!0):O&&un(O[1])&&(b=Nv(n,O[0]));let N=O?O[1].statusCode:void 0,B=s&&N&&N>=400,q=b.filter((v,S)=>{let{route:A}=v;if(A.lazy)return!0;if(A.loader==null)return!1;if(a)return nm(A,e.loaderData,e.errors);if(QI(e.loaderData,e.matches[S],v)||u.some(w=>w===v.route.id))return!0;let I=e.matches[S],D=v;return Vv(v,Qe({currentUrl:T,currentParams:I.params,nextUrl:E,nextParams:D.params},i,{actionResult:V,actionStatus:N,defaultShouldRevalidate:B?!1:l||T.pathname+T.search===E.pathname+E.search||T.search!==E.search||ES(I,D)}))}),p=[];return m.forEach((v,S)=>{if(a||!n.some(ze=>ze.route.id===v.routeId)||f.has(S))return;let A=ta(y,v.path,C);if(!A){p.push({key:S,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(S),D=Uo(A,v.path),w=!1;g.has(S)?w=!1:c.has(S)?(c.delete(S),w=!0):I&&I.state!=="idle"&&I.data===void 0?w=l:w=Vv(D,Qe({currentUrl:T,currentParams:e.matches[e.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},i,{actionResult:V,actionStatus:N,defaultShouldRevalidate:B?!1:l})),w&&p.push({key:S,routeId:v.routeId,path:v.path,matches:A,match:D,controller:new AbortController})}),[q,p]}function nm(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function QI(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function ES(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Vv(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function xv(t,e,n,i,r){var a;let s;if(t){let c=i[t];ge(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),s=c.children}else s=n;let l=e.filter(c=>!s.some(f=>TS(c,f))),u=Fc(l,r,[t||"_","patch",String(((a=s)==null?void 0:a.length)||"0")],i);s.push(...u)}function TS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(a=>TS(n,a))}):!1}async function YI(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];ge(r,"No route found in manifest");let a={};for(let s in i){let u=r[s]!==void 0&&s!=="hasErrorBoundary";Ps(!u,'Route "'+r.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!vI.has(s)&&(a[s]=i[s])}Object.assign(r,a),Object.assign(r,Qe({},e(r),{lazy:void 0}))}async function XI(t){let{matches:e}=t,n=e.filter(r=>r.shouldLoad);return(await Promise.all(n.map(r=>r.resolve()))).reduce((r,a,s)=>Object.assign(r,{[n[s].route.id]:a}),{})}async function $I(t,e,n,i,r,a,s,l,u,c){let f=a.map(y=>y.route.lazy?YI(y.route,u,l):void 0),m=a.map((y,C)=>{let O=f[C],V=r.some(E=>E.route.id===y.route.id);return Qe({},y,{shouldLoad:V,resolve:async E=>(E&&i.method==="GET"&&(y.route.lazy||y.route.loader)&&(V=!0),V?ZI(e,i,y,O,E,c):Promise.resolve({type:Ne.data,result:void 0}))})}),g=await t({matches:m,request:i,params:a[0].params,fetcherKey:s,context:c});try{await Promise.all(f)}catch{}return g}async function ZI(t,e,n,i,r,a){let s,l,u=c=>{let f,m=new Promise((C,O)=>f=O);l=()=>f(),e.signal.addEventListener("abort",l);let g=C=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:a},...C!==void 0?[C]:[]),y=(async()=>{try{return{type:"data",result:await(r?r(O=>g(O)):g())}}catch(C){return{type:"error",result:C}}})();return Promise.race([y,m])};try{let c=n.route[t];if(i)if(c){let f,[m]=await Promise.all([u(c).catch(g=>{f=g}),i]);if(f!==void 0)throw f;s=m}else if(await i,c=n.route[t],c)s=await u(c);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw $t(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Ne.data,result:void 0};else if(c)s=await u(c);else{let f=new URL(e.url),m=f.pathname+f.search;throw $t(404,{pathname:m})}ge(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ne.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function WI(t){let{result:e,type:n}=t;if(AS(e)){let m;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(g){return{type:Ne.error,error:g}}return n===Ne.error?{type:Ne.error,error:new Kc(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:Ne.data,data:m,statusCode:e.status,headers:e.headers}}if(n===Ne.error){if(jv(e)){var i,r;if(e.data instanceof Error){var a,s;return{type:Ne.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Ne.error,error:new Kc(((i=e.init)==null?void 0:i.status)||500,void 0,e.data),statusCode:Sl(e)?e.status:void 0,headers:(r=e.init)!=null&&r.headers?new Headers(e.init.headers):void 0}}return{type:Ne.error,error:e,statusCode:Sl(e)?e.status:void 0}}if(iC(e)){var l,u;return{type:Ne.deferred,deferredData:e,statusCode:(l=e.init)==null?void 0:l.status,headers:((u=e.init)==null?void 0:u.headers)&&new Headers(e.init.headers)}}if(jv(e)){var c,f;return{type:Ne.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:Ne.data,data:e}}function JI(t,e,n,i,r,a){let s=t.headers.get("Location");if(ge(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mg.test(s)){let l=i.slice(0,i.findIndex(u=>u.route.id===n)+1);s=tm(new URL(e.url),l,r,!0,s,a),t.headers.set("Location",s)}return t}function Pv(t,e,n){if(Mg.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Li(r.pathname,n)!=null;if(r.origin===e.origin&&a)return r.pathname+r.search+r.hash}return t}function Ga(t,e,n,i){let r=t.createURL(SS(e)).toString(),a={signal:n};if(i&&Pn(i.formMethod)){let{formMethod:s,formEncType:l}=i;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(i.json)):l==="text/plain"?a.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?a.body=im(i.formData):a.body=i.formData}return new Request(r,a)}function im(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Lv(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function eC(t,e,n,i,r){let a={},s=null,l,u=!1,c={},f=n&&un(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,y=e[g];if(ge(!ia(y),"Cannot handle redirect results in processLoaderData"),un(y)){let C=y.error;f!==void 0&&(C=f,f=void 0),s=s||{};{let O=na(t,g);s[O.route.id]==null&&(s[O.route.id]=C)}a[g]=void 0,u||(u=!0,l=Sl(y.error)?y.error.status:500),y.headers&&(c[g]=y.headers)}else dr(y)?(i.set(g,y.deferredData),a[g]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(c[g]=y.headers)):(a[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(c[g]=y.headers))}),f!==void 0&&n&&(s={[n[0]]:f},a[n[0]]=void 0),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:c}}function Uv(t,e,n,i,r,a,s){let{loaderData:l,errors:u}=eC(e,n,i,s);return r.forEach(c=>{let{key:f,match:m,controller:g}=c,y=a[f];if(ge(y,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(un(y)){let C=na(t.matches,m==null?void 0:m.route.id);u&&u[C.route.id]||(u=Qe({},u,{[C.route.id]:y.error})),t.fetchers.delete(f)}else if(ia(y))ge(!1,"Unhandled fetcher revalidation redirect");else if(dr(y))ge(!1,"Unhandled fetcher deferred data");else{let C=Ji(y.data);t.fetchers.set(f,C)}}),{loaderData:l,errors:u}}function kv(t,e,n,i){let r=Qe({},e);for(let a of n){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(r[s]=e[s]):t[s]!==void 0&&a.route.loader&&(r[s]=t[s]),i&&i.hasOwnProperty(s))break}return r}function zv(t){return t?un(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function na(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Bv(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function $t(t,e){let{pathname:n,routeId:i,method:r,type:a,message:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&n&&i?u="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":a==="defer-action"?u="defer() is not supported in actions":a==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+i+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",r&&n&&i?u="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(u='Invalid request method "'+r.toUpperCase()+'"')),new Kc(t||500,l,new Error(u),!0)}function Lu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(ia(r))return{key:i,result:r}}}function SS(t){let e=typeof t=="string"?Br(t):t;return va(Qe({},e,{hash:""}))}function tC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function nC(t){return AS(t.result)&&jI.has(t.result.status)}function dr(t){return t.type===Ne.deferred}function un(t){return t.type===Ne.error}function ia(t){return(t&&t.type)===Ne.redirect}function jv(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function iC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function AS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rC(t){return BI.has(t.toLowerCase())}function Pn(t){return kI.has(t.toLowerCase())}async function aC(t,e,n,i,r){let a=Object.entries(e);for(let s=0;s<a.length;s++){let[l,u]=a[s],c=t.find(g=>(g==null?void 0:g.route.id)===l);if(!c)continue;let f=i.find(g=>g.route.id===c.route.id),m=f!=null&&!ES(f,c)&&(r&&r[c.route.id])!==void 0;dr(u)&&m&&await Vg(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function sC(t,e,n){for(let i=0;i<n.length;i++){let{key:r,routeId:a,controller:s}=n[i],l=e[r];t.find(c=>(c==null?void 0:c.route.id)===a)&&dr(l)&&(ge(s,"Expected an AbortController for revalidating fetcher deferred result"),await Vg(l,s.signal,!0).then(c=>{c&&(e[r]=c)}))}}async function Vg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ne.data,data:t.deferredData.unwrappedData}}catch(r){return{type:Ne.error,error:r}}return{type:Ne.data,data:t.deferredData.data}}}function xg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Uo(t,e){let n=typeof e=="string"?Br(e).search:e.search;if(t[t.length-1].route.index&&xg(n||""))return t[t.length-1];let i=yS(t);return i[i.length-1]}function Hv(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:a,json:s}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:s,text:void 0}}}function Qf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function No(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ji(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function uC(t,e){try{let n=t.sessionStorage.getItem(_S);if(n){let i=JSON.parse(n);for(let[r,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(r,new Set(a||[]))}}catch{}}function cC(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(_S,JSON.stringify(n))}catch(i){Ps(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qc.apply(this,arguments)}const Ql=U.createContext(null),Pg=U.createContext(null),jr=U.createContext(null),Lg=U.createContext(null),Hr=U.createContext({outlet:null,matches:[],isDataRoute:!1}),bS=U.createContext(null);function hC(t,e){let{relative:n}=e===void 0?{}:e;Yl()||ge(!1);let{basename:i,navigator:r}=U.useContext(jr),{hash:a,pathname:s,search:l}=Vh(t,{relative:n}),u=s;return i!=="/"&&(u=s==="/"?i:Oi([i,s])),r.createHref({pathname:u,search:l,hash:a})}function Yl(){return U.useContext(Lg)!=null}function Xl(){return Yl()||ge(!1),U.useContext(Lg).location}function wS(t){U.useContext(jr).static||U.useLayoutEffect(t)}function Ug(){let{isDataRoute:t}=U.useContext(Hr);return t?wC():fC()}function fC(){Yl()||ge(!1);let t=U.useContext(Ql),{basename:e,future:n,navigator:i}=U.useContext(jr),{matches:r}=U.useContext(Hr),{pathname:a}=Xl(),s=JSON.stringify(Og(r,n.v7_relativeSplatPath)),l=U.useRef(!1);return wS(()=>{l.current=!0}),U.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){i.go(c);return}let m=Ng(c,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Oi([e,m.pathname])),(f.replace?i.replace:i.push)(m,f.state,f)},[e,i,s,a,t])}const dC=U.createContext(null);function mC(t){let e=U.useContext(Hr).outlet;return e&&U.createElement(dC.Provider,{value:t},e)}function Vh(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=U.useContext(jr),{matches:r}=U.useContext(Hr),{pathname:a}=Xl(),s=JSON.stringify(Og(r,i.v7_relativeSplatPath));return U.useMemo(()=>Ng(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function gC(t,e,n,i){Yl()||ge(!1);let{navigator:r,static:a}=U.useContext(jr),{matches:s}=U.useContext(Hr),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let f=Xl(),m;m=f;let g=m.pathname||"/",y=g;if(c!=="/"){let V=c.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(V.length).join("/")}let C=!a&&n&&n.matches&&n.matches.length>0?n.matches:ta(t,{pathname:y});return EC(C&&C.map(V=>Object.assign({},V,{params:Object.assign({},u,V.params),pathname:Oi([c,r.encodeLocation?r.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?c:Oi([c,r.encodeLocation?r.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),s,n,i)}function pC(){let t=bC(),e=Sl(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:r},n):null,null)}const yC=U.createElement(pC,null);class vC extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Hr.Provider,{value:this.props.routeContext},U.createElement(bS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _C(t){let{routeContext:e,match:n,children:i}=t,r=U.useContext(Ql);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Hr.Provider,{value:e},i)}function EC(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||ge(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=f),m.route.id){let{loaderData:g,errors:y}=n,C=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||C){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let y,C=!1,O=null,V=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,O=m.route.errorElement||yC,u&&(c<0&&g===0?(RC("route-fallback"),C=!0,V=null):c===g&&(C=!0,V=m.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,g+1)),E=()=>{let b;return y?b=O:C?b=V:m.route.Component?b=U.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=f,U.createElement(_C,{match:m,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?U.createElement(vC,{location:n.location,revalidation:n.revalidation,component:O,error:y,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var RS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RS||{}),IS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(IS||{});function TC(t){let e=U.useContext(Ql);return e||ge(!1),e}function SC(t){let e=U.useContext(Pg);return e||ge(!1),e}function AC(t){let e=U.useContext(Hr);return e||ge(!1),e}function CS(t){let e=AC(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function bC(){var t;let e=U.useContext(bS),n=SC(IS.UseRouteError),i=CS();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function wC(){let{router:t}=TC(RS.UseNavigateStable),e=CS(),n=U.useRef(!1);return wS(()=>{n.current=!0}),U.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Qc({fromRouteId:e},a)))},[t,e])}const qv={};function RC(t,e,n){qv[t]||(qv[t]=!0)}function IC(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function CC(t){return mC(t.context)}function DC(t){let{basename:e="/",children:n=null,location:i,navigationType:r=ut.Pop,navigator:a,static:s=!1,future:l}=t;Yl()&&ge(!1);let u=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:u,navigator:a,static:s,future:Qc({v7_relativeSplatPath:!1},l)}),[u,l,a,s]);typeof i=="string"&&(i=Br(i));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:C="default"}=i,O=U.useMemo(()=>{let V=Li(f,u);return V==null?null:{location:{pathname:V,search:m,hash:g,state:y,key:C},navigationType:r}},[u,f,m,g,y,C,r]);return O==null?null:U.createElement(jr.Provider,{value:c},U.createElement(Lg.Provider,{children:n,value:O}))}new Promise(()=>{});function OC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ls.apply(this,arguments)}function DS(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function NC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MC(t,e){return t.button===0&&(!e||e==="_self")&&!NC(t)}const VC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],PC="6";try{window.__reactRouterVersion=PC}catch{}function LC(t,e){return GI({basename:void 0,future:Ls({},void 0,{v7_prependBasename:!0}),history:gI({window:void 0}),hydrationData:UC(),routes:t,mapRouteProperties:OC,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function UC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ls({},e,{errors:kC(e.errors)})),e}function kC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new Kc(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let a=window[r.__subType];if(typeof a=="function")try{let s=new a(r.message);s.stack="",n[i]=s}catch{}}if(n[i]==null){let a=new Error(r.message);a.stack="",n[i]=a}}else n[i]=r;return n}const OS=U.createContext({isTransitioning:!1}),zC=U.createContext(new Map),BC="startTransition",Fv=Vw[BC],jC="flushSync",Gv=zw[jC];function HC(t){Fv?Fv(t):t()}function Mo(t){Gv?Gv(t):t()}let qC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function FC(t){let{fallbackElement:e,router:n,future:i}=t,[r,a]=U.useState(n.state),[s,l]=U.useState(),[u,c]=U.useState({isTransitioning:!1}),[f,m]=U.useState(),[g,y]=U.useState(),[C,O]=U.useState(),V=U.useRef(new Map),{v7_startTransition:T}=i||{},E=U.useCallback(v=>{T?HC(v):v()},[T]),b=U.useCallback((v,S)=>{let{deletedFetchers:A,flushSync:I,viewTransitionOpts:D}=S;v.fetchers.forEach((ze,ft)=>{ze.data!==void 0&&V.current.set(ft,ze.data)}),A.forEach(ze=>V.current.delete(ze));let w=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||w){I?Mo(()=>a(v)):E(()=>a(v));return}if(I){Mo(()=>{g&&(f&&f.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let ze=n.window.document.startViewTransition(()=>{Mo(()=>a(v))});ze.finished.finally(()=>{Mo(()=>{m(void 0),y(void 0),l(void 0),c({isTransitioning:!1})})}),Mo(()=>y(ze));return}g?(f&&f.resolve(),g.skipTransition(),O({state:v,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(v),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,g,f,V,E]);U.useLayoutEffect(()=>n.subscribe(b),[n,b]),U.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new qC)},[u]),U.useEffect(()=>{if(f&&s&&n.window){let v=s,S=f.promise,A=n.window.document.startViewTransition(async()=>{E(()=>a(v)),await S});A.finished.finally(()=>{m(void 0),y(void 0),l(void 0),c({isTransitioning:!1})}),y(A)}},[E,s,f,n.window]),U.useEffect(()=>{f&&s&&r.location.key===s.location.key&&f.resolve()},[f,g,r.location,s]),U.useEffect(()=>{!u.isTransitioning&&C&&(l(C.state),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),O(void 0))},[u.isTransitioning,C]),U.useEffect(()=>{},[]);let N=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,S,A)=>n.navigate(v,{state:S,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(v,S,A)=>n.navigate(v,{replace:!0,state:S,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[n]),B=n.basename||"/",q=U.useMemo(()=>({router:n,navigator:N,static:!1,basename:B}),[n,N,B]),p=U.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return U.useEffect(()=>IC(i,n.future),[i,n.future]),U.createElement(U.Fragment,null,U.createElement(Ql.Provider,{value:q},U.createElement(Pg.Provider,{value:r},U.createElement(zC.Provider,{value:V.current},U.createElement(OS.Provider,{value:u},U.createElement(DC,{basename:B,location:r.location,navigationType:r.historyAction,navigator:N,future:p},r.initialized||n.future.v7_partialHydration?U.createElement(GC,{routes:n.routes,future:n.future,state:r}):e))))),null)}const GC=U.memo(KC);function KC(t){let{routes:e,future:n,state:i}=t;return gC(e,void 0,i,n)}const QC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XC=U.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:a,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m}=e,g=DS(e,VC),{basename:y}=U.useContext(jr),C,O=!1;if(typeof c=="string"&&YC.test(c)&&(C=c,QC))try{let b=new URL(window.location.href),N=c.startsWith("//")?new URL(b.protocol+c):new URL(c),B=Li(N.pathname,y);N.origin===b.origin&&B!=null?c=B+N.search+N.hash:O=!0}catch{}let V=hC(c,{relative:r}),T=ZC(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m});function E(b){i&&i(b),b.defaultPrevented||T(b)}return U.createElement("a",Ls({},g,{href:C||V,onClick:O||a?i:E,ref:n,target:u}))}),Yf=U.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:a="",end:s=!1,style:l,to:u,viewTransition:c,children:f}=e,m=DS(e,xC),g=Vh(u,{relative:m.relative}),y=Xl(),C=U.useContext(Pg),{navigator:O,basename:V}=U.useContext(jr),T=C!=null&&WC(g)&&c===!0,E=O.encodeLocation?O.encodeLocation(g).pathname:g.pathname,b=y.pathname,N=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(b=b.toLowerCase(),N=N?N.toLowerCase():null,E=E.toLowerCase()),N&&V&&(N=Li(N,V)||N);const B=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let q=b===E||!s&&b.startsWith(E)&&b.charAt(B)==="/",p=N!=null&&(N===E||!s&&N.startsWith(E)&&N.charAt(E.length)==="/"),v={isActive:q,isPending:p,isTransitioning:T},S=q?i:void 0,A;typeof a=="function"?A=a(v):A=[a,q?"active":null,p?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(v):l;return U.createElement(XC,Ls({},m,{"aria-current":S,className:A,ref:n,style:I,to:u,viewTransition:c}),typeof f=="function"?f(v):f)});var rm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rm||(rm={}));var Kv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Kv||(Kv={}));function $C(t){let e=U.useContext(Ql);return e||ge(!1),e}function ZC(t,e){let{target:n,replace:i,state:r,preventScrollReset:a,relative:s,viewTransition:l}=e===void 0?{}:e,u=Ug(),c=Xl(),f=Vh(t,{relative:s});return U.useCallback(m=>{if(MC(m,n)){m.preventDefault();let g=i!==void 0?i:va(c)===va(f);u(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:l})}},[c,u,f,i,r,n,t,a,s,l])}function WC(t,e){e===void 0&&(e={});let n=U.useContext(OS);n==null&&ge(!1);let{basename:i}=$C(rm.useViewTransitionState),r=Vh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Li(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=Li(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Gc(r.pathname,s)!=null||Gc(r.pathname,a)!=null}function JC(){return G.jsxs("nav",{children:[G.jsx(Yf,{to:"/",children:"Home"}),G.jsx(Yf,{to:"/new",children:"Add new book"}),G.jsx(Yf,{to:"/login",children:"Login"})]})}function eD(){return G.jsx("footer",{className:"center",children:G.jsx("a",{className:"email",href:"mailto:273018@student.pwr.edu.pl",children:"Contact: 273018@student.pwr.edu.pl"})})}const tD=()=>{};var Qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},nD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],s=t[n++],l=t[n++],u=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],s=r+1<t.length,l=s?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|c>>6,y=c&63;u||(y=64,s||(g=64)),i.push(n[f],n[m],n[g],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||c==null||m==null)throw new iD;const g=a<<2|l>>4;if(i.push(g),c!==64){const y=l<<4&240|c>>2;if(i.push(y),m!==64){const C=c<<6&192|m;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(t){const e=NS(t);return MS.encodeByteArray(e,!0)},Yc=function(t){return rD(t).replace(/\./g,"")},VS=function(t){try{return MS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=()=>aD().__FIREBASE_DEFAULTS__,oD=()=>{if(typeof process>"u"||typeof Qv>"u")return;const t=Qv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VS(t[1]);return e&&JSON.parse(e)},xh=()=>{try{return tD()||sD()||oD()||lD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xS=t=>{var e,n;return(n=(e=xh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uD=t=>{const e=xS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},PS=()=>{var t;return(t=xh())===null||t===void 0?void 0:t.config},LS=t=>{var e;return(e=xh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function dD(){var t;const e=(t=xh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yD(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vD(){return!dD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _D(){try{return typeof indexedDB=="object"}catch{return!1}}function ED(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="FirebaseError";class Hi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=TD,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],s=a?SD(a,i):"Error",l=`${this.serviceName}: ${s} (${r}).`;return new Hi(r,l,i)}}function SD(t,e){return t.replace(AD,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const AD=/\{\$([^}]+)}/g;function bD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _a(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],s=e[r];if(Yv(a)&&Yv(s)){if(!_a(a,s))return!1}else if(a!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Yv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function wD(t,e){const n=new RD(t,e);return n.subscribe.bind(n)}class RD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");ID(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Xf),r.error===void 0&&(r.error=Xf),r.complete===void 0&&(r.complete=Xf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ID(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t&&t._delegate?t._delegate:t}class Ea{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new cD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OD(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);i===l&&s.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DD(t){return t===ea?void 0:t}function OD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const MD={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},VD=ve.INFO,xD={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},PD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=xD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=VD,this._logHandler=PD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const LD=(t,e)=>e.some(n=>t instanceof n);let Xv,$v;function UD(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kD(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,am=new WeakMap,kS=new WeakMap,$f=new WeakMap,zg=new WeakMap;function zD(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ar(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function BD(t){if(am.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});am.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){sm=t(sm)}function HD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zf(this),e,...n);return kS.set(i,e.sort?e.sort():[e]),Ar(i)}:kD().includes(t)?function(...e){return t.apply(Zf(this),e),Ar(US.get(this))}:function(...e){return Ar(t.apply(Zf(this),e))}}function qD(t){return typeof t=="function"?HD(t):(t instanceof IDBTransaction&&BD(t),LD(t,UD())?new Proxy(t,sm):t)}function Ar(t){if(t instanceof IDBRequest)return zD(t);if($f.has(t))return $f.get(t);const e=qD(t);return e!==t&&($f.set(t,e),zg.set(e,t)),e}const Zf=t=>zg.get(t);function FD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const s=indexedDB.open(t,e),l=Ar(s);return i&&s.addEventListener("upgradeneeded",u=>{i(Ar(s.result),u.oldVersion,u.newVersion,Ar(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const GD=["get","getKey","getAll","getAllKeys","count"],KD=["put","add","delete","clear"],Wf=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=KD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||GD.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Wf.set(e,a),a}jD(t=>({...t,get:(e,n,i)=>Zv(e,n)||t.get(e,n,i),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function YD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const om="@firebase/app",Wv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new kg("@firebase/app"),XD="@firebase/app-compat",$D="@firebase/analytics-compat",ZD="@firebase/analytics",WD="@firebase/app-check-compat",JD="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",i2="@firebase/data-connect",r2="@firebase/database-compat",a2="@firebase/functions",s2="@firebase/functions-compat",o2="@firebase/installations",l2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",f2="@firebase/performance-compat",d2="@firebase/remote-config",m2="@firebase/remote-config-compat",g2="@firebase/storage",p2="@firebase/storage-compat",y2="@firebase/firestore",v2="@firebase/vertexai",_2="@firebase/firestore-compat",E2="firebase",T2="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",S2={[om]:"fire-core",[XD]:"fire-core-compat",[ZD]:"fire-analytics",[$D]:"fire-analytics-compat",[JD]:"fire-app-check",[WD]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[i2]:"fire-data-connect",[r2]:"fire-rtdb-compat",[a2]:"fire-fn",[s2]:"fire-fn-compat",[o2]:"fire-iid",[l2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[f2]:"fire-perf-compat",[d2]:"fire-rc",[m2]:"fire-rc-compat",[g2]:"fire-gcs",[p2]:"fire-gcs-compat",[y2]:"fire-fst",[_2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[E2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,A2=new Map,um=new Map;function Jv(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(um.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(const n of Xc.values())Jv(n,t);for(const n of A2.values())Jv(n,t);return!0}function Bg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new $l("app","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=T2;function zS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:lm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw br.create("bad-app-name",{appName:String(r)});if(n||(n=PS()),!n)throw br.create("no-options");const a=Xc.get(r);if(a){if(_a(n,a.options)&&_a(i,a.config))return a;throw br.create("duplicate-app",{appName:r})}const s=new ND(r);for(const u of um.values())s.addComponent(u);const l=new w2(n,i,s);return Xc.set(r,l),l}function BS(t=lm){const e=Xc.get(t);if(!e&&t===lm&&PS())return zS();if(!e)throw br.create("no-app",{appName:t});return e}function wr(t,e,n){var i;let r=(i=S2[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(l.join(" "));return}Us(new Ea(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebase-heartbeat-database",I2=1,Al="firebase-heartbeat-store";let Jf=null;function jS(){return Jf||(Jf=FD(R2,I2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),Jf}async function C2(t){try{const n=(await jS()).transaction(Al),i=await n.objectStore(Al).get(HS(t));return await n.done,i}catch(e){if(e instanceof Hi)Ui.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(n.message)}}}async function e_(t,e){try{const i=(await jS()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,HS(t)),await i.done}catch(n){if(n instanceof Hi)Ui.warn(n.message);else{const i=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ui.warn(i.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1024,O2=30;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new V2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>O2){const s=x2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ui.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t_(),{heartbeatsToSend:i,unsentEntries:r}=M2(this._heartbeatsCache.heartbeats),a=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ui.warn(n),""}}}function t_(){return new Date().toISOString().substring(0,10)}function M2(t,e=D2){const n=[];let i=t.slice();for(const r of t){const a=n.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),n_(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),n_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class V2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _D()?ED().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return e_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function n_(t){return Yc(JSON.stringify({version:2,heartbeats:t})).length}function x2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){Us(new Ea("platform-logger",e=>new QD(e),"PRIVATE")),Us(new Ea("heartbeat",e=>new N2(e),"PRIVATE")),wr(om,Wv,t),wr(om,Wv,"esm2017"),wr("fire-js","")}P2("");var i_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,qS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(p,v){function S(){}S.prototype=v.prototype,p.D=v.prototype,p.prototype=new S,p.prototype.constructor=p,p.C=function(A,I,D){for(var w=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)w[ze-2]=arguments[ze];return v.prototype[I].apply(A,w)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(p,v,S){S||(S=0);var A=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)A[I]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(I=0;16>I;++I)A[I]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=p.g[0],S=p.g[1],I=p.g[2];var D=p.g[3],w=v+(D^S&(I^D))+A[0]+3614090360&4294967295;v=S+(w<<7&4294967295|w>>>25),w=D+(I^v&(S^I))+A[1]+3905402710&4294967295,D=v+(w<<12&4294967295|w>>>20),w=I+(S^D&(v^S))+A[2]+606105819&4294967295,I=D+(w<<17&4294967295|w>>>15),w=S+(v^I&(D^v))+A[3]+3250441966&4294967295,S=I+(w<<22&4294967295|w>>>10),w=v+(D^S&(I^D))+A[4]+4118548399&4294967295,v=S+(w<<7&4294967295|w>>>25),w=D+(I^v&(S^I))+A[5]+1200080426&4294967295,D=v+(w<<12&4294967295|w>>>20),w=I+(S^D&(v^S))+A[6]+2821735955&4294967295,I=D+(w<<17&4294967295|w>>>15),w=S+(v^I&(D^v))+A[7]+4249261313&4294967295,S=I+(w<<22&4294967295|w>>>10),w=v+(D^S&(I^D))+A[8]+1770035416&4294967295,v=S+(w<<7&4294967295|w>>>25),w=D+(I^v&(S^I))+A[9]+2336552879&4294967295,D=v+(w<<12&4294967295|w>>>20),w=I+(S^D&(v^S))+A[10]+4294925233&4294967295,I=D+(w<<17&4294967295|w>>>15),w=S+(v^I&(D^v))+A[11]+2304563134&4294967295,S=I+(w<<22&4294967295|w>>>10),w=v+(D^S&(I^D))+A[12]+1804603682&4294967295,v=S+(w<<7&4294967295|w>>>25),w=D+(I^v&(S^I))+A[13]+4254626195&4294967295,D=v+(w<<12&4294967295|w>>>20),w=I+(S^D&(v^S))+A[14]+2792965006&4294967295,I=D+(w<<17&4294967295|w>>>15),w=S+(v^I&(D^v))+A[15]+1236535329&4294967295,S=I+(w<<22&4294967295|w>>>10),w=v+(I^D&(S^I))+A[1]+4129170786&4294967295,v=S+(w<<5&4294967295|w>>>27),w=D+(S^I&(v^S))+A[6]+3225465664&4294967295,D=v+(w<<9&4294967295|w>>>23),w=I+(v^S&(D^v))+A[11]+643717713&4294967295,I=D+(w<<14&4294967295|w>>>18),w=S+(D^v&(I^D))+A[0]+3921069994&4294967295,S=I+(w<<20&4294967295|w>>>12),w=v+(I^D&(S^I))+A[5]+3593408605&4294967295,v=S+(w<<5&4294967295|w>>>27),w=D+(S^I&(v^S))+A[10]+38016083&4294967295,D=v+(w<<9&4294967295|w>>>23),w=I+(v^S&(D^v))+A[15]+3634488961&4294967295,I=D+(w<<14&4294967295|w>>>18),w=S+(D^v&(I^D))+A[4]+3889429448&4294967295,S=I+(w<<20&4294967295|w>>>12),w=v+(I^D&(S^I))+A[9]+568446438&4294967295,v=S+(w<<5&4294967295|w>>>27),w=D+(S^I&(v^S))+A[14]+3275163606&4294967295,D=v+(w<<9&4294967295|w>>>23),w=I+(v^S&(D^v))+A[3]+4107603335&4294967295,I=D+(w<<14&4294967295|w>>>18),w=S+(D^v&(I^D))+A[8]+1163531501&4294967295,S=I+(w<<20&4294967295|w>>>12),w=v+(I^D&(S^I))+A[13]+2850285829&4294967295,v=S+(w<<5&4294967295|w>>>27),w=D+(S^I&(v^S))+A[2]+4243563512&4294967295,D=v+(w<<9&4294967295|w>>>23),w=I+(v^S&(D^v))+A[7]+1735328473&4294967295,I=D+(w<<14&4294967295|w>>>18),w=S+(D^v&(I^D))+A[12]+2368359562&4294967295,S=I+(w<<20&4294967295|w>>>12),w=v+(S^I^D)+A[5]+4294588738&4294967295,v=S+(w<<4&4294967295|w>>>28),w=D+(v^S^I)+A[8]+2272392833&4294967295,D=v+(w<<11&4294967295|w>>>21),w=I+(D^v^S)+A[11]+1839030562&4294967295,I=D+(w<<16&4294967295|w>>>16),w=S+(I^D^v)+A[14]+4259657740&4294967295,S=I+(w<<23&4294967295|w>>>9),w=v+(S^I^D)+A[1]+2763975236&4294967295,v=S+(w<<4&4294967295|w>>>28),w=D+(v^S^I)+A[4]+1272893353&4294967295,D=v+(w<<11&4294967295|w>>>21),w=I+(D^v^S)+A[7]+4139469664&4294967295,I=D+(w<<16&4294967295|w>>>16),w=S+(I^D^v)+A[10]+3200236656&4294967295,S=I+(w<<23&4294967295|w>>>9),w=v+(S^I^D)+A[13]+681279174&4294967295,v=S+(w<<4&4294967295|w>>>28),w=D+(v^S^I)+A[0]+3936430074&4294967295,D=v+(w<<11&4294967295|w>>>21),w=I+(D^v^S)+A[3]+3572445317&4294967295,I=D+(w<<16&4294967295|w>>>16),w=S+(I^D^v)+A[6]+76029189&4294967295,S=I+(w<<23&4294967295|w>>>9),w=v+(S^I^D)+A[9]+3654602809&4294967295,v=S+(w<<4&4294967295|w>>>28),w=D+(v^S^I)+A[12]+3873151461&4294967295,D=v+(w<<11&4294967295|w>>>21),w=I+(D^v^S)+A[15]+530742520&4294967295,I=D+(w<<16&4294967295|w>>>16),w=S+(I^D^v)+A[2]+3299628645&4294967295,S=I+(w<<23&4294967295|w>>>9),w=v+(I^(S|~D))+A[0]+4096336452&4294967295,v=S+(w<<6&4294967295|w>>>26),w=D+(S^(v|~I))+A[7]+1126891415&4294967295,D=v+(w<<10&4294967295|w>>>22),w=I+(v^(D|~S))+A[14]+2878612391&4294967295,I=D+(w<<15&4294967295|w>>>17),w=S+(D^(I|~v))+A[5]+4237533241&4294967295,S=I+(w<<21&4294967295|w>>>11),w=v+(I^(S|~D))+A[12]+1700485571&4294967295,v=S+(w<<6&4294967295|w>>>26),w=D+(S^(v|~I))+A[3]+2399980690&4294967295,D=v+(w<<10&4294967295|w>>>22),w=I+(v^(D|~S))+A[10]+4293915773&4294967295,I=D+(w<<15&4294967295|w>>>17),w=S+(D^(I|~v))+A[1]+2240044497&4294967295,S=I+(w<<21&4294967295|w>>>11),w=v+(I^(S|~D))+A[8]+1873313359&4294967295,v=S+(w<<6&4294967295|w>>>26),w=D+(S^(v|~I))+A[15]+4264355552&4294967295,D=v+(w<<10&4294967295|w>>>22),w=I+(v^(D|~S))+A[6]+2734768916&4294967295,I=D+(w<<15&4294967295|w>>>17),w=S+(D^(I|~v))+A[13]+1309151649&4294967295,S=I+(w<<21&4294967295|w>>>11),w=v+(I^(S|~D))+A[4]+4149444226&4294967295,v=S+(w<<6&4294967295|w>>>26),w=D+(S^(v|~I))+A[11]+3174756917&4294967295,D=v+(w<<10&4294967295|w>>>22),w=I+(v^(D|~S))+A[2]+718787259&4294967295,I=D+(w<<15&4294967295|w>>>17),w=S+(D^(I|~v))+A[9]+3951481745&4294967295,p.g[0]=p.g[0]+v&4294967295,p.g[1]=p.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,p.g[2]=p.g[2]+I&4294967295,p.g[3]=p.g[3]+D&4294967295}i.prototype.u=function(p,v){v===void 0&&(v=p.length);for(var S=v-this.blockSize,A=this.B,I=this.h,D=0;D<v;){if(I==0)for(;D<=S;)r(this,p,D),D+=this.blockSize;if(typeof p=="string"){for(;D<v;)if(A[I++]=p.charCodeAt(D++),I==this.blockSize){r(this,A),I=0;break}}else for(;D<v;)if(A[I++]=p[D++],I==this.blockSize){r(this,A),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var p=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);p[0]=128;for(var v=1;v<p.length-8;++v)p[v]=0;var S=8*this.o;for(v=p.length-8;v<p.length;++v)p[v]=S&255,S/=256;for(this.u(p),p=Array(16),v=S=0;4>v;++v)for(var A=0;32>A;A+=8)p[S++]=this.g[v]>>>A&255;return p};function a(p,v){var S=l;return Object.prototype.hasOwnProperty.call(S,p)?S[p]:S[p]=v(p)}function s(p,v){this.h=v;for(var S=[],A=!0,I=p.length-1;0<=I;I--){var D=p[I]|0;A&&D==v||(S[I]=D,A=!1)}this.g=S}var l={};function u(p){return-128<=p&&128>p?a(p,function(v){return new s([v|0],0>v?-1:0)}):new s([p|0],0>p?-1:0)}function c(p){if(isNaN(p)||!isFinite(p))return m;if(0>p)return V(c(-p));for(var v=[],S=1,A=0;p>=S;A++)v[A]=p/S|0,S*=4294967296;return new s(v,0)}function f(p,v){if(p.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(p.charAt(0)=="-")return V(f(p.substring(1),v));if(0<=p.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(v,8)),A=m,I=0;I<p.length;I+=8){var D=Math.min(8,p.length-I),w=parseInt(p.substring(I,I+D),v);8>D?(D=c(Math.pow(v,D)),A=A.j(D).add(c(w))):(A=A.j(S),A=A.add(c(w)))}return A}var m=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-V(this).m();for(var p=0,v=1,S=0;S<this.g.length;S++){var A=this.i(S);p+=(0<=A?A:4294967296+A)*v,v*=4294967296}return p},t.toString=function(p){if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(C(this))return"0";if(O(this))return"-"+V(this).toString(p);for(var v=c(Math.pow(p,6)),S=this,A="";;){var I=N(S,v).g;S=T(S,I.j(v));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(p);if(S=I,C(S))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(p){return 0>p?0:p<this.g.length?this.g[p]:this.h};function C(p){if(p.h!=0)return!1;for(var v=0;v<p.g.length;v++)if(p.g[v]!=0)return!1;return!0}function O(p){return p.h==-1}t.l=function(p){return p=T(this,p),O(p)?-1:C(p)?0:1};function V(p){for(var v=p.g.length,S=[],A=0;A<v;A++)S[A]=~p.g[A];return new s(S,~p.h).add(g)}t.abs=function(){return O(this)?V(this):this},t.add=function(p){for(var v=Math.max(this.g.length,p.g.length),S=[],A=0,I=0;I<=v;I++){var D=A+(this.i(I)&65535)+(p.i(I)&65535),w=(D>>>16)+(this.i(I)>>>16)+(p.i(I)>>>16);A=w>>>16,D&=65535,w&=65535,S[I]=w<<16|D}return new s(S,S[S.length-1]&-2147483648?-1:0)};function T(p,v){return p.add(V(v))}t.j=function(p){if(C(this)||C(p))return m;if(O(this))return O(p)?V(this).j(V(p)):V(V(this).j(p));if(O(p))return V(this.j(V(p)));if(0>this.l(y)&&0>p.l(y))return c(this.m()*p.m());for(var v=this.g.length+p.g.length,S=[],A=0;A<2*v;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var I=0;I<p.g.length;I++){var D=this.i(A)>>>16,w=this.i(A)&65535,ze=p.i(I)>>>16,ft=p.i(I)&65535;S[2*A+2*I]+=w*ft,E(S,2*A+2*I),S[2*A+2*I+1]+=D*ft,E(S,2*A+2*I+1),S[2*A+2*I+1]+=w*ze,E(S,2*A+2*I+1),S[2*A+2*I+2]+=D*ze,E(S,2*A+2*I+2)}for(A=0;A<v;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=v;A<2*v;A++)S[A]=0;return new s(S,0)};function E(p,v){for(;(p[v]&65535)!=p[v];)p[v+1]+=p[v]>>>16,p[v]&=65535,v++}function b(p,v){this.g=p,this.h=v}function N(p,v){if(C(v))throw Error("division by zero");if(C(p))return new b(m,m);if(O(p))return v=N(V(p),v),new b(V(v.g),V(v.h));if(O(v))return v=N(p,V(v)),new b(V(v.g),v.h);if(30<p.g.length){if(O(p)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var S=g,A=v;0>=A.l(p);)S=B(S),A=B(A);var I=q(S,1),D=q(A,1);for(A=q(A,2),S=q(S,2);!C(A);){var w=D.add(A);0>=w.l(p)&&(I=I.add(S),D=w),A=q(A,1),S=q(S,1)}return v=T(p,I.j(v)),new b(I,v)}for(I=m;0<=p.l(v);){for(S=Math.max(1,Math.floor(p.m()/v.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(S),w=D.j(v);O(w)||0<w.l(p);)S-=A,D=c(S),w=D.j(v);C(D)&&(D=g),I=I.add(D),p=T(p,w)}return new b(I,p)}t.A=function(p){return N(this,p).h},t.and=function(p){for(var v=Math.max(this.g.length,p.g.length),S=[],A=0;A<v;A++)S[A]=this.i(A)&p.i(A);return new s(S,this.h&p.h)},t.or=function(p){for(var v=Math.max(this.g.length,p.g.length),S=[],A=0;A<v;A++)S[A]=this.i(A)|p.i(A);return new s(S,this.h|p.h)},t.xor=function(p){for(var v=Math.max(this.g.length,p.g.length),S=[],A=0;A<v;A++)S[A]=this.i(A)^p.i(A);return new s(S,this.h^p.h)};function B(p){for(var v=p.g.length+1,S=[],A=0;A<v;A++)S[A]=p.i(A)<<1|p.i(A-1)>>>31;return new s(S,p.h)}function q(p,v){var S=v>>5;v%=32;for(var A=p.g.length-S,I=[],D=0;D<A;D++)I[D]=0<v?p.i(D+S)>>>v|p.i(D+S+1)<<32-v:p.i(D+S);return new s(I,p.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qS=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Rr=s}).apply(typeof i_<"u"?i_:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FS,ko,GS,rc,cm,KS,QS,YS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var _=0;_<o.length-1;_++){var x=o[_];if(!(x in d))break e;d=d[x]}o=o[o.length-1],_=d[o],h=h(_),h!=_&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}function a(o,h){o instanceof String&&(o+="");var d=0,_=!1,x={next:function(){if(!_&&d<o.length){var L=d++;return{value:h(L,o[L]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(o){return o||function(){return a(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function f(o,h,d){return o.call.apply(o.bind,arguments)}function m(o,h,d){if(!o)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),o.apply(h,x)}}return function(){return o.apply(h,arguments)}}function g(o,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function y(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var _=d.slice();return _.push.apply(_,arguments),o.apply(this,_)}}function C(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(_,x,L){for(var F=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)F[Ue-2]=arguments[Ue];return h.prototype[x].apply(_,F)}}function O(o){const h=o.length;if(0<h){const d=Array(h);for(let _=0;_<h;_++)d[_]=o[_];return d}return[]}function V(o,h){for(let d=1;d<arguments.length;d++){const _=arguments[d];if(u(_)){const x=o.length||0,L=_.length||0;o.length=x+L;for(let F=0;F<L;F++)o[x+F]=_[F]}else o.push(_)}}class T{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(o){return/^[\s\xa0]*$/.test(o)}function b(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function N(o){return N[" "](o),o}N[" "]=function(){};var B=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function q(o,h,d){for(const _ in o)h.call(d,o[_],_,o)}function p(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function v(o){const h={};for(const d in o)h[d]=o[d];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(o,h){let d,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(d in _)o[d]=_[d];for(let L=0;L<S.length;L++)d=S[L],Object.prototype.hasOwnProperty.call(_,d)&&(o[d]=_[d])}}function I(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function D(o){l.setTimeout(()=>{throw o},0)}function w(){var o=Ie;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class ze{constructor(){this.h=this.g=null}add(h,d){const _=ft.get();_.set(h,d),this.h?this.h.next=_:this.g=_,this.h=_}}var ft=new T(()=>new Q,o=>o.reset());class Q{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let re,W=!1,Ie=new ze,Pe=()=>{const o=l.Promise.resolve(void 0);re=()=>{o.then(tn)}};var tn=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(d){D(d)}var h=ft;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}W=!1};function Ze(){this.s=this.s,this.C=this.C}Ze.prototype.s=!1,Ze.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ze.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var qt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return o}();function et(o,h){if(Le.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,_=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(B){e:{try{N(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ci[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&et.aa.h.call(this)}}C(et,Le);var ci={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var yn="closure_listenable_"+(1e6*Math.random()|0),Ma=0;function Jh(o,h,d,_,x){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!_,this.ha=x,this.key=++Ma,this.da=this.fa=!1}function Va(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function xa(o){this.src=o,this.g={},this.h=0}xa.prototype.add=function(o,h,d,_,x){var L=o.toString();o=this.g[L],o||(o=this.g[L]=[],this.h++);var F=qn(o,h,_,x);return-1<F?(h=o[F],d||(h.fa=!1)):(h=new Jh(h,this.src,L,!!_,x),h.fa=d,o.push(h)),h};function dt(o,h){var d=h.type;if(d in o.g){var _=o.g[d],x=Array.prototype.indexOf.call(_,h,void 0),L;(L=0<=x)&&Array.prototype.splice.call(_,x,1),L&&(Va(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function qn(o,h,d,_){for(var x=0;x<o.length;++x){var L=o[x];if(!L.da&&L.listener==h&&L.capture==!!d&&L.ha==_)return x}return-1}var Pa="closure_lm_"+(1e6*Math.random()|0),ao={};function Fn(o,h,d,_,x){if(Array.isArray(h)){for(var L=0;L<h.length;L++)Fn(o,h[L],d,_,x);return null}return d=qi(d),o&&o[yn]?o.K(h,d,c(_)?!!_.capture:!1,x):ef(o,h,d,!1,_,x)}function ef(o,h,d,_,x,L){if(!h)throw Error("Invalid event type");var F=c(x)?!!x.capture:!!x,Ue=lo(o);if(Ue||(o[Pa]=Ue=new xa(o)),d=Ue.add(h,d,_,F,L),d.proxy)return d;if(_=tf(),d.proxy=_,_.src=o,_.listener=d,o.addEventListener)qt||(x=F),x===void 0&&(x=!1),o.addEventListener(h.toString(),_,x);else if(o.attachEvent)o.attachEvent(au(h.toString()),_);else if(o.addListener&&o.removeListener)o.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return d}function tf(){function o(d){return h.call(o.src,o.listener,d)}const h=nf;return o}function so(o,h,d,_,x){if(Array.isArray(h))for(var L=0;L<h.length;L++)so(o,h[L],d,_,x);else _=c(_)?!!_.capture:!!_,d=qi(d),o&&o[yn]?(o=o.i,h=String(h).toString(),h in o.g&&(L=o.g[h],d=qn(L,d,_,x),-1<d&&(Va(L[d]),Array.prototype.splice.call(L,d,1),L.length==0&&(delete o.g[h],o.h--)))):o&&(o=lo(o))&&(h=o.g[h.toString()],o=-1,h&&(o=qn(h,d,_,x)),(d=-1<o?h[o]:null)&&oo(d))}function oo(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[yn])dt(h.i,o);else{var d=o.type,_=o.proxy;h.removeEventListener?h.removeEventListener(d,_,o.capture):h.detachEvent?h.detachEvent(au(d),_):h.addListener&&h.removeListener&&h.removeListener(_),(d=lo(h))?(dt(d,o),d.h==0&&(d.src=null,h[Pa]=null)):Va(o)}}}function au(o){return o in ao?ao[o]:ao[o]="on"+o}function nf(o,h){if(o.da)o=!0;else{h=new et(h,this);var d=o.listener,_=o.ha||o.src;o.fa&&oo(o),o=d.call(_,h)}return o}function lo(o){return o=o[Pa],o instanceof xa?o:null}var On="__closure_events_fn_"+(1e9*Math.random()>>>0);function qi(o){return typeof o=="function"?o:(o[On]||(o[On]=function(h){return o.handleEvent(h)}),o[On])}function mt(){Ze.call(this),this.i=new xa(this),this.M=this,this.F=null}C(mt,Ze),mt.prototype[yn]=!0,mt.prototype.removeEventListener=function(o,h,d,_){so(this,o,h,d,_)};function gt(o,h){var d,_=o.F;if(_)for(d=[];_;_=_.F)d.push(_);if(o=o.M,_=h.type||h,typeof h=="string")h=new Le(h,o);else if(h instanceof Le)h.target=h.target||o;else{var x=h;h=new Le(_,o),A(h,x)}if(x=!0,d)for(var L=d.length-1;0<=L;L--){var F=h.g=d[L];x=nn(F,_,!0,h)&&x}if(F=h.g=o,x=nn(F,_,!0,h)&&x,x=nn(F,_,!1,h)&&x,d)for(L=0;L<d.length;L++)F=h.g=d[L],x=nn(F,_,!1,h)&&x}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],_=0;_<d.length;_++)Va(d[_]);delete o.g[h],o.h--}}this.F=null},mt.prototype.K=function(o,h,d,_){return this.i.add(String(o),h,!1,d,_)},mt.prototype.L=function(o,h,d,_){return this.i.add(String(o),h,!0,d,_)};function nn(o,h,d,_){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,L=0;L<h.length;++L){var F=h[L];if(F&&!F.da&&F.capture==d){var Ue=F.listener,Ct=F.ha||F.src;F.fa&&dt(o.i,F),x=Ue.call(Ct,_)!==!1&&x}}return x&&!_.defaultPrevented}function vn(o,h,d){if(typeof o=="function")d&&(o=g(o,d));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(o,h||0)}function uo(o){o.g=vn(()=>{o.g=null,o.i&&(o.i=!1,uo(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class La extends Ze{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(o){Ze.call(this),this.h=o,this.g={}}C(qr,Ze);var Nn=[];function co(o){q(o.g,function(h,d){this.g.hasOwnProperty(d)&&oo(h)},o),o.g={}}qr.prototype.N=function(){qr.aa.N.call(this),co(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ua=l.JSON.stringify,su=l.JSON.parse,rf=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ka(){}ka.prototype.h=null;function Fr(o){return o.h||(o.h=o.i())}function ho(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gr(){Le.call(this,"d")}C(Gr,Le);function fo(){Le.call(this,"c")}C(fo,Le);var Gn={},ou=null;function Kr(){return ou=ou||new mt}Gn.La="serverreachability";function Qr(o){Le.call(this,Gn.La,o)}C(Qr,Le);function Kn(o){const h=Kr();gt(h,new Qr(h))}Gn.STAT_EVENT="statevent";function lu(o,h){Le.call(this,Gn.STAT_EVENT,o),this.stat=h}C(lu,Le);function It(o){const h=Kr();gt(h,new lu(h,o))}Gn.Ma="timingevent";function R(o,h){Le.call(this,Gn.Ma,o),this.size=h}C(R,Le);function M(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function P(){this.g=!0}P.prototype.xa=function(){this.g=!1};function j(o,h,d,_,x,L){o.info(function(){if(o.g)if(L)for(var F="",Ue=L.split("&"),Ct=0;Ct<Ue.length;Ct++){var be=Ue[Ct].split("=");if(1<be.length){var Pt=be[0];be=be[1];var Lt=Pt.split("_");F=2<=Lt.length&&Lt[1]=="type"?F+(Pt+"="+be+"&"):F+(Pt+"=redacted&")}}else F=null;else F=L;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+h+`
`+d+`
`+F})}function K(o,h,d,_,x,L,F){o.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+h+`
`+d+`
`+L+" "+F})}function J(o,h,d,_){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+Z(o,d)+(_?" "+_:"")})}function ae(o,h){o.info(function(){return"TIMEOUT: "+h})}P.prototype.info=function(){};function Z(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var _=d[o];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var L=x[0];if(L!="noop"&&L!="stop"&&L!="close")for(var F=1;F<x.length;F++)x[F]=""}}}}return Ua(d)}catch{return h}}var $={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},X={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ee;function le(){}C(le,ka),le.prototype.g=function(){return new XMLHttpRequest},le.prototype.i=function(){return{}},ee=new le;function he(o,h,d,_){this.j=o,this.i=h,this.l=d,this.R=_||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var De={},Ee={};function Be(o,h,d){o.L=1,o.v=fu(gi(h)),o.m=d,o.P=!0,fi(o,null)}function fi(o,h){o.F=Date.now(),Ft(o),o.A=gi(o.v);var d=o.A,_=o.R;Array.isArray(_)||(_=[String(_)]),xp(d.i,"t",_),o.C=0,d=o.j.J,o.h=new ot,o.g=Wp(o.j,d?h:null,!o.m),0<o.O&&(o.M=new La(g(o.Y,o,o.g),o.O)),h=o.U,d=o.g,_=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Nn[0]=x.toString()),x=Nn);for(var L=0;L<x.length;L++){var F=Fn(d,x[L],_||h.handleEvent,!1,h.h||h);if(!F)break;h.g[F.key]=F}h=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),Kn(),j(o.i,o.u,o.A,o.l,o.R,o.m)}he.prototype.ca=function(o){o=o.target;const h=this.M;h&&pi(o)==3?h.j():this.Y(o)},he.prototype.Y=function(o){try{if(o==this.g)e:{const Lt=pi(this.g);var h=this.g.Ba();const Ha=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||jp(this.g)))){this.J||Lt!=4||h==7||(h==8||0>=Ha?Kn(3):Kn(2)),di(this);var d=this.g.Z();this.X=d;t:if(Fi(this)){var _=jp(this.g);o="";var x=_.length,L=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),rn(this);var F="";break t}this.h.i=new l.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,o+=this.h.i.decode(_[h],{stream:!(L&&h==x-1)});_.length=0,this.h.g+=o,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=d==200,K(this.i,this.u,this.A,this.l,this.R,Lt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ct=this.g;if((Ue=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ue)){var be=Ue;break t}}be=null}if(d=be)J(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gi(this,d);else{this.o=!1,this.s=3,It(12),_n(this),rn(this);break e}}if(this.P){d=!0;let Vn;for(;!this.J&&this.C<F.length;)if(Vn=Mn(this,F),Vn==Ee){Lt==4&&(this.s=4,It(14),d=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==De){this.s=4,It(15),J(this.i,this.l,F,"[Invalid Chunk]"),d=!1;break}else J(this.i,this.l,Vn,null),Gi(this,Vn);if(Fi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||F.length!=0||this.h.h||(this.s=1,It(16),d=!1),this.o=this.o&&d,!d)J(this.i,this.l,F,"[Invalid Chunked Response]"),_n(this),rn(this);else if(0<F.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),lf(Pt),Pt.M=!0,It(11))}}else J(this.i,this.l,F,null),Gi(this,F);Lt==4&&_n(this),this.o&&!this.J&&(Lt==4?Yp(this.j,this):(this.o=!1,Ft(this)))}else mw(this.g),d==400&&0<F.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),_n(this),rn(this)}}}catch{}finally{}};function Fi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Mn(o,h){var d=o.C,_=h.indexOf(`
`,d);return _==-1?Ee:(d=Number(h.substring(d,_)),isNaN(d)?De:(_+=1,_+d>h.length?Ee:(h=h.slice(_,_+d),o.C=_+d,h)))}he.prototype.cancel=function(){this.J=!0,_n(this)};function Ft(o){o.S=Date.now()+o.I,za(o,o.I)}function za(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=M(g(o.ba,o),h)}function di(o){o.B&&(l.clearTimeout(o.B),o.B=null)}he.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ae(this.i,this.A),this.L!=2&&(Kn(),It(17)),_n(this),this.s=2,rn(this)):za(this,this.S-o)};function rn(o){o.j.G==0||o.J||Yp(o.j,o)}function _n(o){di(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,co(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function Gi(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||Ge(d.h,o))){if(!o.K&&Ge(d.h,o)&&d.G==3){try{var _=d.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)vu(d),pu(d);else break e;of(d),It(18)}}else d.za=x[1],0<d.za-d.T&&37500>x[2]&&d.F&&d.v==0&&!d.C&&(d.C=M(g(d.Za,d),6e3));if(1>=Ki(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Xr(d,11)}else if((o.K||d.g==o)&&vu(d),!E(h))for(x=d.Da.g.parse(h),h=0;h<x.length;h++){let be=x[h];if(d.T=be[0],be=be[1],d.G==2)if(be[0]=="c"){d.K=be[1],d.ia=be[2];const Pt=be[3];Pt!=null&&(d.la=Pt,d.j.info("VER="+d.la));const Lt=be[4];Lt!=null&&(d.Aa=Lt,d.j.info("SVER="+d.Aa));const Ha=be[5];Ha!=null&&typeof Ha=="number"&&0<Ha&&(_=1.5*Ha,d.L=_,d.j.info("backChannelRequestTimeoutMs_="+_)),_=d;const Vn=o.g;if(Vn){const Eu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var L=_.h;L.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Qn(L,L.h),L.h=null))}if(_.D){const uf=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(_.ya=uf,qe(_.I,_.D,uf))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),_=d;var F=o;if(_.qa=Zp(_,_.J?_.ia:null,_.W),F.K){mo(_.h,F);var Ue=F,Ct=_.L;Ct&&(Ue.I=Ct),Ue.B&&(di(Ue),Ft(Ue)),_.g=F}else Kp(_);0<d.i.length&&yu(d)}else be[0]!="stop"&&be[0]!="close"||Xr(d,7);else d.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Xr(d,7):sf(d):be[0]!="noop"&&d.l&&d.l.ta(be),d.v=0)}}Kn(4)}catch{}}var Te=class{constructor(o,h){this.g=o,this.map=h}};function He(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mi(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ki(o){return o.h?1:o.g?o.g.size:0}function Ge(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Qn(o,h){o.g?o.g.add(h):o.h=h}function mo(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}He.prototype.cancel=function(){if(this.i=uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function uu(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return O(o.i)}function Jb(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var h=[],d=o.length,_=0;_<d;_++)h.push(o[_]);return h}h=[],d=0;for(_ in o)h[d++]=o[_];return h}function ew(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const _ in o)h[d++]=_;return h}}}function Cp(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=ew(o),_=Jb(o),x=_.length,L=0;L<x;L++)h.call(void 0,_[L],d&&d[L],o)}var Dp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tw(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var _=o[d].indexOf("="),x=null;if(0<=_){var L=o[d].substring(0,_);x=o[d].substring(_+1)}else L=o[d];h(L,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Yr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Yr){this.h=o.h,cu(this,o.j),this.o=o.o,this.g=o.g,hu(this,o.s),this.l=o.l;var h=o.i,d=new yo;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Op(this,d),this.m=o.m}else o&&(h=String(o).match(Dp))?(this.h=!1,cu(this,h[1]||"",!0),this.o=go(h[2]||""),this.g=go(h[3]||"",!0),hu(this,h[4]),this.l=go(h[5]||"",!0),Op(this,h[6]||"",!0),this.m=go(h[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}Yr.prototype.toString=function(){var o=[],h=this.j;h&&o.push(po(h,Np,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(po(h,Np,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(po(d,d.charAt(0)=="/"?rw:iw,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",po(d,sw)),o.join("")};function gi(o){return new Yr(o)}function cu(o,h,d){o.j=d?go(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function hu(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Op(o,h,d){h instanceof yo?(o.i=h,ow(o.i,o.h)):(d||(h=po(h,aw)),o.i=new yo(h,o.h))}function qe(o,h,d){o.i.set(h,d)}function fu(o){return qe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function go(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function po(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,nw),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function nw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Np=/[#\/\?@]/g,iw=/[#\?:]/g,rw=/[#\?]/g,aw=/[#\?@]/g,sw=/#/g;function yo(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Qi(o){o.g||(o.g=new Map,o.h=0,o.i&&tw(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=yo.prototype,t.add=function(o,h){Qi(this),this.i=null,o=Ba(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function Mp(o,h){Qi(o),h=Ba(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Vp(o,h){return Qi(o),h=Ba(o,h),o.g.has(h)}t.forEach=function(o,h){Qi(this),this.g.forEach(function(d,_){d.forEach(function(x){o.call(h,x,_,this)},this)},this)},t.na=function(){Qi(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let _=0;_<h.length;_++){const x=o[_];for(let L=0;L<x.length;L++)d.push(h[_])}return d},t.V=function(o){Qi(this);let h=[];if(typeof o=="string")Vp(this,o)&&(h=h.concat(this.g.get(Ba(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},t.set=function(o,h){return Qi(this),this.i=null,o=Ba(this,o),Vp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function xp(o,h,d){Mp(o,h),0<d.length&&(o.i=null,o.g.set(Ba(o,h),O(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var _=h[d];const L=encodeURIComponent(String(_)),F=this.V(_);for(_=0;_<F.length;_++){var x=L;F[_]!==""&&(x+="="+encodeURIComponent(String(F[_]))),o.push(x)}}return this.i=o.join("&")};function Ba(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function ow(o,h){h&&!o.j&&(Qi(o),o.i=null,o.g.forEach(function(d,_){var x=_.toLowerCase();_!=x&&(Mp(this,_),xp(this,x,d))},o)),o.j=h}function lw(o,h){const d=new P;if(l.Image){const _=new Image;_.onload=y(Yi,d,"TestLoadImage: loaded",!0,h,_),_.onerror=y(Yi,d,"TestLoadImage: error",!1,h,_),_.onabort=y(Yi,d,"TestLoadImage: abort",!1,h,_),_.ontimeout=y(Yi,d,"TestLoadImage: timeout",!1,h,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=o}else h(!1)}function uw(o,h){const d=new P,_=new AbortController,x=setTimeout(()=>{_.abort(),Yi(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:_.signal}).then(L=>{clearTimeout(x),L.ok?Yi(d,"TestPingServer: ok",!0,h):Yi(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Yi(d,"TestPingServer: error",!1,h)})}function Yi(o,h,d,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(d)}catch{}}function cw(){this.g=new rf}function hw(o,h,d){const _=d||"";try{Cp(o,function(x,L){let F=x;c(x)&&(F=Ua(x)),h.push(_+L+"="+encodeURIComponent(F))})}catch(x){throw h.push(_+"type="+encodeURIComponent("_badmap")),x}}function du(o){this.l=o.Ub||null,this.j=o.eb||!1}C(du,ka),du.prototype.g=function(){return new mu(this.l,this.j)},du.prototype.i=function(o){return function(){return o}}({});function mu(o,h){mt.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(mu,mt),t=mu.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,_o(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pp(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pp(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?vo(this):_o(this),this.readyState==3&&Pp(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,vo(this))},t.Qa=function(o){this.g&&(this.response=o,vo(this))},t.ga=function(){this.g&&vo(this)};function vo(o){o.readyState=4,o.l=null,o.j=null,o.v=null,_o(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function _o(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Lp(o){let h="";return q(o,function(d,_){h+=_,h+=":",h+=d,h+=`\r
`}),h}function af(o,h,d){e:{for(_ in d){var _=!1;break e}_=!0}_||(d=Lp(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):qe(o,h,d))}function tt(o){mt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(tt,mt);var fw=/^https?$/i,dw=["POST","PUT"];t=tt.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,d,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ee.g(),this.v=this.o?Fr(this.o):Fr(ee),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(L){Up(this,L);return}if(o=d||"",d=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)d.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const L of _.keys())d.set(L,_.get(L));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(d.keys()).find(L=>L.toLowerCase()=="content-type"),x=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(dw,h,void 0))||_||x||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,F]of d)this.g.setRequestHeader(L,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bp(this),this.u=!0,this.g.send(o),this.u=!1}catch(L){Up(this,L)}};function Up(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,kp(o),gu(o)}function kp(o){o.A||(o.A=!0,gt(o,"complete"),gt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,gt(this,"complete"),gt(this,"abort"),gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gu(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zp(this):this.bb())},t.bb=function(){zp(this)};function zp(o){if(o.h&&typeof s<"u"&&(!o.v[1]||pi(o)!=4||o.Z()!=2)){if(o.u&&pi(o)==4)vn(o.Ea,0,o);else if(gt(o,"readystatechange"),pi(o)==4){o.h=!1;try{const F=o.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var _;if(_=F===0){var x=String(o.D).match(Dp)[1]||null;!x&&l.self&&l.self.location&&(x=l.self.location.protocol.slice(0,-1)),_=!fw.test(x?x.toLowerCase():"")}d=_}if(d)gt(o,"complete"),gt(o,"success");else{o.m=6;try{var L=2<pi(o)?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.Z()+"]",kp(o)}}finally{gu(o)}}}}function gu(o,h){if(o.g){Bp(o);const d=o.g,_=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||gt(o,"ready");try{d.onreadystatechange=_}catch{}}}function Bp(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function pi(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),su(h)}};function jp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function mw(o){const h={};o=(o.g&&2<=pi(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<o.length;_++){if(E(o[_]))continue;var d=I(o[_]);const x=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const L=h[x]||[];h[x]=L,L.push(d)}p(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function Hp(o){this.Aa=0,this.i=[],this.j=new P,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eo("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eo("baseRetryDelayMs",5e3,o),this.cb=Eo("retryDelaySeedMs",1e4,o),this.Wa=Eo("forwardChannelMaxRetries",2,o),this.wa=Eo("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new He(o&&o.concurrentRequestLimit),this.Da=new cw,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hp.prototype,t.la=8,t.G=1,t.connect=function(o,h,d,_){It(0),this.W=o,this.H=h||{},d&&_!==void 0&&(this.H.OSID=d,this.H.OAID=_),this.F=this.X,this.I=Zp(this,null,this.W),yu(this)};function sf(o){if(qp(o),o.G==3){var h=o.U++,d=gi(o.I);if(qe(d,"SID",o.K),qe(d,"RID",h),qe(d,"TYPE","terminate"),To(o,d),h=new he(o,o.j,h),h.L=2,h.v=fu(gi(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=Wp(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ft(h)}$p(o)}function pu(o){o.g&&(lf(o),o.g.cancel(),o.g=null)}function qp(o){pu(o),o.u&&(l.clearTimeout(o.u),o.u=null),vu(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function yu(o){if(!mi(o.h)&&!o.s){o.s=!0;var h=o.Ga;re||Pe(),W||(re(),W=!0),Ie.add(h,o),o.B=0}}function gw(o,h){return Ki(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=M(g(o.Ga,o,h),Xp(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new he(this,this.j,o);let L=this.o;if(this.S&&(L?(L=v(L),A(L,this.S)):L=this.S),this.m!==null||this.O||(x.H=L,L=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var _=this.i[d];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=Gp(this,x,h),d=gi(this.I),qe(d,"RID",o),qe(d,"CVER",22),this.D&&qe(d,"X-HTTP-Session-Id",this.D),To(this,d),L&&(this.O?h="headers="+encodeURIComponent(String(Lp(L)))+"&"+h:this.m&&af(d,this.m,L)),Qn(this.h,x),this.Ua&&qe(d,"TYPE","init"),this.P?(qe(d,"$req",h),qe(d,"SID","null"),x.T=!0,Be(x,d,null)):Be(x,d,h),this.G=2}}else this.G==3&&(o?Fp(this,o):this.i.length==0||mi(this.h)||Fp(this))};function Fp(o,h){var d;h?d=h.l:d=o.U++;const _=gi(o.I);qe(_,"SID",o.K),qe(_,"RID",d),qe(_,"AID",o.T),To(o,_),o.m&&o.o&&af(_,o.m,o.o),d=new he(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=Gp(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Qn(o.h,d),Be(d,_,h)}function To(o,h){o.H&&q(o.H,function(d,_){qe(h,_,d)}),o.l&&Cp({},function(d,_){qe(h,_,d)})}function Gp(o,h,d){d=Math.min(o.i.length,d);var _=o.l?g(o.l.Na,o.l,o):null;e:{var x=o.i;let L=-1;for(;;){const F=["count="+d];L==-1?0<d?(L=x[0].g,F.push("ofs="+L)):L=0:F.push("ofs="+L);let Ue=!0;for(let Ct=0;Ct<d;Ct++){let be=x[Ct].g;const Pt=x[Ct].map;if(be-=L,0>be)L=Math.max(0,x[Ct].g-100),Ue=!1;else try{hw(Pt,F,"req"+be+"_")}catch{_&&_(Pt)}}if(Ue){_=F.join("&");break e}}}return o=o.i.splice(0,d),h.D=o,_}function Kp(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;re||Pe(),W||(re(),W=!0),Ie.add(h,o),o.v=0}}function of(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=M(g(o.Fa,o),Xp(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Qp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=M(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),pu(this),Qp(this))};function lf(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Qp(o){o.g=new he(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=gi(o.qa);qe(h,"RID","rpc"),qe(h,"SID",o.K),qe(h,"AID",o.T),qe(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&qe(h,"TO",o.ja),qe(h,"TYPE","xmlhttp"),To(o,h),o.m&&o.o&&af(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=fu(gi(h)),d.m=null,d.P=!0,fi(d,o)}t.Za=function(){this.C!=null&&(this.C=null,pu(this),of(this),It(19))};function vu(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Yp(o,h){var d=null;if(o.g==h){vu(o),lf(o),o.g=null;var _=2}else if(Ge(o.h,h))d=h.D,mo(o.h,h),_=1;else return;if(o.G!=0){if(h.o)if(_==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var x=o.B;_=Kr(),gt(_,new R(_,d)),yu(o)}else Kp(o);else if(x=h.s,x==3||x==0&&0<h.X||!(_==1&&gw(o,h)||_==2&&of(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),x){case 1:Xr(o,5);break;case 4:Xr(o,10);break;case 3:Xr(o,6);break;default:Xr(o,2)}}}function Xp(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function Xr(o,h){if(o.j.info("Error code "+h),h==2){var d=g(o.fb,o),_=o.Xa;const x=!_;_=new Yr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||cu(_,"https"),fu(_),x?lw(_.toString(),d):uw(_.toString(),d)}else It(2);o.G=0,o.l&&o.l.sa(h),$p(o),qp(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function $p(o){if(o.G=0,o.ka=[],o.l){const h=uu(o.h);(h.length!=0||o.i.length!=0)&&(V(o.ka,h),V(o.ka,o.i),o.h.i.length=0,O(o.i),o.i.length=0),o.l.ra()}}function Zp(o,h,d){var _=d instanceof Yr?gi(d):new Yr(d);if(_.g!="")h&&(_.g=h+"."+_.g),hu(_,_.s);else{var x=l.location;_=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var L=new Yr(null);_&&cu(L,_),h&&(L.g=h),x&&hu(L,x),d&&(L.l=d),_=L}return d=o.D,h=o.ya,d&&h&&qe(_,d,h),qe(_,"VER",o.la),To(o,_),_}function Wp(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new tt(new du({eb:d})):new tt(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jp(){}t=Jp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _u(){}_u.prototype.g=function(o,h){return new an(o,h)};function an(o,h){mt.call(this),this.g=new Hp(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!E(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new ja(this)}C(an,mt),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){sf(this.g)},an.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Ua(o),o=d);h.i.push(new Te(h.Ya++,o)),h.G==3&&yu(h)},an.prototype.N=function(){this.g.l=null,delete this.j,sf(this.g),delete this.g,an.aa.N.call(this)};function ey(o){Gr.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}C(ey,Gr);function ty(){fo.call(this),this.status=1}C(ty,fo);function ja(o){this.g=o}C(ja,Jp),ja.prototype.ua=function(){gt(this.g,"a")},ja.prototype.ta=function(o){gt(this.g,new ey(o))},ja.prototype.sa=function(o){gt(this.g,new ty)},ja.prototype.ra=function(){gt(this.g,"b")},_u.prototype.createWebChannel=_u.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,YS=function(){return new _u},QS=function(){return Kr()},KS=Gn,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$.NO_ERROR=0,$.TIMEOUT=8,$.HTTP_ERROR=6,rc=$,X.COMPLETE="complete",GS=X,ho.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,ko=ho,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,FS=tt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const r_="@firebase/firestore",a_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new kg("@firebase/firestore");function $a(){return Ta.logLevel}function Y(t,...e){if(Ta.logLevel<=ve.DEBUG){const n=e.map(jg);Ta.debug(`Firestore (${eo}): ${t}`,...n)}}function ki(t,...e){if(Ta.logLevel<=ve.ERROR){const n=e.map(jg);Ta.error(`Firestore (${eo}): ${t}`,...n)}}function ks(t,...e){if(Ta.logLevel<=ve.WARN){const n=e.map(jg);Ta.warn(`Firestore (${eo}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,XS(t,i,n)}function XS(t,e,n){let i=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ki(i),new Error(i)}function Ce(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||XS(e,r,i)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k2{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let a=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ir,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ir)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ce(typeof i.accessToken=="string",31837,{l:i}),new $S(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class z2{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class B2{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const i=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new s_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=H2(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=e.charAt(r[a]%62))}return i}}function de(t,e){return t<e?-1:t>e?1:0}function hm(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return de(i,r);{const a=ZS(),s=q2(a.encode(o_(t,n)),a.encode(o_(e,n)));return s!==0?s:de(i,r)}}n+=i>65535?2:1}return de(t.length,e.length)}function o_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function q2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return de(t[n],e[n]);return de(t.length,e.length)}function zs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,u_=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*u_);return new _t(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l_)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new _t(0,0))}static max(){return new ue(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="__name__";class Xn{constructor(e,n,i){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=Xn.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return de(e.length,n.length)}static compareSegments(e,n){const i=Xn.isNumericId(e),r=Xn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):hm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Ye extends Xn{construct(e,n,i){return new Ye(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Xn{construct(e,n,i){return new Mt(e,n,i)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c_}static keyField(){return new Mt([c_])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(s=!s,r++):l!=="."||s?(i+=l,r++):(a(),r++)}if(a(),s)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Ye.fromString(e))}static fromName(e){return new ne(Ye.fromString(e).popFirst(5))}static empty(){return new ne(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function G2(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ue.fromTimestamp(i===1e9?new _t(n+1,0):new _t(n,i));return new Mr(r,ne.empty(),e)}function K2(t){return new Mr(t.readTime,t.key,bl)}class Mr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mr(ue.min(),ne.empty(),bl)}static max(){return new Mr(ue.max(),ne.empty(),bl)}}function Q2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:de(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==Y2)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,i)=>{n(e)})}static reject(e){return new k((n,i)=>{i(e)})}static waitFor(e){return new k((n,i)=>{let r=0,a=0,s=!1;e.forEach(l=>{++r,l.next(()=>{++a,s&&a===r&&n()},u=>i(u))}),s=!0,a===r&&n()})}static or(e){let n=k.resolve(!1);for(const i of e)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(e,n){return new k((i,r)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===a&&i(s)},f=>r(f))}})}static doWhile(e,n){return new k((i,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):i()};a()})}}function $2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function no(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function Lh(t){return t==null}function $c(t){return t===0&&1/t==-1/0}function Z2(t){return typeof t=="number"&&Number.isInteger(t)&&!$c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="";function W2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=h_(e)),e=J2(t.get(n),e);return h_(e)}function J2(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case JS:n+="";break;default:n+=a}}return n}function h_(t){return t+JS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ca(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,i,r,a){this.key=e,this.value=n,this.color=i??Ot.RED,this.left=r??Ot.EMPTY,this.right=a??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,a){return new Ot(e??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,i,r,a){return this}insert(e,n,i){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Et(Mt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new tA("Invalid base64 string: "+a):a}}(e);return new xt(n)}static fromUint8Array(e){const n=function(r){let a="";for(let s=0;s<r.length;++s)a+=String.fromCharCode(r[s]);return a}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const eO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=eO.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="server_timestamp",iA="__type__",rA="__previous_value__",aA="__local_write_time__";function qg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iA])===null||n===void 0?void 0:n.stringValue)===nA}function Uh(t){const e=t.mapValue.fields[rA];return qg(e)?Uh(e):e}function wl(t){const e=Vr(t.mapValue.fields[aA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,i,r,a,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}const Zc="(default)";class Rl{constructor(e,n){this.projectId=e,this.database=n||Zc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__type__",nO="__max__",zu={mapValue:{}},oA="__vector__",Wc="value";function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:rO(t)?9007199254740991:iO(t)?10:11:ie(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wl(t).isEqual(wl(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const s=Vr(r.timestampValue),l=Vr(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return xr(r.bytesValue).isEqual(xr(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return st(r.geoPointValue.latitude)===st(a.geoPointValue.latitude)&&st(r.geoPointValue.longitude)===st(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return st(r.integerValue)===st(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const s=st(r.doubleValue),l=st(a.doubleValue);return s===l?$c(s)===$c(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(r,a){const s=r.mapValue.fields||{},l=a.mapValue.fields||{};if(f_(s)!==f_(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!ai(s[u],l[u])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Il(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;const n=Pr(t),i=Pr(e);if(n!==i)return de(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=st(a.integerValue||a.doubleValue),u=st(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return m_(t.timestampValue,e.timestampValue);case 4:return m_(wl(t),wl(e));case 5:return hm(t.stringValue,e.stringValue);case 6:return function(a,s){const l=xr(a),u=xr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=de(l[c],u[c]);if(f!==0)return f}return de(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=de(st(a.latitude),st(s.latitude));return l!==0?l:de(st(a.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return g_(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,u,c,f;const m=a.fields||{},g=s.fields||{},y=(l=m[Wc])===null||l===void 0?void 0:l.arrayValue,C=(u=g[Wc])===null||u===void 0?void 0:u.arrayValue,O=de(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:g_(y,C)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===zu.mapValue&&s===zu.mapValue)return 0;if(a===zu.mapValue)return 1;if(s===zu.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=hm(u[m],f[m]);if(g!==0)return g;const y=Bs(l[u[m]],c[f[m]]);if(y!==0)return y}return de(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{Pe:n})}}function m_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return de(t,e);const n=Vr(t),i=Vr(e),r=de(n.seconds,i.seconds);return r!==0?r:de(n.nanos,i.nanos)}function g_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=Bs(n[r],i[r]);if(a)return a}return de(n.length,i.length)}function js(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Vr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=fm(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const s of i)a?a=!1:r+=",",r+=`${s}:${fm(n.fields[s])}`;return r+"}"}(t.mapValue):ie(61005,{value:t})}function ac(t){switch(Pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(t);return e?16+ac(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+ac(a),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Ca(i.fields,(a,s)=>{r+=a.length+ac(s)}),r}(t.mapValue);default:throw ie(13486,{value:t})}}function dm(t){return!!t&&"integerValue"in t}function Fg(t){return!!t&&"arrayValue"in t}function p_(t){return!!t&&"nullValue"in t}function y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sc(t){return!!t&&"mapValue"in t}function iO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sA])===null||n===void 0?void 0:n.stringValue)===oA}function nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ca(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=nl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!sc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=Mt.emptyPath(),i={},r=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}s?i[l.lastSegment()]=nl(s):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(e){const n=this.field(e.popLast());sc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];sc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Ca(n,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Rn(nl(this.value))}}function lA(t){const e=[];return Ca(t.fields,(n,i)=>{const r=new Mt([n]);if(sc(i)){const a=lA(i.mapValue).fields;if(a.length===0)e.push(r);else for(const s of a)e.push(r.child(s))}else e.push(r)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n,i,r,a,s,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new zt(e,0,ue.min(),ue.min(),ue.min(),Rn.empty(),0)}static newFoundDocument(e,n,i,r){return new zt(e,1,n,ue.min(),i,r,0)}static newNoDocument(e,n){return new zt(e,2,n,ue.min(),ue.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ue.min(),ue.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function v_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const a=e[r],s=t.position[r];if(a.field.isKeyField()?i=ne.comparator(ne.fromName(s.referenceValue),n.key):i=Bs(s,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function __(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{}class vt extends uA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new oO(e,n,i):n==="array-contains"?new cO(e,i):n==="in"?new hO(e,i):n==="not-in"?new fO(e,i):n==="array-contains-any"?new dO(e,i):new vt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new lO(e,i):new uO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bs(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends uA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new si(e,n)}matches(e){return cA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cA(t){return t.op==="and"}function hA(t){return sO(t)&&cA(t)}function sO(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function mm(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+js(t.value);if(hA(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function fA(t,e){return t instanceof vt?function(i,r){return r instanceof vt&&i.op===r.op&&i.field.isEqual(r.field)&&ai(i.value,r.value)}(t,e):t instanceof si?function(i,r){return r instanceof si&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,s,l)=>a&&fA(s,r.filters[l]),!0):!1}(t,e):void ie(19439)}function dA(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`}(t):t instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(dA).join(" ,")+"}"}(t):"Filter"}class oO extends vt{constructor(e,n,i){super(e,n,i),this.key=ne.fromName(i.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class lO extends vt{constructor(e,n){super(e,"in",n),this.keys=mA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uO extends vt{constructor(e,n){super(e,"not-in",n),this.keys=mA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function mA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>ne.fromName(i.referenceValue))}class cO extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fg(n)&&Il(n.arrayValue,this.value)}}class hO extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class fO extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Il(this.value.arrayValue,n)}}class dO extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Il(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n=null,i=[],r=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=s,this.endAt=l,this.Ie=null}}function E_(t,e=null,n=[],i=[],r=null,a=null,s=null){return new mO(t,e,n,i,r,a,s)}function Gg(t){const e=ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>mm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>js(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>js(i)).join(",")),e.Ie=n}return e.Ie}function Kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__(t.startAt,e.startAt)&&__(t.endAt,e.endAt)}function gm(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n=null,i=[],r=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gO(t,e,n,i,r,a,s,l){return new kh(t,e,n,i,r,a,s,l)}function gA(t){return new kh(t)}function T_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pO(t){return t.collectionGroup!==null}function il(t){const e=ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Et(Mt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new eh(a,i))}),n.has(Mt.keyField().canonicalString())||e.Ee.push(new eh(Mt.keyField(),i))}return e.Ee}function ni(t){const e=ce(t);return e.de||(e.de=yO(e,il(t))),e.de}function yO(t,e){if(t.limitType==="F")return E_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new eh(r.field,a)});const n=t.endAt?new Jc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Jc(t.startAt.position,t.startAt.inclusive):null;return E_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function pm(t,e,n){return new kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zh(t,e){return Kg(ni(t),ni(e))&&t.limitType===e.limitType}function pA(t){return`${Gg(ni(t))}|lt:${t.limitType}`}function Za(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>dA(r)).join(", ")}]`),Lh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>js(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>js(r)).join(",")),`Target(${i})`}(ni(t))}; limitType=${t.limitType})`}function Bh(t,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ne.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,r){for(const a of il(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,l,u){const c=v_(s,l,u);return s.inclusive?c<=0:c<0}(i.startAt,il(i),r)||i.endAt&&!function(s,l,u){const c=v_(s,l,u);return s.inclusive?c>=0:c>0}(i.endAt,il(i),r))}(t,e)}function vO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yA(t){return(e,n)=>{let i=!1;for(const r of il(t)){const a=_O(r,e,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function _O(t,e,n){const i=t.field.isKeyField()?ne.comparator(e.key,n.key):function(a,s,l){const u=s.data.field(a),c=l.data.field(a);return u!==null&&c!==null?Bs(u,c):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(n,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Je(ne.comparator);function zi(){return EO}const vA=new Je(ne.comparator);function zo(...t){let e=vA;for(const n of t)e=e.insert(n.key,n);return e}function _A(t){let e=vA;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ra(){return rl()}function EA(){return rl()}function rl(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const TO=new Je(ne.comparator),SO=new Et(ne.comparator);function _e(...t){let e=SO;for(const n of t)e=e.add(n);return e}const AO=new Et(de);function bO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function wO(t,e){return Z2(e)?TA(e):Qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function RO(t,e,n){return t instanceof th?function(r,a){const s={fields:{[iA]:{stringValue:nA},[aA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&qg(a)&&(a=Uh(a)),a&&(s.fields[rA]=a),{mapValue:s}}(n,e):t instanceof Cl?AA(t,e):t instanceof Dl?bA(t,e):function(r,a){const s=SA(r,a),l=S_(s)+S_(r.Re);return dm(s)&&dm(r.Re)?TA(l):Qg(r.serializer,l)}(t,e)}function IO(t,e,n){return t instanceof Cl?AA(t,e):t instanceof Dl?bA(t,e):n}function SA(t,e){return t instanceof nh?function(i){return dm(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class th extends jh{}class Cl extends jh{constructor(e){super(),this.elements=e}}function AA(t,e){const n=wA(e);for(const i of t.elements)n.some(r=>ai(r,i))||n.push(i);return{arrayValue:{values:n}}}class Dl extends jh{constructor(e){super(),this.elements=e}}function bA(t,e){let n=wA(e);for(const i of t.elements)n=n.filter(r=>!ai(r,i));return{arrayValue:{values:n}}}class nh extends jh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function S_(t){return st(t.integerValue||t.doubleValue)}function wA(t){return Fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CO(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Cl&&r instanceof Cl||i instanceof Dl&&r instanceof Dl?zs(i.elements,r.elements,ai):i instanceof nh&&r instanceof nh?ai(i.Re,r.Re):i instanceof th&&r instanceof th}(t.transform,e.transform)}class DO{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hh{}function RA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new CA(t.key,Ni.none()):new Wl(t.key,t.data,Ni.none());{const n=t.data,i=Rn.empty();let r=new Et(Mt.comparator);for(let a of e.fields)if(!r.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?i.delete(a):i.set(a,s),r=r.add(a)}return new Oa(t.key,i,new Un(r.toArray()),Ni.none())}}function OO(t,e,n){t instanceof Wl?function(r,a,s){const l=r.value.clone(),u=b_(r.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Oa?function(r,a,s){if(!oc(r.precondition,a))return void a.convertToUnknownDocument(s.version);const l=b_(r.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(IA(r)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,i){return t instanceof Wl?function(a,s,l,u){if(!oc(a.precondition,s))return l;const c=a.value.clone(),f=w_(a.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Oa?function(a,s,l,u){if(!oc(a.precondition,s))return l;const c=w_(a.fieldTransforms,u,s),f=s.data;return f.setAll(IA(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(a,s,l){return oc(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function NO(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),a=SA(i.transform,r||null);a!=null&&(n===null&&(n=Rn.empty()),n.set(i.field,a))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zs(i,r,(a,s)=>CO(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends Hh{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Oa extends Hh{constructor(e,n,i,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function IA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function b_(t,e,n){const i=new Map;Ce(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const a=t[r],s=a.transform,l=e.data.field(a.field);i.set(a.field,IO(s,l,n[r]))}return i}function w_(t,e,n){const i=new Map;for(const r of t){const a=r.transform,s=n.data.field(r.field);i.set(r.field,RO(a,s,e))}return i}class CA extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MO extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&OO(a,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=al(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=EA();return this.mutations.forEach(r=>{const a=e.get(r.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(r.key)?null:l;const u=RA(s,l);u!==null&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,i)=>A_(n,i))&&zs(this.baseMutations,e.baseMutations,(n,i)=>A_(n,i))}}class Yg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ce(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return TO}();const a=e.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,i[s].version);return new Yg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt,Se;function LO(t){switch(t){case H.OK:return ie(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function DA(t){if(t===void 0)return ki("GRPC error has no .code"),H.UNKNOWN;switch(t){case lt.OK:return H.OK;case lt.CANCELLED:return H.CANCELLED;case lt.UNKNOWN:return H.UNKNOWN;case lt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case lt.INTERNAL:return H.INTERNAL;case lt.UNAVAILABLE:return H.UNAVAILABLE;case lt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case lt.NOT_FOUND:return H.NOT_FOUND;case lt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case lt.ABORTED:return H.ABORTED;case lt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case lt.DATA_LOSS:return H.DATA_LOSS;default:return ie(39323,{code:t})}}(Se=lt||(lt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new Rr([4294967295,4294967295],0);function R_(t){const e=ZS().encode(t),n=new qS;return n.update(e),new Uint8Array(n.digest())}function I_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Rr([n,i],0),new Rr([r,a],0)]}class Xg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Bo(`Invalid padding: ${n}`);if(i<0)throw new Bo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Rr.fromNumber(this.pe)}we(e,n,i){let r=e.add(n.multiply(Rr.fromNumber(i)));return r.compare(UO)===1&&(r=new Rr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=R_(e),[i,r]=I_(n);for(let a=0;a<this.hashCount;a++){const s=this.we(i,r,a);if(!this.be(s))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new Xg(a,r,n);return i.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const n=R_(e),[i,r]=I_(n);for(let a=0;a<this.hashCount;a++){const s=this.we(i,r,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,i,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new qh(ue.min(),r,new Je(de),zi(),_e())}}class Jl{constructor(e,n,i,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Jl(i,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,i,r){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=r}}class OA{constructor(e,n){this.targetId=e,this.Ce=n}}class NA{constructor(e,n,i=xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class C_{constructor(){this.Fe=0,this.Me=D_(),this.xe=xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=_e(),n=_e(),i=_e();return this.Me.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ie(38017,{changeType:a})}}),new Jl(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=D_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ce(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class kO{constructor(e){this.ze=e,this.je=new Map,this.He=zi(),this.Je=Bu(),this.Ye=Bu(),this.Ze=new Je(de)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,i=e.Ce.count,r=this._t(n);if(r){const a=r.target;if(gm(a))if(i===0){const s=new ne(a.path);this.tt(n,s,zt.newNoDocument(s,ue.min()))}else Ce(i===1,20013,{expectedCount:i});else{const s=this.ut(n);if(s!==i){const l=this.ct(e),u=l?this.lt(l,e,s):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let s,l;try{s=xr(i).toUint8Array()}catch(u){if(u instanceof tA)return ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Xg(s,r,a)}catch(u){return ks(u instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let r=0;return i.forEach(a=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),r++)}),r}It(e){const n=new Map;this.je.forEach((a,s)=>{const l=this._t(s);if(l){if(a.current&&gm(l.target)){const u=new ne(l.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,zt.newNoDocument(u,e))}a.Le&&(n.set(s,a.qe()),a.Qe())}});let i=_e();this.Ye.forEach((a,s)=>{let l=!0;s.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const r=new qh(e,n,this.Ze,this.He,i);return this.He=zi(),this.Je=Bu(),this.Ye=Bu(),this.Ze=new Je(de),r}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new C_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Et(de),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Et(de),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new C_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bu(){return new Je(ne.comparator)}function D_(){return new Je(ne.comparator)}const zO={asc:"ASCENDING",desc:"DESCENDING"},BO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jO={and:"AND",or:"OR"};class HO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ym(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function ih(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qO(t,e){return ih(t,e.toTimestamp())}function ii(t){return Ce(!!t,49232),ue.fromTimestamp(function(n){const i=Vr(n);return new _t(i.seconds,i.nanos)}(t))}function $g(t,e){return vm(t,e).canonicalString()}function vm(t,e){const n=function(r){return new Ye(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VA(t){const e=Ye.fromString(t);return Ce(kA(e),10190,{key:e.toString()}),e}function _m(t,e){return $g(t.databaseId,e.path)}function ed(t,e){const n=VA(e);if(n.get(1)!==t.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(PA(n))}function xA(t,e){return $g(t.databaseId,e)}function FO(t){const e=VA(t);return e.length===4?Ye.emptyPath():PA(e)}function Em(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PA(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O_(t,e,n){return{name:_m(t,e),fields:n.value.mapValue.fields}}function GO(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(c,f){return c.useProto3Json?(Ce(f===void 0||typeof f=="string",58123),xt.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),xt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?H.UNKNOWN:DA(c.code);return new te(f,c.message||"")}(s);n=new NA(i,r,a,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=ed(t,i.document.name),a=ii(i.document.updateTime),s=i.document.createTime?ii(i.document.createTime):ue.min(),l=new Rn({mapValue:{fields:i.document.fields}}),u=zt.newFoundDocument(r,a,s,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new lc(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=ed(t,i.document),a=i.readTime?ii(i.readTime):ue.min(),s=zt.newNoDocument(r,a),l=i.removedTargetIds||[];n=new lc([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=ed(t,i.document),a=i.removedTargetIds||[];n=new lc([],a,r,null)}else{if(!("filter"in e))return ie(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,s=new PO(r,a),l=i.targetId;n=new OA(l,s)}}return n}function KO(t,e){let n;if(e instanceof Wl)n={update:O_(t,e.key,e.value)};else if(e instanceof CA)n={delete:_m(t,e.key)};else if(e instanceof Oa)n={update:O_(t,e.key,e.data),updateMask:tN(e.fieldMask)};else{if(!(e instanceof MO))return ie(16599,{ft:e.type});n={verify:_m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,s){const l=s.transform;if(l instanceof th)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Dl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof nh)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw ie(20930,{transform:s.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:qO(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ie(27497)}(t,e.precondition)),n}function QO(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(r,a){let s=r.updateTime?ii(r.updateTime):ii(a);return s.isEqual(ue.min())&&(s=ii(a)),new DO(s,r.transformResults||[])}(n,e))):[]}function YO(t,e){return{documents:[xA(t,e.path)]}}function XO(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=xA(t,r);const a=function(c){if(c.length!==0)return UA(si.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:Wa(g.field),direction:WO(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=ym(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:r}}function $O(t){let e=FO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ce(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(m){const g=LA(m);return g instanceof si&&hA(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(C){return new eh(Ja(C.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Lh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,y=m.values||[];return new Jc(y,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,y=m.values||[];return new Jc(y,g)}(n.endAt)),gO(e,r,s,a,l,"F",u,c)}function ZO(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ja(n.unaryFilter.field);return vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ja(n.unaryFilter.field);return vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ja(n.unaryFilter.field);return vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ja(n.unaryFilter.field);return vt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Ja(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(i=>LA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function WO(t){return zO[t]}function JO(t){return BO[t]}function eN(t){return jO[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Mt.fromServerFormat(t.fieldPath)}function UA(t){return t instanceof vt?function(n){if(n.op==="=="){if(y_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(p_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(p_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:JO(n.op),value:n.value}}}(t):t instanceof si?function(n){const i=n.getFilters().map(r=>UA(r));return i.length===1?i[0]:{compositeFilter:{op:eN(n.op),filters:i}}}(t):ie(54877,{filter:t})}function tN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,i,r,a=ue.min(),s=ue.min(),l=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.wt=e}}function iN(t){const e=$O({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.yn=new aN}addToCollectionParentIndex(e,n){return this.yn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Mr.min())}updateCollectionGroup(e,n,i){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class aN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Et(Ye.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Et(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zA=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(zA,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Hs(0)}static ir(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="LruGarbageCollector",sN=1048576;function V_([t,e],[n,i]){const r=de(t,n);return r===0?de(e,i):r}class oN{constructor(e){this.cr=e,this.buffer=new Et(V_),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();V_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Y(M_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){no(n)?Y(M_,"Ignoring IndexedDB error during garbage collection: ",n):await to(n)}await this.Ir(3e5)})}}class uN{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return k.resolve(Ph.le);const i=new oN(n);return this.Er.forEachTarget(e,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(e,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Er.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(N_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let i,r,a,s,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,s=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),$a()<=ve.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${r} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:m})))}}function cN(t,e){return new uN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&al(i.mutation,r,Un.empty(),_t.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,_e()).next(()=>i))}getLocalViewOfDocuments(e,n,i=_e()){const r=ra();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(a=>{let s=zo();return a.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const i=ra();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,_e()))}populateOverlays(e,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,i,r){let a=zi();const s=rl(),l=function(){return rl()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Oa)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),al(f.mutation,c,f.mutation.getFieldMask(),_t.now())):s.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var m;return l.set(c,new fN(f,(m=s.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const i=rl();let r=new Je((s,l)=>s-l),a=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Un.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||_e()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const s=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=EA();f.forEach(g=>{if(!a.has(g)){const y=RA(n.get(g),i.get(g));y!==null&&m.set(g,y),a=a.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return k.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-a.size):k.resolve(ra());let l=bl,u=a;return s.next(c=>k.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(f)?k.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,_e())).next(f=>({batchId:l,changes:_A(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(i=>{let r=zo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const a=n.collectionGroup;let s=zo();return this.indexManager.getCollectionParents(e,a).next(l=>k.forEach(l,u=>{const c=function(m,g){return new kh(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,r))).next(s=>{a.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,zt.newInvalidDocument(f)))});let l=zo();return s.forEach((u,c)=>{const f=a.get(u);f!==void 0&&al(f.mutation,c,Un.empty(),_t.now()),Bh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return k.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ii(r.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(r){return{name:r.name,query:iN(r.bundledQuery),readTime:ii(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.overlays=new Je(ne.comparator),this.Or=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ra();return k.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,a)=>{this.St(e,n,a)}),k.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(i)),k.resolve()}getOverlaysForCollection(e,n,i){const r=ra(),a=n.length+1,s=new ne(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let a=new Je((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=a.get(c.largestBatchId);f===null&&(f=ra(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=ra(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return k.resolve(l)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new xO(n,i));let a=this.Or.get(n);a===void 0&&(a=_e(),this.Or.set(n,a)),this.Or.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.Nr=new Et(St.Br),this.Lr=new Et(St.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const i=new St(e,n);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Qr(new St(e,n))}$r(e,n){e.forEach(i=>this.removeReference(i,n))}Ur(e){const n=new ne(new Ye([])),i=new St(n,e),r=new St(n,e+1),a=[];return this.Lr.forEachInRange([i,r],s=>{this.Qr(s),a.push(s.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ne(new Ye([])),i=new St(n,e),r=new St(n,e+1);let a=_e();return this.Lr.forEachInRange([i,r],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new St(e,0),i=this.Nr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ne.comparator(e.key,n.key)||de(e.Gr,n.Gr)}static kr(e,n){return de(e.Gr,n.Gr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Et(St.Br)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new VO(a,n,i,r);this.mutationQueue.push(s);for(const l of r)this.zr=this.zr.add(new St(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,n){return k.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Hr(i),a=r<0?0:r;return k.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Hg:this.Jn-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new St(n,0),r=new St(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([i,r],s=>{const l=this.jr(s.Gr);a.push(l)}),k.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Et(de);return n.forEach(r=>{const a=new St(r,0),s=new St(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,s],l=>{i=i.add(l.Gr)})}),k.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let a=i;ne.isDocumentKey(a)||(a=a.child(""));const s=new St(new ne(a),0);let l=new Et(de);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Gr)),!0)},s),k.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(i=>{const r=this.jr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ce(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return k.forEach(n.mutations,r=>{const a=new St(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,n){const i=new St(n,0),r=this.zr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.Zr=e,this.docs=function(){return new Je(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,s=this.Zr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let i=zi();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():zt.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let a=zi();const s=n.path,l=new ne(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Q2(K2(f),i)<=0||(r.has(f.key)||Bh(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return k.resolve(a)}getAllFromCollectionGroup(e,n,i,r){ie(9500)}Xr(e,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _N(this)}getSize(e){return k.resolve(this.size)}}class _N extends hN{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.vr.addEntry(e,r)):this.vr.removeEntry(i)}),k.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.persistence=e,this.ei=new Da(n=>Gg(n),Kg),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ti=0,this.ni=new Zg,this.targetCount=0,this.ri=Hs.rr()}forEachTarget(e,n){return this.ei.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ti&&(this.ti=n),k.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.ar(n),k.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,i){let r=0;const a=[];return this.ei.forEach((s,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.ei.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),k.waitFor(a).next(()=>r)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const i=this.ei.get(n)||null;return k.resolve(i)}addMatchingKeys(e,n,i){return this.ni.qr(n,i),k.resolve()}removeMatchingKeys(e,n,i){this.ni.$r(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(s=>{a.push(r.markPotentiallyOrphaned(e,s))}),k.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),k.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ni.Wr(n);return k.resolve(i)}containsKey(e,n){return k.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.ii={},this.overlays={},this.si=new Ph(0),this.oi=!1,this.oi=!0,this._i=new pN,this.referenceDelegate=e(this),this.ai=new EN(this),this.indexManager=new rN,this.remoteDocumentCache=function(r){return new vN(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new nN(n),this.ci=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ii[e.toKey()];return i||(i=new yN(n,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,i){Y("MemoryPersistence","Starting transaction:",e);const r=new TN(this.si.next());return this.referenceDelegate.li(),i(r).next(a=>this.referenceDelegate.hi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Pi(e,n){return k.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,n)))}}class TN extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Ti=new Zg,this.Ii=null}static Ei(e){return new Wg(e)}get di(){if(this.Ii)return this.Ii;throw ie(60996)}addReference(e,n,i){return this.Ti.addReference(i,n),this.di.delete(i.toString()),k.resolve()}removeReference(e,n,i){return this.Ti.removeReference(i,n),this.di.add(i.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),k.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.di,i=>{const r=ne.fromPath(i);return this.Ai(e,r).next(a=>{a||n.removeEntry(r,ue.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return k.or([()=>k.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.Ri=new Da(i=>W2(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=cN(this,n)}static Ei(e,n){return new rh(e,n)}li(){}hi(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Vr(e){let n=0;return this.Ar(e,i=>{n++}).next(()=>n)}Ar(e,n){return k.forEach(this.Ri,(i,r)=>this.gr(e,i,r).next(a=>a?k.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.Xr(e,s=>this.gr(e,s,n).next(l=>{l||(i++,a.removeEntry(s,ue.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),k.resolve()}removeReference(e,n,i){return this.Ri.set(i,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),k.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ac(e.data.value)),n}gr(e,n,i){return k.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.Ri.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ls=i,this.hs=r}static Ps(e,n){let i=_e(),r=_e();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Jg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return vD()?8:$2(Ht())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,i,r){const a={result:null};return this.Rs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Vs(e,n,r,i).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new SN;return this.fs(e,n,s).next(l=>{if(a.result=l,this.Is)return this.gs(e,n,s,l.size)})}).next(()=>a.result)}gs(e,n,i,r){return i.documentReadCount<this.Es?($a()<=ve.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),k.resolve()):($a()<=ve.DEBUG&&Y("QueryEngine","Query:",Za(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?($a()<=ve.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):k.resolve())}Rs(e,n){if(T_(n))return k.resolve(null);let i=ni(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=pm(n,null,"F"),i=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const s=_e(...a);return this.As.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.ps(n,l);return this.ys(n,c,s,u.readTime)?this.Rs(e,pm(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,i,r){return T_(n)||r.isEqual(ue.min())?k.resolve(null):this.As.getDocuments(e,i).next(a=>{const s=this.ps(n,a);return this.ys(n,s,i,r)?k.resolve(null):($a()<=ve.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Za(n)),this.ws(e,s,n,G2(r,bl)).next(l=>l))})}ps(e,n){let i=new Et(yA(e));return n.forEach((r,a)=>{Bh(e,a)&&(i=i.add(a))}),i}ys(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}fs(e,n,i){return $a()<=ve.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Za(n)),this.As.getDocumentsMatchingQuery(e,n,Mr.min(),i)}ws(e,n,i,r){return this.As.getDocumentsMatchingQuery(e,i,r).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",bN=3e8;class wN{constructor(e,n,i,r){this.persistence=e,this.bs=n,this.serializer=r,this.Ss=new Je(de),this.Ds=new Da(a=>Gg(a),Kg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function RN(t,e,n,i){return new wN(t,e,n,i)}async function jA(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const s=[],l=[];let u=_e();for(const c of r){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of a){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:l}))})})}function IN(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,g=m.keys();let y=k.resolve();return g.forEach(C=>{y=y.next(()=>f.getEntry(u,C)).next(O=>{const V=c.docVersions.get(C);Ce(V!==null,48541),O.version.compareTo(V)<0&&(m.applyToRemoteDocument(O,c),O.isValidDocument()&&(O.setReadTime(c.commitVersion),f.addEntry(O)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=_e();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function HA(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function CN(t,e){const n=ce(t),i=e.snapshotVersion;let r=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Cs.newChangeBuffer({trackRemovals:!0});r=n.Ss;const l=[];e.targetChanges.forEach((f,m)=>{const g=r.get(m);if(!g)return;l.push(n.ai.removeMatchingKeys(a,f.removedDocuments,m).next(()=>n.ai.addMatchingKeys(a,f.addedDocuments,m)));let y=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(xt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(m,y),function(O,V,T){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=bN?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,y,f)&&l.push(n.ai.updateTargetData(a,y))});let u=zi(),c=_e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),l.push(DN(a,s,e.documentUpdates).next(f=>{u=f.xs,c=f.Os})),!i.isEqual(ue.min())){const f=n.ai.getLastRemoteSnapshotVersion(a).next(m=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,i));l.push(f)}return k.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ss=r,a))}function DN(t,e,n){let i=_e(),r=_e();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let s=zi();return n.forEach((l,u)=>{const c=a.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Y(ep,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{xs:s,Os:r}})}function ON(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function NN(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.ai.getTargetData(i,e).next(a=>a?(r=a,k.resolve(r)):n.ai.allocateTargetId(i).next(s=>(r=new mr(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(i.targetId,i),n.Ds.set(e,i.targetId)),i})}async function Tm(t,e,n){const i=ce(t),r=i.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!no(s))throw s;Y(ep,`Failed to update sequence numbers for target ${e}: ${s}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(r.target)}function x_(t,e,n){const i=ce(t);let r=ue.min(),a=_e();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const m=ce(u),g=m.Ds.get(f);return g!==void 0?k.resolve(m.Ss.get(g)):m.ai.getTargetData(c,f)}(i,s,ni(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(s,l.targetId).next(u=>{a=u})}).next(()=>i.bs.getDocumentsMatchingQuery(s,e,n?r:ue.min(),n?a:_e())).next(l=>(MN(i,vO(e),l),{documents:l,Ns:a})))}function MN(t,e,n){let i=t.vs.get(e)||ue.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.vs.set(e,i)}class P_{constructor(){this.activeTargetIds=bO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VN{constructor(){this.So=new P_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,i){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new P_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class U_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Y(L_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Y(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function Sm(){return ju===null?ju=function(){return 268435456+Math.round(2147483648*Math.random())}():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="RestConnection",PN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===Zc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(e,n,i,r,a){const s=Sm(),l=this.$o(e,n.toUriEncodedString());Y(td,`Sending RPC '${e}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,r,a),this.Ko(e,l,u,i).then(c=>(Y(td,`Received RPC '${e}' ${s}: `,c),c),c=>{throw ks(td,`RPC '${e}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Wo(e,n,i,r,a,s){return this.Qo(e,n,i,r,a)}Uo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}$o(e,n){const i=PN[e];return`${this.Lo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class kN extends LN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,i,r){const a=Sm();return new Promise((s,l)=>{const u=new FS;u.setWithCredentials(!0),u.listenOnce(GS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rc.NO_ERROR:const f=u.getResponseJson();Y(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case rc.TIMEOUT:Y(Ut,`RPC '${e}' ${a} timed out`),l(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const m=u.getStatus();if(Y(Ut,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const C=function(V){const T=V.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(T)>=0?T:H.UNKNOWN}(y.status);l(new te(C,y.message))}else l(new te(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(H.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{s_:e,streamId:a,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Y(Ut,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(r);Y(Ut,`RPC '${e}' ${a} sending request:`,r),u.send(n,"POST",c,i,15)})}a_(e,n,i){const r=Sm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YS(),l=QS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=a.join("");Y(Ut,`Creating RPC '${e}' stream ${r}: ${f}`,u);const m=s.createWebChannel(f,u);let g=!1,y=!1;const C=new UN({Go:V=>{y?Y(Ut,`Not sending because RPC '${e}' stream ${r} is closed:`,V):(g||(Y(Ut,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),Y(Ut,`RPC '${e}' stream ${r} sending:`,V),m.send(V))},zo:()=>m.close()}),O=(V,T,E)=>{V.listen(T,b=>{try{E(b)}catch(N){setTimeout(()=>{throw N},0)}})};return O(m,ko.EventType.OPEN,()=>{y||(Y(Ut,`RPC '${e}' stream ${r} transport opened.`),C.t_())}),O(m,ko.EventType.CLOSE,()=>{y||(y=!0,Y(Ut,`RPC '${e}' stream ${r} transport closed`),C.r_())}),O(m,ko.EventType.ERROR,V=>{y||(y=!0,ks(Ut,`RPC '${e}' stream ${r} transport errored. Name:`,V.name,"Message:",V.message),C.r_(new te(H.UNAVAILABLE,"The operation could not be completed")))}),O(m,ko.EventType.MESSAGE,V=>{var T;if(!y){const E=V.data[0];Ce(!!E,16349);const b=E,N=(b==null?void 0:b.error)||((T=b[0])===null||T===void 0?void 0:T.error);if(N){Y(Ut,`RPC '${e}' stream ${r} received error:`,N);const B=N.status;let q=function(S){const A=lt[S];if(A!==void 0)return DA(A)}(B),p=N.message;q===void 0&&(q=H.INTERNAL,p="Unknown error status: "+B+" with message "+N.message),y=!0,C.r_(new te(q,p)),m.close()}else Y(Ut,`RPC '${e}' stream ${r} received:`,E),C.i_(E)}}),O(l,KS.STAT_EVENT,V=>{V.stat===cm.PROXY?Y(Ut,`RPC '${e}' stream ${r} detected buffering proxy`):V.stat===cm.NOPROXY&&Y(Ut,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t){return new HO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n,i=1e3,r=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=i,this.c_=r,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,n-i);r>0&&Y("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="PersistentStream";class FA{constructor(e,n,i,r,a,s,l,u){this.bi=e,this.R_=i,this.V_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new qA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===n&&this.B_(i,r)},i=>{e(()=>{const r=new te(H.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(e,n){const i=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Y(k_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Y(k_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zN extends FA{constructor(e,n,i,r,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=GO(this.serializer,e),i=function(a){if(!("targetChange"in a))return ue.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?ii(s.readTime):ue.min()}(e);return this.listener.Q_(n,i)}U_(e){const n={};n.database=Em(this.serializer),n.addTarget=function(a,s){let l;const u=s.target;if(l=gm(u)?{documents:YO(a,u)}:{query:XO(a,u).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=MA(a,s.resumeToken);const c=ym(a,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(ue.min())>0){l.readTime=ih(a,s.snapshotVersion.toTimestamp());const c=ym(a,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=ZO(this.serializer,e);i&&(n.labels=i),this.F_(n)}K_(e){const n={};n.database=Em(this.serializer),n.removeTarget=e,this.F_(n)}}class BN extends FA{constructor(e,n,i,r,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=QO(e.writeResults,e.commitTime),i=ii(e.commitTime);return this.listener.j_(i,n)}H_(){const e={};e.database=Em(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>KO(this.serializer,i))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{}class HN extends jN{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Qo(e,vm(n,i),r,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(H.UNKNOWN,a.toString())})}Wo(e,n,i,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Wo(e,vm(n,i),r,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(H.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class qN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ki(n),this.ea=!1):Y("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class FN{constructor(e,n,i,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(s=>{i.enqueueAndForget(async()=>{Na(this)&&(Y(Sa,"Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.aa.add(4),await eu(c),c.la.set("Unknown"),c.aa.delete(4),await Gh(c)}(this))})}),this.la=new qN(i,r)}}async function Gh(t){if(Na(t))for(const e of t.ua)await e(!0)}async function eu(t){for(const e of t.ua)await e(!1)}function GA(t,e){const n=ce(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),rp(n)?ip(n):io(n).b_()&&np(n,e))}function tp(t,e){const n=ce(t),i=io(n);n._a.delete(e),i.b_()&&KA(n,e),n._a.size===0&&(i.b_()?i.v_():Na(n)&&n.la.set("Unknown"))}function np(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}io(t).U_(e)}function KA(t,e){t.ha.Ke(e),io(t).K_(e)}function ip(t){t.ha=new kO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),io(t).start(),t.la.ta()}function rp(t){return Na(t)&&!io(t).w_()&&t._a.size>0}function Na(t){return ce(t).aa.size===0}function QA(t){t.ha=void 0}async function GN(t){t.la.set("Online")}async function KN(t){t._a.forEach((e,n)=>{np(t,e)})}async function QN(t,e){QA(t),rp(t)?(t.la.ia(e),ip(t)):t.la.set("Unknown")}async function YN(t,e,n){if(t.la.set("Online"),e instanceof NA&&e.state===2&&e.cause)try{await async function(r,a){const s=a.cause;for(const l of a.targetIds)r._a.has(l)&&(await r.remoteSyncer.rejectListen(l,s),r._a.delete(l),r.ha.removeTarget(l))}(t,e)}catch(i){Y(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ah(t,i)}else if(e instanceof lc?t.ha.Xe(e):e instanceof OA?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ue.min()))try{const i=await HA(t.localStore);n.compareTo(i)>=0&&await function(a,s){const l=a.ha.It(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=a._a.get(c);f&&a._a.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=a._a.get(u);if(!f)return;a._a.set(u,f.withResumeToken(xt.EMPTY_BYTE_STRING,f.snapshotVersion)),KA(a,u);const m=new mr(f.target,u,c,f.sequenceNumber);np(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Y(Sa,"Failed to raise snapshot:",i),await ah(t,i)}}async function ah(t,e,n){if(!no(e))throw e;t.aa.add(1),await eu(t),t.la.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Sa,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Gh(t)})}function YA(t,e){return e().catch(n=>ah(t,n,e))}async function Kh(t){const e=ce(t),n=Lr(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:Hg;for(;XN(e);)try{const r=await ON(e.localStore,i);if(r===null){e.oa.length===0&&n.v_();break}i=r.batchId,$N(e,r)}catch(r){await ah(e,r)}XA(e)&&$A(e)}function XN(t){return Na(t)&&t.oa.length<10}function $N(t,e){t.oa.push(e);const n=Lr(t);n.b_()&&n.W_&&n.G_(e.mutations)}function XA(t){return Na(t)&&!Lr(t).w_()&&t.oa.length>0}function $A(t){Lr(t).start()}async function ZN(t){Lr(t).H_()}async function WN(t){const e=Lr(t);for(const n of t.oa)e.G_(n.mutations)}async function JN(t,e,n){const i=t.oa.shift(),r=Yg.from(i,e,n);await YA(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Kh(t)}async function eM(t,e){e&&Lr(t).W_&&await async function(i,r){if(function(s){return LO(s)&&s!==H.ABORTED}(r.code)){const a=i.oa.shift();Lr(i).D_(),await YA(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Kh(i)}}(t,e),XA(t)&&$A(t)}async function z_(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y(Sa,"RemoteStore received new credentials");const i=Na(n);n.aa.add(3),await eu(n),i&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Gh(n)}async function tM(t,e){const n=ce(t);e?(n.aa.delete(2),await Gh(n)):e||(n.aa.add(2),await eu(n),n.la.set("Unknown"))}function io(t){return t.Pa||(t.Pa=function(n,i,r){const a=ce(n);return a.Y_(),new zN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{jo:GN.bind(null,t),Jo:KN.bind(null,t),Zo:QN.bind(null,t),Q_:YN.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),rp(t)?ip(t):t.la.set("Unknown")):(await t.Pa.stop(),QA(t))})),t.Pa}function Lr(t){return t.Ta||(t.Ta=function(n,i,r){const a=ce(n);return a.Y_(),new BN(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:ZN.bind(null,t),Zo:eM.bind(null,t),z_:WN.bind(null,t),j_:JN.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Kh(t)):(await t.Ta.stop(),t.oa.length>0&&(Y(Sa,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,a){const s=Date.now()+i,l=new ap(e,n,s,r,a);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(t,e){if(ki("AsyncQueue",`${e}: ${t}`),no(t))return new te(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ne.comparator(n.key,i.key):(n,i)=>ne.comparator(n.key,i.key),this.keyedMap=zo(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Es;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Ia=new Je(ne.comparator)}track(e){const n=e.doc.key,i=this.Ia.get(n);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(n):e.type===1&&i.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ie(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,i)=>{e.push(i)}),e}}class qs{constructor(e,n,i,r,a,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new qs(e,n,Es.emptySet(n),s,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class iM{constructor(){this.queries=j_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,i){const r=ce(n),a=r.queries;r.queries=j_(),a.forEach((s,l)=>{for(const u of l.Ra)u.onError(i)})})(this,new te(H.ABORTED,"Firestore shutting down"))}}function j_(){return new Da(t=>pA(t),zh)}async function rM(t,e){const n=ce(t);let i=3;const r=e.query;let a=n.queries.get(r);a?!a.Va()&&e.ma()&&(i=2):(a=new nM,i=e.ma()?0:1);try{switch(i){case 0:a.Aa=await n.onListen(r,!0);break;case 1:a.Aa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(s){const l=sp(s,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&op(n)}async function aM(t,e){const n=ce(t),i=e.query;let r=3;const a=n.queries.get(i);if(a){const s=a.Ra.indexOf(e);s>=0&&(a.Ra.splice(s,1),a.Ra.length===0?r=e.ma()?0:1:!a.Va()&&e.ma()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function sM(t,e){const n=ce(t);let i=!1;for(const r of e){const a=r.query,s=n.queries.get(a);if(s){for(const l of s.Ra)l.pa(r)&&(i=!0);s.Aa=r}}i&&op(n)}function oM(t,e,n){const i=ce(t),r=i.queries.get(e);if(r)for(const a of r.Ra)a.onError(n);i.queries.delete(e)}function op(t){t.fa.forEach(e=>{e.next()})}var Am,H_;(H_=Am||(Am={})).ya="default",H_.Cache="cache";class lM{constructor(e,n,i){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new qs(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const i=n!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.key=e}}class WA{constructor(e){this.key=e}}class uM{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=_e(),this.mutatedKeys=_e(),this.Ua=yA(e),this.Ka=new Es(this.Ua)}get Wa(){return this.qa}Ga(e,n){const i=n?n.za:new B_,r=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,s=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const g=r.get(f),y=Bh(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let V=!1;g&&y?g.data.isEqual(y.data)?C!==O&&(i.track({type:3,doc:y}),V=!0):this.ja(g,y)||(i.track({type:2,doc:y}),V=!0,(u&&this.Ua(y,u)>0||c&&this.Ua(y,c)<0)&&(l=!0)):!g&&y?(i.track({type:0,doc:y}),V=!0):g&&!y&&(i.track({type:1,doc:g}),V=!0,(u||c)&&(l=!0)),V&&(y?(s=s.add(y),a=O?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),i.track({type:1,doc:f})}return{Ka:s,za:i,ys:l,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort((f,m)=>function(y,C){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Vt:V})}};return O(y)-O(C)}(f.type,m.type)||this.Ua(f.doc,m.doc)),this.Ha(i),r=r!=null&&r;const l=n&&!r?this.Ja():[],u=this.$a.size===0&&this.current&&!r?1:0,c=u!==this.Qa;return this.Qa=u,s.length!==0||c?{snapshot:new qs(this.query,e.Ka,a,s,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new B_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=_e(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const n=[];return e.forEach(i=>{this.$a.has(i)||n.push(new WA(i))}),this.$a.forEach(i=>{e.has(i)||n.push(new ZA(i))}),n}Xa(e){this.qa=e.Ns,this.$a=_e();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return qs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const lp="SyncEngine";class cM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class hM{constructor(e){this.key=e,this.tu=!1}}class fM{constructor(e,n,i,r,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Da(l=>pA(l),zh),this.iu=new Map,this.su=new Set,this.ou=new Je(ne.comparator),this._u=new Map,this.au=new Zg,this.uu={},this.cu=new Map,this.lu=Hs.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function dM(t,e,n=!0){const i=rb(t);let r;const a=i.ru.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.eu()):r=await JA(i,e,n,!0),r}async function mM(t,e){const n=rb(t);await JA(n,e,!0,!1)}async function JA(t,e,n,i){const r=await NN(t.localStore,ni(e)),a=r.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return i&&(l=await gM(t,e,a,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&GA(t.remoteStore,r),l}async function gM(t,e,n,i,r){t.Pu=(m,g,y)=>async function(O,V,T,E){let b=V.view.Ga(T);b.ys&&(b=await x_(O.localStore,V.query,!1).then(({documents:p})=>V.view.Ga(p,b)));const N=E&&E.targetChanges.get(V.targetId),B=E&&E.targetMismatches.get(V.targetId)!=null,q=V.view.applyChanges(b,O.isPrimaryClient,N,B);return F_(O,V.targetId,q.Ya),q.snapshot}(t,m,g,y);const a=await x_(t.localStore,e,!0),s=new uM(e,a.Ns),l=s.Ga(a.documents),u=Jl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=s.applyChanges(l,t.isPrimaryClient,u);F_(t,n,c.Ya);const f=new cM(e,n,s);return t.ru.set(e,f),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function pM(t,e,n){const i=ce(t),r=i.ru.get(e),a=i.iu.get(r.targetId);if(a.length>1)return i.iu.set(r.targetId,a.filter(s=>!zh(s,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Tm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&tp(i.remoteStore,r.targetId),bm(i,r.targetId)}).catch(to)):(bm(i,r.targetId),await Tm(i.localStore,r.targetId,!0))}async function yM(t,e){const n=ce(t),i=n.ru.get(e),r=n.iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tp(n.remoteStore,i.targetId))}async function vM(t,e,n){const i=wM(t);try{const r=await function(s,l){const u=ce(s),c=_t.now(),f=l.reduce((y,C)=>y.add(C.key),_e());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=zi(),O=_e();return u.Cs.getEntries(y,f).next(V=>{C=V,C.forEach((T,E)=>{E.isValidDocument()||(O=O.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(V=>{m=V;const T=[];for(const E of l){const b=NO(E,m.get(E.key).overlayedDocument);b!=null&&T.push(new Oa(E.key,b,lA(b.value.mapValue),Ni.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,T,l)}).next(V=>{g=V;const T=V.applyToLocalDocumentSet(m,O);return u.documentOverlayCache.saveOverlays(y,V.batchId,T)})}).then(()=>({batchId:g.batchId,changes:_A(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,u){let c=s.uu[s.currentUser.toKey()];c||(c=new Je(de)),c=c.insert(l,u),s.uu[s.currentUser.toKey()]=c}(i,r.batchId,n),await tu(i,r.changes),await Kh(i.remoteStore)}catch(r){const a=sp(r,"Failed to persist write");n.reject(a)}}async function eb(t,e){const n=ce(t);try{const i=await CN(n.localStore,e);e.targetChanges.forEach((r,a)=>{const s=n._u.get(a);s&&(Ce(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.tu=!0:r.modifiedDocuments.size>0?Ce(s.tu,14607):r.removedDocuments.size>0&&(Ce(s.tu,42227),s.tu=!1))}),await tu(n,i,e)}catch(i){await to(i)}}function q_(t,e,n){const i=ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ru.forEach((a,s)=>{const l=s.view.ga(e);l.snapshot&&r.push(l.snapshot)}),function(s,l){const u=ce(s);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.Ra)g.ga(l)&&(c=!0)}),c&&op(u)}(i.eventManager,e),r.length&&i.nu.Q_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function _M(t,e,n){const i=ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i._u.get(e),a=r&&r.key;if(a){let s=new Je(ne.comparator);s=s.insert(a,zt.newNoDocument(a,ue.min()));const l=_e().add(a),u=new qh(ue.min(),new Map,new Je(de),s,l);await eb(i,u),i.ou=i.ou.remove(a),i._u.delete(e),up(i)}else await Tm(i.localStore,e,!1).then(()=>bm(i,e,n)).catch(to)}async function EM(t,e){const n=ce(t),i=e.batch.batchId;try{const r=await IN(n.localStore,e);nb(n,i,null),tb(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await tu(n,r)}catch(r){await to(r)}}async function TM(t,e,n){const i=ce(t);try{const r=await function(s,l){const u=ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(Ce(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);nb(i,e,n),tb(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await tu(i,r)}catch(r){await to(r)}}function tb(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function nb(t,e,n){const i=ce(t);let r=i.uu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),i.uu[i.currentUser.toKey()]=r}}function bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.iu.get(e))t.ru.delete(i),n&&t.nu.Tu(i,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(i=>{t.au.containsKey(i)||ib(t,i)})}function ib(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(tp(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),up(t))}function F_(t,e,n){for(const i of n)i instanceof ZA?(t.au.addReference(i.key,e),SM(t,i)):i instanceof WA?(Y(lp,"Document no longer in limbo: "+i.key),t.au.removeReference(i.key,e),t.au.containsKey(i.key)||ib(t,i.key)):ie(19791,{Iu:i})}function SM(t,e){const n=e.key,i=n.path.canonicalString();t.ou.get(n)||t.su.has(i)||(Y(lp,"New document in limbo: "+n),t.su.add(i),up(t))}function up(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ne(Ye.fromString(e)),i=t.lu.next();t._u.set(i,new hM(n)),t.ou=t.ou.insert(n,i),GA(t.remoteStore,new mr(ni(gA(n.path)),i,"TargetPurposeLimboResolution",Ph.le))}}async function tu(t,e,n){const i=ce(t),r=[],a=[],s=[];i.ru.isEmpty()||(i.ru.forEach((l,u)=>{s.push(i.Pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=Jg.Ps(u.targetId,c);a.push(m)}}))}),await Promise.all(s),i.nu.Q_(r),await async function(u,c){const f=ce(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>k.forEach(c,g=>k.forEach(g.ls,y=>f.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>k.forEach(g.hs,y=>f.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!no(m))throw m;Y(ep,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const y=f.Ss.get(g),C=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(C);f.Ss=f.Ss.insert(g,O)}}}(i.localStore,a))}async function AM(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Y(lp,"User change. New user:",e.toKey());const i=await jA(n.localStore,e);n.currentUser=e,function(a,s){a.cu.forEach(l=>{l.forEach(u=>{u.reject(new te(H.CANCELLED,s))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tu(n,i.Ms)}}function bM(t,e){const n=ce(t),i=n._u.get(e);if(i&&i.tu)return _e().add(i.key);{let r=_e();const a=n.iu.get(e);if(!a)return r;for(const s of a){const l=n.ru.get(s);r=r.unionWith(l.view.Wa)}return r}}function rb(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.nu.Q_=sM.bind(null,e.eventManager),e.nu.Tu=oM.bind(null,e.eventManager),e}function wM(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TM.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return RN(this.persistence,new AN,e.initialUser,this.serializer)}Ru(e){return new BA(Wg.Ei,this.serializer)}Au(e){return new VN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class RM extends sh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ce(this.persistence.referenceDelegate instanceof rh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new lN(i,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new BA(i=>rh.Ei(i,n),this.serializer)}}class wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AM.bind(null,this.syncEngine),await tM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iM}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),i=function(a){return new kN(a)}(e.databaseInfo);return function(a,s,l,u){return new HN(a,s,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,a,s,l){return new FN(i,r,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>q_(this.syncEngine,n,0),function(){return U_.C()?new U_:new xN}())}createSyncEngine(e,n){return function(r,a,s,l,u,c,f){const m=new fM(r,a,s,l,u,c);return f&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=ce(r);Y(Sa,"RemoteStore shutting down."),a.aa.add(5),await eu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class CM{constructor(e,n,i,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=kt.UNAUTHENTICATED,this.clientId=WS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async s=>{Y(Ur,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(Y(Ur,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=sp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function id(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Ur,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await jA(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DM(t);Y(Ur,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>z_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>z_(e.remoteStore,r)),t._onlineComponents=e}async function DM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Ur,"Using user provided OfflineComponentProvider");try{await id(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===H.FAILED_PRECONDITION||r.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),await id(t,new sh)}}else Y(Ur,"Using default OfflineComponentProvider"),await id(t,new RM(void 0));return t._offlineComponents}async function ab(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Ur,"Using user provided OnlineComponentProvider"),await G_(t,t._uninitializedComponentsProvider._online)):(Y(Ur,"Using default OnlineComponentProvider"),await G_(t,new wm))),t._onlineComponents}function OM(t){return ab(t).then(e=>e.syncEngine)}async function NM(t){const e=await ab(t),n=e.eventManager;return n.onListen=dM.bind(null,e.syncEngine),n.onUnlisten=pM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yM.bind(null,e.syncEngine),n}function MM(t,e,n={}){const i=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,u,c){const f=new IM({next:g=>{f.yu(),s.enqueueAndForget(()=>aM(a,m)),g.fromCache&&u.source==="server"?c.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new lM(l,f,{includeMetadataChanges:!0,Fa:!0});return rM(a,m)}(await NM(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e,n){if(!n)throw new te(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VM(t,e,n,i){if(e===!0&&i===!0)throw new te(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q_(t){if(!ne.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Y_(t){if(ne.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function oh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cp(t);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firestore.googleapis.com",X_=!0;class $_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lb,this.ssl=X_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:X_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sN)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new L2;switch(i.type){case"firstParty":return new B2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=K_.get(n);i&&(Y("ComponentProvider","Removing Datastore"),K_.delete(n),i.terminate())}(this),Promise.resolve()}}function xM(t,e,n,i={}){var r;const a=(t=oh(t,Qh))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;a.host!==lb&&a.host!==l&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:i});if(!_a(u,s)&&(t._setSettings(u),i.mockUserToken)){let c,f;if(typeof i.mockUserToken=="string")c=i.mockUserToken,f=kt.MOCK_USER;else{c=hD(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kt(m)}t._authCredentials=new U2(new $S(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class Bn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Cr extends Yh{constructor(e,n,i){super(e,n,gA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new ne(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function ub(t,e,...n){if(t=pn(t),ob("collection","path",e),t instanceof Qh){const i=Ye.fromString(e,...n);return Y_(i),new Cr(t,null,i)}{if(!(t instanceof Bn||t instanceof Cr))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ye.fromString(e,...n));return Y_(i),new Cr(t.firestore,null,i)}}function PM(t,e,...n){if(t=pn(t),arguments.length===1&&(e=WS.newId()),ob("doc","path",e),t instanceof Qh){const i=Ye.fromString(e,...n);return Q_(i),new Bn(t,null,new ne(i))}{if(!(t instanceof Bn||t instanceof Cr))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ye.fromString(e,...n));return Q_(i),new Bn(t.firestore,t instanceof Cr?t.converter:null,new ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new qA(this,"async_queue_retry"),this.ju=()=>{const i=nd();i&&Y(Z_,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const n=nd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ir;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!no(e))throw e;Y(Z_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,ki("INTERNAL UNHANDLED ERROR: ",J_(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=n,n}enqueueAfterDelay(e,n,i){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const r=ap.createAndSchedule(this,e,n,i,a=>this.Xu(a));return this.Uu.push(r),r}Ju(){this.Ku&&ie(47125,{ec:J_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function J_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hp extends Qh{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new W_,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function LM(t,e){const n=typeof t=="object"?t:BS(),i=typeof t=="string"?t:Zc,r=Bg(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=uD("firestore");a&&xM(r,...a)}return r}function cb(t){if(t._terminated)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UM(t),t._firestoreClient}function UM(t){var e,n,i;const r=t._freezeSettings(),a=function(l,u,c,f){return new tO(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new CM(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(xt.fromBase64String(e))}catch(n){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fs(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^__.*__$/;class zM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}function fb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{oc:t})}}class gp{constructor(e,n,i,r,a,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:i,cc:!1});return r.lc(e),r}hc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(fb(this.oc)&&kM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class BM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Fh(e)}dc(e,n,i,r=!1){return new gp({oc:e,methodName:n,Ec:i,path:Mt.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jM(t){const e=t._freezeSettings(),n=Fh(t._databaseId);return new BM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HM(t,e,n,i,r,a={}){const s=t.dc(a.merge||a.mergeFields?2:0,e,n,r);pb("Data must be an object, but it was:",s,i);const l=mb(i,s);let u,c;if(a.merge)u=new Un(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const m of a.mergeFields){const g=qM(e,m,n);if(!s.contains(g))throw new te(H.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);GM(f,g)||f.push(g)}u=new Un(f),c=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=s.fieldTransforms;return new zM(new Rn(l),u,c)}function db(t,e){if(gb(t=pn(t)))return pb("Unsupported field value:",e,t),mb(t,e);if(t instanceof hb)return function(i,r){if(!fb(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,r){const a=[];let s=0;for(const l of i){let u=db(l,r.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(i,r){if((i=pn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return wO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=_t.fromDate(i);return{timestampValue:ih(r.serializer,a)}}if(i instanceof _t){const a=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ih(r.serializer,a)}}if(i instanceof dp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fs)return{bytesValue:MA(r.serializer,i._byteString)};if(i instanceof Bn){const a=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(a))throw r.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:$g(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof mp)return function(s,l){return{mapValue:{fields:{[sA]:{stringValue:oA},[Wc]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Tc("VectorValues must only contain numeric values.");return Qg(l.serializer,c)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${cp(i)}`)}(t,e)}function mb(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(t,(i,r)=>{const a=db(r,e.uc(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function gb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof dp||t instanceof Fs||t instanceof Bn||t instanceof hb||t instanceof mp)}function pb(t,e,n){if(!gb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=cp(n);throw i==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+i)}}function qM(t,e,n){if((e=pn(e))instanceof fp)return e._internalPath;if(typeof e=="string")return yb(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const FM=new RegExp("[~\\*/\\[\\]]");function yb(t,e,n){if(e.search(FM)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,i,r){const a=i&&!i.isEmpty(),s=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new te(H.INVALID_ARGUMENT,l+t+u)}function GM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_b("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KM extends vb{data(){return super.data()}}function _b(t,e){return typeof e=="string"?yb(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YM{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Ca(e,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,r;const a=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(s=>st(s.doubleValue));return new mp(a)}convertGeoPoint(e){return new dp(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Uh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const n=Vr(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ye.fromString(e);Ce(kA(i),9688,{name:e});const r=new Rl(i.get(1),i.get(3)),a=new ne(i.popFirst(5));return r.isEqual(n)||ki(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $M extends vb{constructor(e,n,i,r,a,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(_b("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class uc extends $M{data(e={}){return super.data(e)}}class ZM{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Hu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new uc(this._firestore,this._userDataWriter,i.key,i,new Hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{const u=new uc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hu(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new uc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hu(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:WM(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}class JM extends YM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,n)}}function eV(t){t=oh(t,Yh);const e=oh(t.firestore,hp),n=cb(e),i=new JM(e);return QM(t._query),MM(n,t._query).then(r=>new ZM(e,i,t,r))}function tV(t,e){const n=oh(t.firestore,hp),i=PM(t),r=XM(t.converter,e);return nV(n,[HM(jM(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ni.exists(!1))]).then(()=>i)}function nV(t,e){return function(i,r){const a=new Ir;return i.asyncQueue.enqueueAndForget(async()=>vM(await OM(i),r,a)),a.promise}(cb(t),e)}(function(e,n=!0){(function(r){eo=r})(Js),Us(new Ea("firestore",(i,{instanceIdentifier:r,options:a})=>{const s=i.getProvider("app").getImmediate(),l=new hp(new k2(i.getProvider("auth-internal")),new j2(s,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(c.options.projectId,f)}(s,r),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),wr(r_,a_,e),wr(r_,a_,"esm2017")})();function pp(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Eb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iV=Eb,Tb=new $l("auth","Firebase",Eb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new kg("@firebase/auth");function rV(t,...e){uh.logLevel<=ve.WARN&&uh.warn(`Auth (${Js}): ${t}`,...e)}function cc(t,...e){uh.logLevel<=ve.ERROR&&uh.error(`Auth (${Js}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw vp(t,...e)}function jn(t,...e){return vp(t,...e)}function yp(t,e,n){const i=Object.assign(Object.assign({},iV()),{[e]:n});return new $l("auth","Firebase",i).create(e,{appName:t.name})}function da(t){return yp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aV(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&oi(t,"argument-error"),yp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Tb.create(t,...e)}function oe(t,e,...n){if(!t)throw vp(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cc(e),new Error(e)}function Bi(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sV(){return eE()==="http:"||eE()==="https:"}function eE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sV()||gD()||"connection"in navigator)?navigator.onLine:!0}function lV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=fD()||pD()}get(){return oV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hV=new nu(3e4,6e4);function Ep(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ro(t,e,n,i,r={}){return Ab(t,r,async()=>{let a={},s={};i&&(e==="GET"?s=i:a={body:JSON.stringify(i)});const l=Zl(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},a);return mD()||(c.referrerPolicy="no-referrer"),Sb.fetch()(await bb(t,t.config.apiHost,n,l),c)})}async function Ab(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},uV),e);try{const r=new dV(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw qu(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qu(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw qu(t,"user-disabled",s);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw yp(t,f,c);oi(t,f)}}catch(r){if(r instanceof Hi)throw r;oi(t,"network-request-failed",{message:String(r)})}}async function fV(t,e,n,i,r={}){const a=await ro(t,e,n,i,r);return"mfaPendingCredential"in a&&oi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function bb(t,e,n,i){const r=`${e}${n}?${i}`,a=t,s=a.config.emulator?_p(t.config,r):`${t.config.apiScheme}://${r}`;return cV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class dV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(jn(this.auth,"network-request-failed")),hV.get())})}}function qu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=jn(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e){return ro(t,"POST","/v1/accounts:delete",e)}async function ch(t,e){return ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gV(t,e=!1){const n=pn(t),i=await n.getIdToken(e),r=Tp(i);oe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:sl(rd(r.auth_time)),issuedAtTime:sl(rd(r.iat)),expirationTime:sl(rd(r.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rd(t){return Number(t)*1e3}function Tp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const r=VS(n);return r?JSON.parse(r):(cc("Failed to decode base64 JWT payload"),null)}catch(r){return cc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function tE(t){const e=Tp(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Hi&&pV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function pV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ol(t,ch(n,{idToken:i}));oe(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?wb(a.providerUserInfo):[],l=_V(t.providerData,s),u=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Im(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function vV(t){const e=pn(t);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _V(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function wb(t){return t.map(e=>{var{providerId:n}=e,i=pp(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(t,e){const n=await Ab(t,{},async()=>{const i=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,s=await bb(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Sb.fetch()(s,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TV(t,e){return ro(t,"POST","/v2/accounts:revokeToken",Ep(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=tE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await EV(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,s=new Ts;return i&&(oe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(oe(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),a&&(oe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,a=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Im(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gV(this,e)}reload(){return vV(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Ol(this,mV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,a,s,l,u,c,f;const m=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,y=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:N,isAnonymous:B,providerData:q,stsTokenManager:p}=n;oe(b&&p,e,"internal-error");const v=Ts.fromJSON(this.name,p);oe(typeof b=="string",e,"internal-error"),Zi(m,e.name),Zi(g,e.name),oe(typeof N=="boolean",e,"internal-error"),oe(typeof B=="boolean",e,"internal-error"),Zi(y,e.name),Zi(C,e.name),Zi(O,e.name),Zi(V,e.name),Zi(T,e.name),Zi(E,e.name);const S=new kn({uid:b,auth:e,email:g,emailVerified:N,displayName:m,isAnonymous:B,photoURL:C,phoneNumber:y,tenantId:O,stsTokenManager:v,createdAt:T,lastLoginAt:E});return q&&Array.isArray(q)&&(S.providerData=q.map(A=>Object.assign({},A))),V&&(S._redirectEventId=V),S}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ts;r.updateFromServerResponse(n);const a=new kn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await hh(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];oe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?wb(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new Ts;l.updateFromIdToken(i);const u=new kn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Im(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;function Ii(t){Bi(t instanceof Function,"Expected a class definition");let e=nE.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rb.type="NONE";const iE=Rb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ss{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=hc(this.userKey,r.apiKey,a),this.fullPersistenceKey=hc("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ss(Ii(iE),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=r[0]||Ii(iE);const s=hc(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(s);if(f){let m;if(typeof f=="string"){const g=await ch(e,{idToken:f}).catch(()=>{});if(!g)break;m=await kn._fromGetAccountInfoResponse(e,g,f)}else m=kn._fromJSON(e,f);c!==a&&(l=m),a=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Ss(a,e,i):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ss(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(Vb(e))return"Webos";if(Cb(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(Nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ib(t=Ht()){return/firefox\//i.test(t)}function Cb(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(t=Ht()){return/crios\//i.test(t)}function Ob(t=Ht()){return/iemobile/i.test(t)}function Nb(t=Ht()){return/android/i.test(t)}function Mb(t=Ht()){return/blackberry/i.test(t)}function Vb(t=Ht()){return/webos/i.test(t)}function Sp(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SV(t=Ht()){var e;return Sp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AV(){return yD()&&document.documentMode===10}function xb(t=Ht()){return Sp(t)||Nb(t)||Vb(t)||Mb(t)||/windows phone/i.test(t)||Ob(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(t,e=[]){let n;switch(t){case"Browser":n=rE(Ht());break;case"Worker":n=`${rE(Ht())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e={}){return ro(t,"GET","/v2/passwordPolicy",Ep(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=6;class IV{constructor(e){var n,i,r,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,a,s,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aE(this),this.idTokenSubscription=new aE(this),this.beforeStateQueue=new bV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Ss.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),i=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(da(this));const n=e?pn(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wV(this),n=new IV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await TV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ss.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xh(t){return pn(t)}class aE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wD(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DV(t){Ap=t}function OV(t){return Ap.loadJS(t)}function NV(){return Ap.gapiScript}function MV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t,e){const n=Bg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(_a(a,e??{}))return r;oi(r,"already-initialized")}return n.initialize({options:e})}function xV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function PV(t,e,n){const i=Xh(t);oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=Lb(e),{host:s,port:l}=LV(e),u=l===null?"":`:${l}`,c={url:`${a}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){oe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),oe(_a(c,i.config.emulator)&&_a(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,UV()}function Lb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LV(t){const e=Lb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:sE(i.substr(a.length+1))}}else{const[a,s]=i.split(":");return{host:a,port:sE(s)}}}function sE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return fV(t,"POST","/v1/accounts:signInWithIdp",Ep(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="http://localhost";class Aa extends Ub{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,a=pp(n,["providerId","signInMethod"]);if(!i||!r)return null;const s=new Aa(i,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,As(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:kV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends iu{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Zn.credential(n,i)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends iu{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends iu{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await kn._fromIdTokenResponse(e,i,r),s=oE(i);return new Gs({user:a,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=oE(i);return new Gs({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Hi{constructor(e,n,i,r){var a;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new fh(e,n,i,r)}}function kb(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(t,a,e,i):a})}async function zV(t,e,n=!1){const i=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e,n=!1){const{auth:i}=t;if(Ln(i.app))return Promise.reject(da(i));const r="reauthenticate";try{const a=await Ol(t,kb(i,r,e,t),n);oe(a.idToken,i,"internal-error");const s=Tp(a.idToken);oe(s,i,"internal-error");const{sub:l}=s;return oe(t.uid===l,i,"user-mismatch"),Gs._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&oi(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e,n=!1){if(Ln(t.app))return Promise.reject(da(t));const i="signIn",r=await kb(t,i,e),a=await Gs._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(a.user),a}function HV(t,e,n,i){return pn(t).onIdTokenChanged(e,n,i)}function qV(t,e,n){return pn(t).beforeAuthStateChanged(e,n)}function FV(t,e,n,i){return pn(t).onAuthStateChanged(e,n,i)}function GV(t){return pn(t).signOut()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=1e3,QV=10;class Bb extends zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);AV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,QV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},KV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bb.type="LOCAL";const YV=Bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jb.type="SESSION";const Hb=jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new $h(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:a}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(s).map(async c=>c(n.origin,a)),u=await XV(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const c=wp("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function ZV(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function WV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ex(){return qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebaseLocalStorageDb",tx=1,mh="firebaseLocalStorage",Gb="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function nx(){const t=indexedDB.deleteDatabase(Fb);return new ru(t).toPromise()}function Cm(){const t=indexedDB.open(Fb,tx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(mh,{keyPath:Gb})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(mh)?e(i):(i.close(),await nx(),e(await Cm()))})})}async function lE(t,e,n){const i=Zh(t,!0).put({[Gb]:e,value:n});return new ru(i).toPromise()}async function ix(t,e){const n=Zh(t,!1).get(e),i=await new ru(n).toPromise();return i===void 0?null:i.value}function uE(t,e){const n=Zh(t,!0).delete(e);return new ru(n).toPromise()}const rx=800,ax=3;class Kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>ax)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(ex()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WV(),!this.activeServiceWorker)return;this.sender=new $V(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cm();return await lE(e,dh,"1"),await uE(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>lE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>ix(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=Zh(r,!1).getAll();return new ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kb.type="LOCAL";const sx=Kb;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t,e){return e?Ii(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Ub{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ox(t){return jV(t.auth,new Rp(t),t.bypassAuthState)}function lx(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),BV(n,new Rp(t),t.bypassAuthState)}async function ux(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),zV(n,new Rp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ox;case"linkViaPopup":case"linkViaRedirect":return ux;case"reauthViaPopup":case"reauthViaRedirect":return lx;default:oi(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new nu(2e3,1e4);async function hx(t,e,n){if(Ln(t.app))return Promise.reject(jn(t,"operation-not-supported-in-this-environment"));const i=Xh(t);aV(t,e,bp);const r=Qb(i,n);return new aa(i,"signInViaPopup",e,r).executeNotNull()}class aa extends Yb{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,aa.currentPopupAction&&aa.currentPopupAction.cancel(),aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cx.get())};e()}}aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="pendingRedirect",fc=new Map;class dx extends Yb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=fc.get(this.auth._key());if(!e){try{const i=await mx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}fc.set(this.auth._key(),e)}return this.bypassAuthState||fc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mx(t,e){const n=yx(e),i=px(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function gx(t,e){fc.set(t._key(),e)}function px(t){return Ii(t._redirectPersistence)}function yx(t){return hc(fx,t.config.apiKey,t.name)}async function vx(t,e,n=!1){if(Ln(t.app))return Promise.reject(da(t));const i=Xh(t),r=Qb(i,e),s=await new dx(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=10*60*1e3;class Ex{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Xb(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_x&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e={}){return ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bx=/^https?/;async function wx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Sx(t);for(const n of e)try{if(Rx(n))return}catch{}oi(t,"unauthorized-domain")}function Rx(t){const e=Rm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!bx.test(n))return!1;if(Ax.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new nu(3e4,6e4);function hE(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Cx(t){return new Promise((e,n)=>{var i,r,a;function s(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(jn(t,"network-request-failed"))},timeout:Ix.get()})}if(!((r=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)s();else{const l=MV("iframefcb");return ri()[l]=()=>{gapi.load?s():n(jn(t,"network-request-failed"))},OV(`${NV()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw dc=null,e})}let dc=null;function Dx(t){return dc=dc||Cx(t),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new nu(5e3,15e3),Nx="__/auth/iframe",Mx="emulator/auth/iframe",Vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Px(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_p(e,Mx):`https://${t.config.authDomain}/${Nx}`,i={apiKey:e.apiKey,appName:t.name,v:Js},r=xx.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${Zl(i).slice(1)}`}async function Lx(t){const e=await Dx(t),n=ri().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Px(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vx,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const s=jn(t,"network-request-failed"),l=ri().setTimeout(()=>{a(s)},Ox.get());function u(){ri().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,zx=600,Bx="_blank",jx="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hx(t,e,n,i=kx,r=zx){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Ux),{width:i.toString(),height:r.toString(),top:a,left:s}),c=Ht().toLowerCase();n&&(l=Db(c)?Bx:n),Ib(c)&&(e=e||jx,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(SV(c)&&l!=="_self")return qx(e||"",l),new fE(null);const m=window.open(e||"",l,f);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new fE(m)}function qx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__/auth/handler",Gx="emulator/auth/handler",Kx=encodeURIComponent("fac");async function dE(t,e,n,i,r,a){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Js,eventId:r};if(e instanceof bp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",bD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))s[f]=m}if(e instanceof iu){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${Kx}=${encodeURIComponent(u)}`:"";return`${Qx(t)}?${Zl(l).slice(1)}${c}`}function Qx({config:t}){return t.emulator?_p(t,Gx):`https://${t.authDomain}/${Fx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="webStorageSupport";class Yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hb,this._completeRedirectFn=vx,this._overrideRedirectResult=gx}async _openPopup(e,n,i,r){var a;Bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await dE(e,n,i,Rm(),r);return Hx(e,s,wp())}async _openRedirect(e,n,i,r){await this._originValidation(e);const a=await dE(e,n,i,Rm(),r);return ZV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Bi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await Lx(e),i=new Ex(e);return n.register("authEvent",r=>(oe(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ad,{type:ad},r=>{var a;const s=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[ad];s!==void 0&&n(!!s),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xb()||Cb()||Sp()}}const Xx=Yx;var mE="@firebase/auth",gE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Wx(t){Us(new Ea("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=i.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pb(t)},c=new CV(i,r,a,u);return xV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Us(new Ea("auth-internal",e=>{const n=Xh(e.getProvider("auth").getImmediate());return(i=>new $x(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(mE,gE,Zx(t)),wr(mE,gE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=5*60,eP=LS("authIdTokenMaxAge")||Jx;let pE=null;const tP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>eP)return;const r=n==null?void 0:n.token;pE!==r&&(pE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function $b(t=BS()){const e=Bg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VV(t,{popupRedirectResolver:Xx,persistence:[sx,YV,Hb]}),i=LS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const s=tP(a.toString());qV(n,s,()=>s(n.currentUser)),HV(n,l=>s(l))}}const r=xS("auth");return r&&PV(n,`http://${r}`),n}function nP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const a=jn("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",nP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Wx("Browser");var iP="firebase",rP="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(iP,rP,"app");const aP={apiKey:"AIzaSyDMzcJXkV228PInQSx5fQeakoFUqiHW-1k",authDomain:"piw-lab3-project.firebaseapp.com",projectId:"piw-lab3-project",storageBucket:"piw-lab3-project.appspot.com",messagingSenderId:"536355846799",appId:"1:536355846799:web:c513f81c1db143a29d24efa"},Ip=zS(aP),Zb=LM(Ip),Wb=$b(Ip);new Zn;const Wh=U.createContext(),sP=({children:t})=>{const[e,n]=U.useState([]),[i,r]=U.useState(""),[a,s]=U.useState(""),[l,u]=U.useState(!1),[c,f]=U.useState(!1),[m,g]=U.useState(""),[y,C]=U.useState(""),[O,V]=U.useState(""),[T,E]=U.useState(!1),[b,N]=U.useState(null);U.useEffect(()=>{const q=FV(Wb,p=>{N(p)});return()=>q()},[]),U.useEffect(()=>{(async()=>{try{const v=(await eV(ub(Zb,"books"))).docs.map(S=>({id:S.id,...S.data()}));n(v)}catch(p){console.error("Error fetching books from Firestore:",p)}})()},[]);const B=e.filter(q=>!(T&&b&&q.owner!==b.uid||i&&!q.title.toLowerCase().includes(i.toLowerCase())||a&&!q.author.toLowerCase().includes(a.toLowerCase())||l&&!c&&q.cover!=="hard"||c&&!l&&q.cover!=="soft"||m&&q.pages<parseInt(m,10)||y&&q.pages>parseInt(y,10)||O&&!q.description.toLowerCase().includes(O.toLowerCase())));return G.jsx(Wh.Provider,{value:{bookList:B,setBookList:n,titleFilter:i,setTitleFilter:r,authorFilter:a,setAuthorFilter:s,hardCoverFilter:l,setHardCoverFilter:u,softCoverFilter:c,setSoftCoverFilter:f,minPagesFilter:m,setMinPagesFilter:g,maxPagesFilter:y,setMaxPagesFilter:C,descFilter:O,setDescFilter:V,showOnlyMine:T,setShowOnlyMine:E,currentUser:b},children:t})};function oP(){return G.jsxs(sP,{children:[G.jsx(JC,{}),G.jsx("main",{className:"pt-16 p-4 container mx-auto",children:G.jsx(CC,{})}),G.jsx(eD,{})]})}function lP(){const{titleFilter:t,setTitleFilter:e,authorFilter:n,setAuthorFilter:i,hardCoverFilter:r,setHardCoverFilter:a,softCoverFilter:s,setSoftCoverFilter:l,minPagesFilter:u,setMinPagesFilter:c,maxPagesFilter:f,setMaxPagesFilter:m,descFilter:g,setDescFilter:y,showOnlyMine:C,setShowOnlyMine:O,currentUser:V}=U.useContext(Wh);return G.jsxs("form",{className:"book-filters",children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"titleFilter",children:"Title:"}),G.jsx("input",{id:"titleFilter",type:"text",value:t,placeholder:"Search by title",onChange:T=>e(T.target.value)})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"authorFilter",children:"Author:"}),G.jsx("input",{id:"authorFilter",type:"text",value:n,placeholder:"Search by author",onChange:T=>i(T.target.value)})]}),G.jsxs("div",{children:[G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:r,onChange:T=>a(T.target.checked)}),"Hard Cover"]}),G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:s,onChange:T=>l(T.target.checked)}),"Soft Cover"]})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"minPages",children:"Min Pages:"}),G.jsx("input",{id:"minPages",type:"number",value:u,onChange:T=>c(T.target.value)})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"maxPages",children:"Max Pages:"}),G.jsx("input",{id:"maxPages",type:"number",value:f,onChange:T=>m(T.target.value)})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"descFilter",children:"Word in Description:"}),G.jsx("input",{id:"descFilter",type:"text",value:g,placeholder:"Search text in description",onChange:T=>y(T.target.value)})]}),V&&G.jsx("div",{children:G.jsxs("label",{children:[G.jsx("input",{type:"checkbox",checked:C,onChange:T=>O(T.target.checked)}),"Only my books"]})})]})}function uP(){const{bookList:t}=U.useContext(Wh);if(t.length===0)return G.jsx("p",{children:"No books found"});const e=i=>{alert(`Edit: ${i.title}`)},n=i=>{alert(`Delete: ${i.title}`)};return G.jsx("ul",{children:t.map(i=>G.jsxs("li",{style:{marginBottom:"8px"},children:[G.jsx("strong",{children:i.title})," - ",i.author," (",i.pages," pages)",G.jsx("button",{style:{marginLeft:"12px",marginRight:"8px"},onClick:()=>e(i),children:"Edit"}),G.jsx("button",{onClick:()=>n(i),children:"Delete"})]},i.id))})}function cP(){return G.jsxs("div",{children:[G.jsx("h1",{children:"Apple Worm 2.0 - Library"}),G.jsx(lP,{}),G.jsx(uP,{})]})}function hP(){const{setBookList:t}=U.useContext(Wh),[e,n]=U.useState(""),[i,r]=U.useState(""),[a,s]=U.useState("hard"),[l,u]=U.useState(""),[c,f]=U.useState(""),m=Ug(),g=async y=>{y.preventDefault();const C=Wb.currentUser;if(!C){alert("You must be logged in to add a book.");return}const O={title:e,author:i,cover:a,pages:parseInt(l,10)||0,description:c,owner:C.uid};try{await tV(ub(Zb,"books"),O),t(V=>[...V,O]),m("/")}catch(V){console.error("Error adding book:",V),alert("Failed to add book. Check console for details.")}};return G.jsxs("div",{children:[G.jsx("h1",{children:"Add a New Book"}),G.jsxs("form",{onSubmit:g,className:"new-book-form",children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"title",children:"Title:"}),G.jsx("input",{id:"title",type:"text",value:e,placeholder:"Book title",onChange:y=>n(y.target.value),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"author",children:"Author:"}),G.jsx("input",{id:"author",type:"text",value:i,placeholder:"Author name",onChange:y=>r(y.target.value),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{children:"Cover Type:"}),G.jsxs("div",{children:[G.jsxs("label",{children:[G.jsx("input",{type:"radio",name:"cover",value:"hard",checked:a==="hard",onChange:()=>s("hard")}),"Hard Cover"]}),G.jsxs("label",{children:[G.jsx("input",{type:"radio",name:"cover",value:"soft",checked:a==="soft",onChange:()=>s("soft")}),"Soft Cover"]})]})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"pages",children:"Number of Pages:"}),G.jsx("input",{id:"pages",type:"number",value:l,onChange:y=>u(y.target.value),required:!0})]}),G.jsxs("div",{children:[G.jsx("label",{htmlFor:"description",children:"Description:"}),G.jsx("textarea",{id:"description",rows:"3",value:c,placeholder:"Brief description of the book",onChange:y=>f(y.target.value)})]}),G.jsx("button",{type:"submit",children:"Add Book"})]})]})}function fP(){const[t,e]=U.useState(null),n=$b(Ip),i=new Zn,r=Ug();U.useEffect(()=>{const l=n.onAuthStateChanged(u=>{e(u)});return()=>l()},[]);const a=async()=>{try{await hx(n,i),r("/")}catch(l){console.error("Login error:",l)}},s=async()=>{try{await GV(n),e(null)}catch(l){console.error("Logout error:",l)}};return G.jsxs("div",{className:"p-4",children:[G.jsx("h1",{children:"Login"}),t?G.jsxs("div",{children:[G.jsxs("p",{children:["Welcome, ",t.displayName]}),G.jsx("button",{onClick:s,children:"Logout"})]}):G.jsx("button",{onClick:a,children:"Login with Google"})]})}const dP=LC([{path:"/",element:G.jsx(oP,{}),children:[{index:!0,element:G.jsx(cP,{})},{path:"new",element:G.jsx(hP,{})},{path:"login",element:G.jsx(fP,{})}]}]);mI.createRoot(document.getElementById("root")).render(G.jsx(IE.StrictMode,{children:G.jsx(FC,{router:dP})}));
